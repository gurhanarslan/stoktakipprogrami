(function(e){function t(t){for(var a,n,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/stoktakipprogrami/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;r.push([1,"chunk-vendors"]),s()})({0:function(e,t){},"034f":function(e,t,s){"use strict";var a=s("85ec"),i=s.n(a);i.a},"0a31":function(e,t,s){"use strict";var a=s("933f"),i=s.n(a);i.a},"0acc":function(e,t,s){},"0efb":function(e,t,s){},"0efd":function(e,t,s){"use strict";var a=s("cd1f"),i=s.n(a);i.a},1:function(e,t,s){e.exports=s("56d7")},1432:function(e,t,s){},"1f37":function(e,t,s){"use strict";var a=s("b5fd"),i=s.n(a);i.a},2:function(e,t){},"21e4":function(e,t,s){e.exports=s.p+"img/tim_80x80.44bf13a7.png"},"23dd":function(e,t,s){"use strict";var a=s("a493"),i=s.n(a);i.a},"24de":function(e,t,s){},"26aa":function(e,t,s){"use strict";var a=s("0efb"),i=s.n(a);i.a},3:function(e,t){},3301:function(e,t,s){"use strict";var a=s("7fcd"),i=s.n(a);i.a},4020:function(e,t,s){},"46c7":function(e,t,s){},5436:function(e,t,s){"use strict";var a=s("738c"),i=s.n(a);i.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e623"),s("e379"),s("5dc8"),s("37e1");var a=s("2b0e"),i=s("8c4f"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.loading?s("div",{staticClass:"text-center"},[e._m(0)]):s("div",[s("router-view")],1)])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])}],o=s("5530"),l=(s("d3b7"),s("2f62"));s("4160"),s("a434"),s("b0c0"),s("159b");a["default"].use(l["a"]);var c={tarifeTable:[],definition:[],token:"",company:[],times:[{value:"8-12",label:"8-12"},{value:"10-14",label:"10-14"},{value:"12-16",label:"12-16"},{value:"14-18",label:"14-18"}],status:[{value:"Nsubmitted",label:"Nicht Übermittelt"},{value:"transmitted",label:"Übermittelt"},{value:"Nprovided",label:"Nicht Bereitgestellt"},{value:"provided",label:"Bereitgestellt"},{value:"Nhandover",label:"Nicht Übergeben"},{value:"handover",label:"Übergeben"}],lager:["Außenlager","Hauslager"],today:null},u={getDefinition:function(e){return e.definition},getTarifeTable:function(e){return e.tarifeTable},getToken:function(e){return e.token},getBranch:function(e){var t=[];return e.company.forEach((function(e){e.isActive&&t.push(e)})),t},getTimes:function(e){return e.times},getStatus:function(e){return e.status},getLager:function(e){return e.lager},getToday:function(e){return e.today}},d={setCompanies:function(e,t){e.company=t.body},setToken:function(e){localStorage.setItem("authKey","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOjYsIlVzZXJuYW1lIjoidmVsaSIsImV4cCI6MTU4NDQ1Njk5N30.clF2BEW4QqPWanXiJ2civHMvW-XD5jGUuO_51hkIHUM"),e.token=localStorage.getItem("authKey")},setToday:function(e,t){e.today=t},setNewBranch:function(e,t){e.company.unshift(t)},setTarifeTable:function(e,t){e.tarifeTable=t.body},setUpDefinition:function(e,t){e.definition=t}},m={initSetupDefinitionTable:function(e){return ie("setupDefinition?limit=25").then((function(t){if(console.log(t),null!=t.body)return e.commit("setUpDefinition",t.body),"success"}))},initTarifeTable:function(e){return ie("setupDefinition?filter=description:0").then((function(t){return e.commit("setTarifeTable",t),"success"}))},initTarifeTableOptions:function(e,t){return ie("setupDefinition?filter=parentId:"+t).then((function(e){var t=e.body,s=[];if(null==e.body)t=[];else{for(var a=0;a<e.body.length;a++)"0"==e.body[a].name&&s.push(a);s.sort().reverse();for(var i=0;i<s.length;i++)t.splice(s[i],1)}return{body:t}}))},initCompanyTable:function(e){return ie("company?sortby=id&order=asc").then((function(t){return e.commit("setCompanies",t),"success"})).catch((function(e){return"err"}))},sendNewBranch:function(e,t){e.commit("setNewBranch",t)}},h={state:c,getters:u,mutations:d,actions:m},p=(s("4de4"),s("7f63")),f=function(e){var t=p.encrypt(e,"abc123");return t},g=function(e){var t=p.decrypt(e,"abc123");return t};a["default"].use(l["a"]);var b={users:[],isAuth:!1,activeUser:[],tokenNa:null,userPassword:"",tokenHa:null},v={getUserPassword:function(e){return e.userPassword},getUsers:function(e){return e.users},getTokenNa:function(e){return e.tokenNa},getTokenHa:function(e){return e.tokenHa},getIsAuth:function(e){return e.isAuth},getActiveUser:function(e){return e.activeUser}},k={setUserTable:function(e,t){e.users=t.body},setToLogin:function(e,t){e.isAuth=!0,e.activeUser=t;var s=t.tokenNa,a=t.tokenHa;e.tokenNa=t.tokenNa,e.tokenHa=t.tokenHa;var i=f(s),r=f(a);localStorage.setItem("token_N_a",i),localStorage.setItem("token_H_a",r);var n=f(JSON.stringify(t));localStorage.setItem("tokenId",n)},setActiveUser:function(e,t){e.activeUser=t},hasToken:function(e,t){e.isAuth=t},setNewUser:function(e,t){e.users.unshift(t)}},w={initUserTable:function(e){return ie("user?limit=150").then((function(t){return e.commit("setUserTable",t),"success"})).catch((function(e){return"err"}))},sendNewUser:function(e,t){return me("password",{password:t.password}).then((function(s){var a=t.password;return e.state.userPassword=t.password,t.password=s.result,ce("user",t).then((function(s){if(null!=s.result)return le({userId:s.result,password:a}).then((function(s){if("success"==s.status)return e.commit("setNewUser",t),"success"}))}))}))},toLogin:function(e,t){var s=e.state.users,a="fail",i="";return s.filter((function(s){s.username==t.username&&s.isActive&&(0==s.companyId?i="All":e.rootState.branch.company.forEach((function(e){s.companyId==e.id&&(i=e.name)})),e.commit("setToLogin",Object(o["a"])({},s,{companyName:i,tokenNa:t.tokenNa,tokenHa:t.tokenHa})),a="success")})),a},hasToken:function(e,t){e.commit("hasToken",t),e.commit("setCustomersForBranch",e.state.activeUser)},toLogout:function(e){return localStorage.clear(),e.state.isAuth=!1,e.rootState.customers.customersAll=[],e.state.activeUser=[],"Logout"}},y={state:b,getters:v,mutations:k,actions:w};a["default"].use(l["a"]);var C={permissions:[{date:"20.04.2020",time:"10-14",branch:"Alex",permission:1},{date:"20.04.2020",time:"10-10",branch:"EG",permission:1},{date:"20.04.2020",time:"10-12",branch:"MZ",permission:1},{date:"20.04.2020",time:"10-12",branch:"Postdam",permission:1}]},x={getPermissions:function(e){return e.permissions}},_={setPushPermission:function(e,t){e.permissions.unshift(t)}},I={pushPermissions:function(e,t){return ce("companyAddRight",{companyId:t.branch,quantity:t.permission,atTime:t.time,atDate:t.date}).then((function(s){return e.commit("setPushPermission",{id:s.result,companyId:t.branch,quantity:t.permission,atTime:t.time,atDate:t.date}),{status:"success",data:{id:s.result,companyId:t.branch,quantity:t.permission,atTime:t.time,atDate:t.date}}}))}},S={state:C,getters:x,mutations:_,actions:I},T=(s("caad"),s("a15b"),s("ac1f"),s("2532"),s("5319"),s("1276"),s("3835")),P=function(e){var t=e.split("-"),s=Object(T["a"])(t,3),a=s[0],i=s[1],r=s[2];return r+"."+i+"."+a},N=function(e){e+="";var t=e.split(" "),s=Object(T["a"])(t,4),a=(s[0],s[1]),i=s[2],r=s[3];switch(a){case"Jan":a="01";break;case"Feb":a="02";break;case"Mar":a="03";break;case"Apr":a="04";break;case"May":a="05";break;case"Jun":a="06";break;case"Jul":a="07";break;case"Aug":a="08";break;case"Sep":a="09";break;case"Oct":a="10";break;case"Nov":a="11";break;case"Dec":a="12";break;default:break}var n=r+"-"+a+"-"+i;return n},A=function(e){var t;return e.includes("-")?t=e.replace(/-/g,""):e.includes(".")&&(t=e.replace(/./g,"")),t++,t},D=function(e){var t=e.substr(0,10),s=t.split("-"),a=Object(T["a"])(s,3),i=a[0],r=a[1],n=a[2];return n+"."+r+"."+i},B=function(e){var t=e.substr(0,10),s=t.split("."),a=Object(T["a"])(s,3),i=a[0],r=a[1],n=a[2];return n+"-"+r+"-"+i},L={customersAll:[],customers:[],customersBranch:[]},E={getCustomers:function(e){return e.customersAll}},O={setNewCustomer:function(e,t){t.setupDate=P(t.setupDate),e.customersAll.unshift(Object(o["a"])({},t))},setCustomersForBranch:function(e,t){e.customers=[],e.customersAll.filter((function(s){0==t.companyId?e.customers=e.customersAll:s.branch==t.companyId&&s.isActive&&e.customers.push(s)}))},setOrderTable:function(e,t){null==t.data?e.customersAll=[]:(t.data.forEach((function(e){e.setupDate=D(e.setupDate)})),e.customersAll=t.data)}},U={initOrdersTable:function(e,t){return oe("ghs/orderList",{companyId:t}).then((function(t){return t.status?(e.commit("setOrderTable",t),"success"):"fail"}))},sendNewCustomer:function(e,t){return ce("orders",t).then((function(s){return e.commit("setNewCustomer",Object(o["a"])({},t,{id:s.result})),{status:"success",id:s.result}}))},sendPutCustomer:function(e,t){ue("orders",t.id,{beleg:t.beleg,companyId:t.companyId,customerAddress:t.customerAddress,customerLastname:t.customerLastname,customerName:t.customerName,customerPhone:t.customerPhone,zipCode:t.zipCode,isAus:t.isAus,isHaus:t.isHaus,isExpress:t.isExpress,orderNote:t.orderNote,isOldMachine:t.isOldMachine}).then((function(e){}))}},z={state:L,getters:E,mutations:O,actions:U};a["default"].use(l["a"]);var M={trucks:[],trucksItem:[],resultTruck:[],truckOrder:[]},j={getTrucks:function(e){return e.trucks},getTrucksItem:function(e){return e.trucksItem},getTruckOrder:function(e){return e.truckOrder}},H={setNewDriver:function(e,t){e.trucks.push({id:12,name:t})},setTruckItem:function(e,t){e.trucksItem.push(t)},setRemoveTruck:function(e,t){e.trucks.splice(t.index,1)},removeTruckItem:function(e){e.trucksItem=[]},setTruckTable:function(e,t){e.trucks=t.body},setOrdersForTruck:function(e,t){e.truckOrder=t}},F={initOrdersForTruck:function(e,t){return e.state.truckOrder=[],ie('orders?filter=setupDate:"'+t+'",isActive:1').then((function(t){return e.commit("setOrdersForTruck",t.body),"success"}))},initTruckTable:function(e){return ie("truck").then((function(t){return e.commit("setTruckTable",t),{result:"success",body:t}}))},sendNewDriver:function(e,t){e.commit("setNewDriver",t)},sendTruckItem:function(e,t){var s=t.data;s.forEach((function(s){ue("orders",s.id,{truckId:t.truckId}).then((function(s){e.commit("setTruckItem",t)}))}))},sendTruckOrdersItem:function(e,t){var s=!0;0!=e.state.trucksItem.length?(e.state.trucksItem.forEach((function(e){e.truckId==t.truckId&&(e.data.push(t.data[0]),s=!1)})),s&&e.state.trucksItem.push(t)):e.state.trucksItem.push(t)},removeTruck:function(e,t){e.commit("setRemoveTruck",t)}},W={state:M,getters:j,mutations:H,actions:F};s("c975"),s("d81d");a["default"].use(l["a"]);var G={goods:[],branchItemsQauntity:[],lagers:[],productsBelegNum:[],freeProduct:[],freeBranchProduct:[],branchId:null,id:0,nausgang:"branchOverview",wareHouseProduct:[]},V={getwareHouseProduct:function(e){return e.wareHouseProduct},getNausgang:function(e){return e.nausgang},getQuantityProductInLagerForBranch:function(e){var t={branchName:"",data:[]},s=!1,a=[];for(var i in e.lagers.forEach((function(s){e.branchId==s.branchId&&(t.branchName=e.branchId,s.data.forEach((function(e){a.push(e)})))})),a)if(s=!1,0==t.data.length)t.data.push(Object(o["a"])({},a[i],{menge:1}));else{for(var r in t.data)t.data[r].artikelNum==a[i].artikelNum&&(t.data[r].menge++,s=!0);s||t.data.push(Object(o["a"])({},a[i],{menge:1}))}return t},getLagers:function(e){return e.lagers},getFreeProduct:function(e){return e.freeProduct},getFreeBranchProduct:function(e){return e.freeBranchProduct},getProductsBelegNum:function(e){return e.productsBelegNum},getGoods:function(e){return e.goods},getId:function(e){return e.id},getBranchItemsQauntity:function(e){return e.branchItemsQauntity}},q={setBranchItemsQauntity:function(e,t){e.branchItemsQauntity=t},setLagers:function(e,t){e.lagers.push(t)},setId:function(e){e.id++},setBranchId:function(e,t){e.branchId=t},setFreeProduct:function(e,t){e.freeProduct.push(t)},setNewItemsForLagerInBranch:function(e,t){for(var s=0;s<t.items.length;s++)e.freeBranchProduct.push(Object(o["a"])({},t.items[s],{branchId:t.branchId,belegNo:t.belegNo,isEin:!0,einaus:t.einausIndex-1,einausDataIndex:s}));var a=f(JSON.stringify(e.freeBranchProduct));localStorage.setItem("freep",a),e.freeProduct=[]},setRemoveBranchItem:function(e,t){e.freeBranchProduct.splice(t,1)},setItemsInLager:function(e,t){for(var s=-1,a=0,i=0;i<e.lagers.length;i++)e.lagers[i].branchId==t.branchId&&s++,s==t.dataIndex&&(a=i);for(var r=0;r<t.items.length;r++){e.lagers[a].data.push(t.items[r]);for(var n=-1,o=0;o<e.productsBelegNum.length;o++)if(e.productsBelegNum[o].branchId==t.branchId&&(n++,n==t.items[r].einaus)){e.productsBelegNum[o].data[t.items[r].einausDataIndex].stellplatz=a+1;var l=Math.ceil((a+1)/12);e.productsBelegNum[o].data[t.items[r].einausDataIndex].gang=l}}for(var c=0;c<t.index.length;c++)e.freeBranchProduct.splice(t.index[c],1);var u=f(JSON.stringify(e.freeBranchProduct));localStorage.setItem("freep",u)},setNewProblemItemsForLagerInBranch:function(e,t){e.productsBelegNum.push({data:t.items,createdAt:t.createdAt,ieEin:!1,branchId:t.branchId,belegNo:t.belegNo})},setGoodsForProductsBelegNum:function(e,t){e.productsBelegNum.push({isEin:!1,companyId:t.companyId,belegNumber:t.belegNumber})},setNewProduct:function(e,t){e.goods.push(t)},setInitFreeBranchProduct:function(e,t){for(var s=0;s<t.length;s++)e.freeBranchProduct.push(Object(o["a"])({},t[s],{branchId:t.branchId,belegNo:t[s].belegNo,isEin:!0}))},setNewStellplatz:function(e,t){e.lagers.push(Object(o["a"])({},t,{id:e.lagers[e.lagers.length-1].id+1}))},setProduct:function(e,t){e.goods=t.body},setWareHouse:function(e,t){e.lagers=[],null==t.body?e.lagers=[]:t.body.forEach((function(t){e.lagers.push(Object(o["a"])({},t,{data:[]}))}))},setWareHouseProduct:function(e,t){t.forEach((function(t){var s=e.lagers.map((function(e){return e.id})).indexOf(t.warehouseId);e.lagers[s].data.push(t)}))},setProductsBelegNum:function(e,t){null==t.body?e.productsBelegNum=[]:e.productsBelegNum=t.body},setGoodsTable:function(e,t){e.goods=t.body},deleteItemsFreePrdocut:function(e,t){e.freeBranchProduct.splice(t,1);var s=f(JSON.stringify(e.freeBranchProduct));localStorage.setItem("freep",s)}},R={sendBranchItemsQuantity:function(e,t){oe("ghs/totalProductHelper",{companyId:t}).then((function(t){if("success"==t.status)e.commit("setBranchItemsQauntity",t.data);else{var s=[];e.commit("setBranchItemsQauntity",s)}}))},sendNewStellplatz:function(e,t){ie("warehouse?filter=companyId:"+t.companyId+"&sortby=stellplatz&order=desc&limit=1").then((function(s){if(null!=s.body){var a=s.body[0].stellplatz+1;ce("warehouse",{companyId:t.companyId,stellplatz:a,gang:Math.ceil(a/12)}).then((function(s){e.commit("setLagers",{id:s.result,companyId:t.companyId,stellplatz:a,gang:Math.ceil(a/12),data:[]})}))}}))},sendFreeProduct:function(e,t){e.commit("setFreeProduct",t)},sendNewItemsForLagerInBranch:function(e,t){e.commit("setNewItemsForLagerInBranch",t)},removeFreeBranchItem:function(e,t){e.commit("setRemoveBranchItem",t)},sendNewProblemItemsForLagerInBranch:function(e,t){ce("document",{belegNumber:t.belegNo,companyId:t.branchId,isEin:!1}).then((function(e){if(null!=e.result)for(var s=function(s){ie("warehouseProducts?filter=productId:"+t.items[s].productId+",companyId:"+t.branchId+",isAus:0,quantity:1&limit="+t.items[s].quantity).then((function(a){for(var i=a.body,r=function(a){ue("warehouseProducts",i[a].id,{quantity:0}).then((function(r){ce("warehouseProducts",{documentId:e.result,productId:t.items[s].productId,warehouseId:i[a].warehouseId,companyId:t.branchId,isAus:!0}).then((function(e){}))}))},n=0;n<i.length;n++)r(n)}))},a=0;a<t.items.length;a++)s(a)}))},sendGoodsForProductsBelegNum:function(e,t){e.commit("setGoodsForProductsBelegNum",Object(o["a"])({},t))},sendNewProduct:function(e,t){return ce("product",t).then((function(s){return null!=s.result?(e.commit("setNewProduct",t),s):s}))},sendPutProduct:function(e,t){return ue("product",t.id,{artikelNum:t.artikelNum,name:t.name}).then((function(e){return"success"}))},initProduct:function(e,t){return ie("product?fields=artikelNum, name, id, isActive&search="+t).then((function(t){return e.commit("setProduct",t),"success"}))},initWareHouse:function(e,t){return ie("warehouse?filter=companyId:"+t.branchId+"&limit="+t.limit+"&sortby=stellplatz&order=asc").then((function(s){return e.commit("setWareHouse",s),e.dispatch("initWareHouseProduct",t.branchId).then((function(e){return console.log(e),"success"}))}))},initWareHouseProduct:function(e,t){return oe("ghs/depoProducts",{companyId:t}).then((function(t){return"success"==t.status?(e.commit("setWareHouseProduct",t.data),"success"):"fail"}))},sendDocumentTable:function(e,t){return ie("document?filter=companyId:"+t).then((function(t){return e.commit("setProductsBelegNum",t),"success"}))},sendWareHouseProductForDocument:function(e,t){return re("stockRackHelper/"+t+"?limit=100").then((function(e){return e}))}},K={state:G,getters:V,mutations:q,actions:R};s("a4d3"),s("e01a");a["default"].use(l["a"]);var Z={packageDescriptionTable:[]},Q={getPackageDescriptionTable:function(e){return e.packageDescriptionTable}},J={setPushPackageDescriptionTable:function(e,t){e.packageDescriptionTable.unshift(t)},setPackageDescription:function(e,t){e.packageDescriptionTable=t.body}},Y={initPackageDescription:function(e){return ie('setupDefinition?filter=name:"0"').then((function(t){return e.commit("setPackageDescription",t),"success"}))},pushPackageDescriptionTable:function(e,t){return ce("setupDefinition",t).then((function(s){return e.commit("setPushPackageDescriptionTable",t),"success"}))},sendEditPackageDescription:function(e,t){return ue("setupDefinition",t.id,{description:t.description,isWhite:t.isWhite}).then((function(e){return"success"}))}},X={state:Z,getters:Q,mutations:J,actions:Y};a["default"].use(l["a"]);var ee=new l["a"].Store({actions:{initApp:function(e){return e.dispatch("initUserTable").then((function(t){if("success"==t)return e.dispatch("initCompanyTable").then((function(t){return"success"==t?e.dispatch("initTarifeTable").then((function(e){return"success"==e?"success":"err"})):"err"}))}))}},modules:{branch:h,users:y,lager:K,trucks:W,customers:z,permission:S,packageDescription:X}}),te="https://stokia.eralpsoftware.net/",se="https://stokha.eralpsoftware.net/",ae="https://stokna.eralpsoftware.net/api/",ie=function(e){var t={method:"GET"};return fetch(te+e,t).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},re=function(e){var t={method:"GET"};return fetch(se+e,t).then((function(e){return e.json()})).then((function(e){return console.log("istek"),e})).catch((function(e){return console.log("error",e)}))},ne=function(e,t){var s=new Headers;s.append("Content-Type","application/json");var a=JSON.stringify(t),i={method:"POST",headers:s,body:a,redirect:"follow"};return fetch(ae+e,i).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},oe=function(e,t){var s=new Headers,a=ee.state.users.tokenNa;s.append("Content-Type","application/json"),s.append("token",a);var i=JSON.stringify(t),r={method:"POST",headers:s,body:i,redirect:"follow"};return fetch(ae+e,r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},le=function(e){var t=new Headers;t.append("Content-Type","application/json");var s=JSON.stringify(e),a={method:"POST",headers:t,body:s,redirect:"follow"};return fetch("https://stokna.eralpsoftware.net/nts/createUser",a).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},ce=function(e,t){var s=new Headers,a=JSON.stringify(t),i={method:"POST",headers:s,body:a,redirect:"follow"};return fetch(te+e,i).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},ue=function(e,t,s){var a=new Headers,i=ee.getters.getToken;a.append("Authorization","Bearer "+i);var r=JSON.stringify(s),n={method:"PUT",headers:a,body:r,redirect:"follow"};return fetch(te+e+"/"+t,n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},de=function(e,t){var s=ee.getters.getToken,a=new Headers;a.append("Authorization","Bearer "+s);var i="",r={method:"DELETE",headers:a,body:i,redirect:"follow"};return fetch(te+e+"/"+t,r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},me=function(e,t){var s=ee.getters.getToken,a=new Headers;a.append("Authorization","Bearer "+s);var i=JSON.stringify(t),r={method:"POST",headers:a,body:i,redirect:"follow"};return fetch(se+e,r).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))},he={watch:{},computed:Object(o["a"])({},Object(l["b"])(["getActiveUser","getBranch"])),data:function(){return{loading:!0}},mounted:function(){var e=this;this.$store.dispatch("initApp").then((function(t){var s;"success"==t?(setInterval((function(){s=(new Date).getHours(),e.$store.commit("setToday",s)}),1e3),e.$store.commit("setToday",s),0!=e.getActiveUser.length&&e.$router.push("/login"),e.loading=!1):e.$router.push("/login")}))}},pe=he,fe=(s("034f"),s("2877")),ge=Object(fe["a"])(pe,r,n,!1,null,null,null),be=ge.exports,ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrapper",class:{"nav-open":e.$sidebar.showSidebar}},[s("side-bar",[s("mobile-menu",{attrs:{slot:"content"},slot:"content"}),s("sidebar-link",{attrs:{to:"/index"}},[s("md-icon",[e._v("dashboard")]),s("p",[e._v("Startseite")])],1),""==e.getActiveUser?s("div",{staticClass:"text-center"},[s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])]):e._e(),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/permission"}},[s("md-icon",[e._v("content_paste")]),s("p",[e._v("Sonderzeiten")])],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/company"}},[s("md-icon",[e._v("library_books")]),s("p",[e._v("Filliale")])],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/userlist"}},[s("md-icon",[e._v("bubble_chart")]),s("p",[e._v("Userverwaltung")])],1),s("sidebar-link",{attrs:{to:"/status"}},[s("md-icon",[e._v("location_on")]),s("p",[e._v("Status")])],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/packageDescription"}},[s("md-icon",[e._v("notifications")]),s("p",[e._v("Paketbeschreibung")])],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/tarife"}},[s("md-icon",[e._v("location_on")]),s("p",[e._v("Tarife")])],1),""==e.getActiveUser||!e.getActiveUser.isLagerLogin?e._e():s("sidebar-link",{attrs:{to:"/overview"}},[s("el-collapse",{staticClass:"w-100 bg-transparent",attrs:{accordion:""}},[s("el-collapse-item",{attrs:{title:"Lager",name:"1"}},[s("template",{slot:"title"},[s("i",{staticClass:"fas fa-box ",class:(e.$router.history.current.path,"")}),s("span",[e._v("Lager")])]),s("ul",[s("li",{staticClass:"p-2 itemHover"},[s("span",{on:{click:function(t){e.$store.state.lager.nausgang="branchOverview"}}},[e._v(" Wareneingang")])]),s("li",{staticClass:"p-2 itemHover"},[s("span",{on:{click:function(t){e.$store.state.lager.nausgang="wausBranchOverview"}}},[e._v(" Warenausgang")])])])],2)],1)],1),""==e.getActiveUser||e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/repassword"}},[s("md-icon",[e._v("location_on")]),s("p",[e._v("Re Passwort")])],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("sidebar-link",{attrs:{to:"/truck"}},[s("i",{staticClass:"fas fa-truck"}),s("p",[e._v("Truck")])]),s("sidebar-link",{staticClass:"active-pro",attrs:{to:"/login"}},[s("p",{staticClass:"w-100 mb-3"},[s("button",{staticClass:"btn btn-primary w-100",on:{click:function(t){return e.toLogout()}}},[e._v("Logout")])])])],1),s("div",{staticClass:"main-panel"},[s("top-navbar"),s("dashboard-content"),e.$route.meta.hideFooter?e._e():s("content-footer")],1)],1)},ke=[],we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[s("div",{staticClass:"md-toolbar-row"},[s("div",{staticClass:"md-toolbar-section-start"},[s("h3",{staticClass:"md-title"},[e._v(e._s(e.$route.name))])]),s("div",{staticClass:"md-toolbar-section-end"},[s("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:e.$sidebar.showSidebar},on:{click:e.toggleSidebar}},[s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"}),s("span",{staticClass:"icon-bar"})]),s("i",{staticClass:"fas fa-store-alt"}),s("div",{staticClass:"md-collapse"},[s("md-list",[s("md-list-item",{attrs:{href:"#/"}},[s("i",{staticClass:"material-icons"},[e._v("dashboard")]),s("i",{staticClass:"fas fa-store-alt"}),s("p",{staticClass:"hidden-lg hidden-md"},[e._v("Startseite")])]),s("li",{staticClass:"md-list-item"},[s("a",{staticClass:"md-list-item-router md-list-item-container md-button-clean dropdown",attrs:{href:null!=e.getActiveUser&&e.getActiveUser.isAdmin?"#/userList":"#"}},[s("div",{staticClass:"md-list-item-content"},[""==e.getActiveUser?s("span",{staticClass:"text-center"},[e._v(" Benutzer wird geladen ")]):e._e(),""!=e.getActiveUser?s("span",[e._v(e._s(e.getActiveUser.name)+" "+e._s(e.getActiveUser.lastname)+" ( "+e._s(e.getActiveUser.username)+" ) - "+e._s(0==e.getActiveUser.companyId?"All":e.getActiveUser.companyName)+" ")]):e._e()])])]),""==e.getActiveUser||!e.getActiveUser.isLagerLogin?e._e():s("md-list-item",{attrs:{href:"#/overview"}},[s("i",{staticClass:"fas fa-box",class:"/overview"==e.$router.history.current.path?"text-primary":"",staticStyle:{"font-size":"20px"}}),s("p",{staticClass:"hidden-lg hidden-md"},[e._v("Lager")])]),""==e.getActiveUser||!e.getActiveUser.isAdmin?e._e():s("md-list-item",{attrs:{href:"#/truck"}},[s("i",{staticClass:"fas fa-truck",class:"/truck"==e.$router.history.current.path?"text-primary":"",staticStyle:{"font-size":"20px"}}),s("p",{staticClass:"hidden-lg hidden-md"},[e._v("Lager")])])],1)],1)],1)])])},ye=[],Ce={data:function(){return{selectedEmployee:null,employees:["Jim Halpert","Dwight Schrute","Michael Scott","Pam Beesly","Angela Martin","Kelly Kapoor","Ryan Howard","Kevin Malone"]}},computed:Object(o["a"])({},Object(l["b"])(["getActiveUser","getBranch"])),methods:{toggleSidebar:function(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)}}},xe=Ce,_e=Object(fe["a"])(xe,we,ye,!1,null,null,null),Ie=_e.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"container"},[e._m(0),s("div",{staticClass:"copyright text-center"},[e._v(" © "+e._s((new Date).getFullYear())+" "),s("a",{attrs:{href:"https://www.eralpsoftware.com",target:"_blank"}},[e._v("Eralp Software")]),e._v(", made with "),s("i",{staticClass:"fa fa-heart heart"}),e._v(" for a better web ")])])])},Te=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",[s("ul",[s("li",[s("a",{attrs:{href:"https://www.eralpsoftware.com"}},[e._v("Eralp Software")])])])])}],Pe={},Ne=Pe,Ae=Object(fe["a"])(Ne,Se,Te,!1,null,null,null),De=Ae.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("router-view")],1)},Le=[],$e={},Ee=$e,Oe=(s("5436"),Object(fe["a"])(Ee,Be,Le,!1,null,null,null)),Ue=Oe.exports,ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",{staticClass:"nav nav-mobile-menu"})},Me=[],je={data:function(){return{search:null,selectedEmployee:null,employees:["Jim Halpert","Dwight Schrute","Michael Scott","Pam Beesly","Angela Martin","Kelly Kapoor","Ryan Howard","Kevin Malone"]}}},He=je,Fe=Object(fe["a"])(He,ze,Me,!1,null,null,null),We=Fe.exports,Ge={components:{TopNavbar:Ie,DashboardContent:Ue,ContentFooter:De,MobileMenu:We},computed:Object(o["a"])({},Object(l["b"])(["getIsAuth","getActiveUser","getNausgang"])),methods:{toLogout:function(){var e=this;this.$store.dispatch("toLogout").then((function(t){e.$router.push("/login")}))}}},Ve=Ge,qe=(s("1f37"),Object(fe["a"])(Ve,ve,ke,!1,null,"21363e98",null)),Re=qe.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.loading?s("div"):s("div",[0!=e.filtred.length||0!=e.resultCategoryFiltre.length?s("el-popover",{attrs:{placement:"left",width:"75",trigger:"click"}},[s("vue-excel-xlsx",{staticClass:"btn btn-outline-success",attrs:{data:e.filterCategory?e.resultCategoryFiltre:e.filtred,columns:e.columns,filename:"Lager Excell Data",sheetname:"Lager Excell Data"}},[e._v("Download")]),s("i",{staticClass:"text-white shadow bg-success border rounded-circle p-3 px-4 mr-3 mb-3 position-fixed fas fa-file-excel excellIcon",attrs:{slot:"reference"},slot:"reference"})],1):e._e(),s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.excellExport",modifiers:{excellExport:!0}}],staticClass:"excellKomplettIcon2"},[s("i",{staticClass:"text-dark rounded-circle p-3 px-4 mr-3 mb-3 position-fixed fas fa-file-excel excellKomplettIcon2"}),s("svg",{staticClass:"text-dark text-center shadow bg-warning border rounded-circle position-fixed fas fa-file-excel excellKomplettIcon",staticStyle:{width:"100px"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",viewBox:"0 20 400 400"}},[s("defs",[s("path",{attrs:{d:"M0, 200a200, 200 0 1, 0 400, 0a200, 200 0 1, 0 -400, 0",id:"txt-path"}})]),s("text",{attrs:{fill:"#D54E02","font-size":"65.5","font-family":"Helvetica Neue","font-weight":"400"}},[s("textPath",{attrs:{startOffset:"50","xlink:href":"#txt-path"}},[e._v("Export Komplett")])])])]),s("el-row",{staticClass:"border shadow p-2"},[s("el-col",{attrs:{md:7,sm:24,xs:24}},[s("div",{staticClass:"w-100 bg-white p-3 mt-3 text-center"},[s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700","border-radius":"25px 0 0 25px"},style:"All"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="All"}}},[e._v("All")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700"},style:"isHaus"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isHaus"}}},[e._v("Hauslager")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700"},style:"isAus"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isAus"}}},[e._v("Außenlager")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700","border-radius":"0 25px 25px 0"},style:"isMich"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isMich"}}},[e._v("Mischlager")])])]),s("el-col",{staticClass:"text-center",attrs:{offset:2,sm:23,xs:23,md:4}},[s("div",{staticClass:"form-group"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Datum")]),s("el-date-picker",{staticClass:"w-100",attrs:{type:"date",placeholder:"Pick a day"},model:{value:e.datePickerElement,callback:function(t){e.datePickerElement=t},expression:"datePickerElement"}})],1)]),s("el-col",{staticClass:"text-right mt-2",attrs:{offset:1,sm:13,xs:13,md:4}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBox,expression:"searchBox"}],attrs:{type:"text",required:""},domProps:{value:e.searchBox},on:{input:function(t){t.target.composing||(e.searchBox=t.target.value)}}}),s("label",[e._v(e._s(e.search.label))])])])]),s("el-col",{staticClass:"my-3 ml-3",attrs:{sm:7,xs:7,md:3}},[s("el-dropdown",[s("el-button",{attrs:{round:"",type:"primary"}},[e._v(" "+e._s(e.search.label)+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{on:{click:function(t){return e.searchingBeleg()}}},[e._v("Beleg")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.SearchingPlz()}}},[e._v("Plz")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.SearchingUser()}}},[e._v("User")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.SearchingVorname()}}},[e._v("Vorname")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.SearchingNachname()}}},[e._v("Nachname")])])],1)],1)],1),e.getActiveUser.isAnlegen?s("el-col",{staticClass:"my-3 text-right",attrs:{xs:24,sm:24,md:2}},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-xl",modifiers:{"modal-xl":!0}}],attrs:{type:"primary",round:""}},[s("i",{staticClass:"fas fa-address-card"}),e._v(" Neu")])],1):e._e()],1),s("eralp-table",{attrs:{tableFiltred:e.filterCategory?e.resultCategoryFiltre:e.filtred},on:{data:function(t){e.filtredData=t}}}),s("new-product-modal"),s("excell-export",{attrs:{tableData:e.filtredData}})],1)])},Ze=[],Qe=(s("466d"),s("841c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"excellExport",attrs:{id:"excellExport",size:"xl",title:"Extra Large Modal","hide-footer":""}},[s("el-row",[e._v(" "+e._s(e.selectedBranchName)+" "),s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"form-group"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Datum")]),s("el-date-picker",{staticClass:"w-100",attrs:{type:"daterange","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date"},model:{value:e.datePickerElement,callback:function(t){e.datePickerElement=t},expression:"datePickerElement"}})],1),""==e.getActiveUser||!e.getActiveUser.isAdmin?s("div",{staticClass:"form-group mt-3"},[e._v(" "+e._s(e.selectedBranchName)+" ")]):s("div",{staticClass:"form-group mt-3"},[s("el-select",{attrs:{placeholder:"Select"},on:{change:e.changeCompanyId},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)])])],1),""!=e.selectedBranch?s("div",[s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.filtredTable,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"customerName",label:"Vorname",sortable:""}}),s("el-table-column",{attrs:{prop:"customerLastname",label:"Nachname"}}),s("el-table-column",{attrs:{prop:"customerAddress",label:"Straße",width:"400px"}}),s("el-table-column",{attrs:{prop:"beleg",label:"Beleg"}}),s("el-table-column",{attrs:{prop:"setupDate",label:"Datum"}}),s("el-table-column",{attrs:{prop:"tarif",label:"Tarif"}}),s("el-table-column",{attrs:{prop:"department",label:"Ware"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isHaus&&t.row.isAus?"Mischlager":t.row.isHaus?"Hauslager":"Außenlager")+" ")]}}],null,!1,4004955918)}),s("el-table-column",{attrs:{prop:"isOldMachine",label:"Altgerat"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isOldMachine?"Ja":"Nein")+" ")]}}],null,!1,3874912007)})],1),""!=e.selectedBranchName?s("div",{staticClass:"text-center mt-4"},[s("vue-excel-xlsx",{staticClass:"btn btn-outline-primary",attrs:{data:e.filtredTable,columns:e.columns,filename:e.selectedBranchName,sheetname:e.selectedBranchName}},[e._v("Download")])],1):e._e()],1):e._e()],1)}),Je=[],Ye={props:["tableData"],data:function(){return{datePickerElement:null,dateStart:null,dateFinish:null,dateStartNum:null,dateFinishNum:null,selectedBranch:"",columns:[{label:"Vorname",field:"customerNmae"},{label:"Nachname",field:"customerLastname"},{label:"Straße",field:"customerAddress"},{label:"Beleg",field:"beleg"},{label:"Tarif",field:"tarif"},{label:"Abteilung",field:"department"}],selectedBranchName:""}},watch:{datePickerElement:function(){var e=N(this.datePickerElement[0]),t=N(this.datePickerElement[1]);this.dateStart=P(e),this.dateFinish=P(t),this.dateStartNum=A(e),this.dateFinishNum=A(t)},selectedBranch:function(){this.showTable=!0}},computed:Object(o["a"])({filtredTable:function(){var e=this;return this.tableData.filter((function(t){var s=t.setupDate.split("."),a=Object(T["a"])(s,3),i=a[0],r=a[1],n=a[2],o=n+"-"+r+"-"+i,l=A(o);if(e.selectedBranch==t.companyId&&e.dateStartNum<l&&l<e.dateFinishNum)return t}))}},Object(l["b"])(["getActiveUser","getBranch"])),methods:{changeCompanyId:function(e){var t=this;this.getBranch.forEach((function(s){s.id==e&&(t.selectedBranchName=s.name)}))}},mounted:function(){var e=this;setTimeout((function(){0!=e.getActiveUser.length&&(e.getActiveUser.isAdmin||(e.selectedBranch=e.getActiveUser.companyId,e.selectedBranchName=e.getActiveUser.companyName))}),1e3)}},Xe=Ye,et=Object(fe["a"])(Xe,Qe,Je,!1,null,null,null),tt=et.exports,st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-3"},[s("p",[e._v("Kunden insgesamt : "+e._s(e.tableFiltred.length))]),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{"row-click":e.toggleRowSelection,data:e.tableFiltred,"row-class-name":e.tableRowClassName,"default-sort":{prop:"setupDate",order:"descending"}}},[s("el-table-column",{attrs:{prop:"customerName",label:"Vorname",width:"120px",sortable:""}}),s("el-table-column",{attrs:{prop:"customerLastname",label:"Nachname",width:"100px"}}),s("el-table-column",{attrs:{prop:"customerAddress",label:"Straße",width:"380px"}}),s("el-table-column",{attrs:{prop:"zipCode",label:"PLZ"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.zipCode)+" ")]}}])}),s("el-table-column",{attrs:{prop:"setupDate",label:"Datum",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{placement:"right",width:"600",trigger:"click"}},[s("div",{staticClass:"bg-dark p-3 text-white"},[s("p",{staticClass:"text-center "},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Datum und Zeit ändern für "),s("span",{staticClass:"text-danger"},[e._v("BelegID : "+e._s(e.editCustomer.beleg))])])]),s("hr"),s("p",{staticClass:"text-center"},[s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","picker-options":e.pickerOptions},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}}),s("strong",{staticClass:"ml-3",staticStyle:{"font-weight":"700"}},[e._v("Datum : "+e._s(e.editCustomer.setupDate)+" ")])],1),s("p",{staticClass:"mt-3 text-center"},[s("el-checkbox",{staticClass:"text-white",attrs:{border:""},on:{change:e.expressControl},model:{value:e.editCustomer.isExpress,callback:function(t){e.$set(e.editCustomer,"isExpress",t)},expression:"editCustomer.isExpress"}},[e._v("Expresslieferung")])],1),s("div",{staticClass:"form-group  text-center p-2 "},[s("label",[s("strong",{staticClass:"mr-3",staticStyle:{"font-weight":"bold"}},[e._v("Uhrzeit :")])]),s("el-select",{attrs:{placeholder:"Select"},model:{value:e.editSetupTime,callback:function(t){e.editSetupTime=t},expression:"editSetupTime"}},e._l(e.resultOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,disabled:e.disabled,value:e.value}})})),1)],1),s("el-button",{staticClass:"w-100",on:{click:function(t){return e.sendEditCustomer()}}},[e._v("Weiter")])],1),s("p",{staticClass:"animePdf",attrs:{slot:"reference"},on:{click:function(s){return e.editDatum(t.row)}},slot:"reference"},[e._v(e._s(t.row.setupDate))])])]}}])}),s("el-table-column",{attrs:{prop:"setupTime",label:"Zeit"}}),s("el-table-column",{attrs:{prop:"beleg",label:"Beleg"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getActiveUser.isBelegAndern||e.getActiveUser.isStornieren?s("p",{directives:[{name:"b-modal",rawName:"v-b-modal.editCustomer",modifiers:{editCustomer:!0}}],staticClass:"animePdf",attrs:{slot:"reference"},on:{click:function(s){return e.editBelegNum(t.row)}},slot:"reference"},[e._v(e._s(t.row.beleg))]):s("p",[e._v(e._s(t.row.beleg))])]}}])}),s("el-table-column",{attrs:{prop:"lager",label:"Lager",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.isHaus&&t.row.isAus?"Mischlager":t.row.isAus?"Außenlager":"Hauslager"))]}}])}),s("el-table-column",{attrs:{prop:"uUsername",label:"User"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",{staticClass:"animePdf"},[e._v(e._s(t.row.uUsername))])]}}])}),s("el-table-column",{attrs:{prop:"pdf",label:"Pdf"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.id?s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.exportPdf",modifiers:{exportPdf:!0}}],staticClass:"fas fa-file-pdf animePdf",staticStyle:{"font-size":"32px"},on:{click:function(s){return e.getPdfDataIndex(t.row)}}}):s("i",{staticClass:"fas fa-file-pdf text-light",staticStyle:{"font-size":"32px"}})]}}])})],1),s("edit-customer",{attrs:{editCustomer:e.editCustomer}}),s("export-pdf",{attrs:{pdfData:e.pdfData}})],1)},at=[],it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"editCustomer",attrs:{id:"editCustomer",size:"xl","hide-footer":""}},[s("el-row",[s("el-col",{staticClass:"text-right",class:(e.edit,"transition"),attrs:{xs:22,sm:22,md:22}},[e.edit?e._e():s("i",{staticClass:"el-icon-edit h3 p-2 px-3 rounded-circle border bg-warning text-dark hoverEdit",on:{click:function(t){e.edit=!0}}}),e.edit?s("i",{staticClass:"el-icon-close h3 p-2 px-3 rounded-circle border bg-warning text-dark hoverEdit",on:{click:function(t){e.edit=!1}}}):e._e(),e.editCustomer.isActive&&e.getActiveUser.isStornieren?s("i",{staticClass:"el-icon-delete h3 mx-2 p-2 px-3 rounded-circle border bg-danger text-white hoverDelete",on:{click:e.deleteCustomer}}):e._e()]),e.edit?s("el-col",{class:(e.edit,"transitionSuccess"),attrs:{offset:e.edit?18:0,xs:2,sm:2,md:2}}):e._e()],1),e.edit?s("el-row",[s("el-col",{staticClass:"text-center",attrs:{span:24}},[s("strong",{staticStyle:{"font-weight":"bold!important","font-size":"18px"}},[e._v("Datum :")]),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","picker-options":e.pickerOptions},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),s("el-col",{staticClass:"mt-3",attrs:{offset:3}},[s("el-checkbox",{attrs:{border:""},model:{value:e.editCustomer.isExpress,callback:function(t){e.$set(e.editCustomer,"isExpress",t)},expression:"editCustomer.isExpress"}},[e._v("Expresslieferung")]),s("hr")],1),s("el-col",{attrs:{offset:3}},[s("div",{staticClass:"form-group"},[s("el-checkbox",{attrs:{label:"Weißware",border:""},on:{change:function(t){e.goodsType2=!1}},model:{value:e.goodsType1,callback:function(t){e.goodsType1=t},expression:"goodsType1"}}),s("el-checkbox",{attrs:{label:"Braunware",border:""},on:{change:function(t){e.goodsType1=!1}},model:{value:e.goodsType2,callback:function(t){e.goodsType2=t},expression:"goodsType2"}})],1),s("hr")]),s("el-col",{attrs:{offset:3,span:21}},[s("div",{staticClass:"form-group border p-2 shadow"},[s("label",[s("strong",{staticClass:"mr-3",staticStyle:{"font-weight":"bold"}},[e._v("Uhrzeit :")])]),s("el-select",{attrs:{placeholder:"Select"},model:{value:e.editCustomer.setupTime,callback:function(t){e.$set(e.editCustomer,"setupTime",t)},expression:"editCustomer.setupTime"}},e._l(e.resultOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),""!=e.editCustomer.setupDate?s("strong",{staticClass:"ml-3 border p-2 border-success text-success",staticStyle:{"font-weight":"bold"}},[e._v("Datum : "+e._s(e.editCustomer.setupDate))]):e._e()],1)]),s(e.goodsType1?"newProductWei":"newProductBraun",{tag:"components",attrs:{isWhite:e.goodsType1,editCustomer:e.editCustomer,isBraun:e.goodsType2},on:{selectedTypeItems:function(t){e.selectedType=t},oldMach:function(t){e.OldAppliance=t},chooseLager:function(t){e.chooseLager=t},checked:function(t){e.checkedAll=t}}}),s("el-col",{attrs:{offset:3,span:21}},[s("div",{staticClass:"form-group border shadow p-3"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.beleg,expression:"editCustomer.beleg"}],attrs:{readonly:!e.getActiveUser.isBelegNrAndern,type:"text",required:""},domProps:{value:e.editCustomer.beleg},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"beleg",t.target.value)}}}),s("label",[e._v("Belegnr.")])])]),s("el-row",[s("el-col",{attrs:{xs:24,sm:24,md:10}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.customerName,expression:"editCustomer.customerName"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.customerName},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"customerName",t.target.value)}}}),s("label",[e._v("Vorname")])])])]),s("el-col",{attrs:{xs:22,sm:22,md:10,offset:2}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.customerLastname,expression:"editCustomer.customerLastname"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.customerLastname},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"customerLastname",t.target.value)}}}),s("label",[e._v("Nachname>")])])])])],1),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.customerAddress,expression:"editCustomer.customerAddress"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.customerAddress},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"customerAddress",t.target.value)}}}),s("label",[e._v("Straße")])])]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.zipCode,expression:"editCustomer.zipCode"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.zipCode},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"zipCode",t.target.value)}}}),s("label",[e._v("PLZ")])])]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.customerPhone,expression:"editCustomer.customerPhone"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.customerPhone},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"customerPhone",t.target.value)}}}),s("label",[e._v("Telefon")])])])],1)]),s("el-col",{attrs:{offset:6,span:12}},[s("div",{staticClass:"form-group border shadow p-3"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editCustomer.orderNote,expression:"editCustomer.orderNote"}],attrs:{type:"text",required:""},domProps:{value:e.editCustomer.orderNote},on:{input:function(t){t.target.composing||e.$set(e.editCustomer,"orderNote",t.target.value)}}}),s("label",[e._v("Zusatz")])])])])]),s("el-col",{staticClass:"mt-5",attrs:{offset:8,span:8}},[s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-outline-primary w-100",on:{click:function(t){return e.editCustomerApi()}}},[e._v("Speichern")])])])],1):s("div",[s("el-row",{directives:[{name:"",rawName:"v-"}],staticClass:"text-center"},[s("el-col",[s("h3",{staticClass:"text-primary",staticStyle:{"text-decoration":"underline","font-weight":"700"}},[e._v("KUNDE")])]),s("el-col",{attrs:{xs:24,sm:24,md:24}},[s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Vollständiger Name :")]),e._v(" "+e._s(e.editCustomer.customerName)+" "+e._s(e.editCustomer.customerLastname)+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Straße:")]),e._v(" "+e._s(e.editCustomer.customerAddress)+" "+e._s(e.editCustomer.zipCode)+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Telefon :")]),e._v(" "+e._s(e.editCustomer.customerPhone)+" ")])])],1),s("el-row",{staticStyle:{"font-size":"16px"}},[s("el-col",[s("h3",{staticClass:"text-center text-primary",staticStyle:{"text-decoration":"underline","font-weight":"700"}},[e._v("Lieferung")])]),s("el-col",{staticClass:"text-center",attrs:{xs:24,sm:24,md:12}},[s("section",{staticClass:"p-1 my-2 text-danger"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Beleg Nr. :")]),e._v(" "+e._s(e.editCustomer.beleg)+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Lager:")]),e._v(" "+e._s(e.editCustomer.isHaus&&e.editCustomer.isAus?"Mischlager":e.editCustomer.isHus?"Hauslager":"Außenlager")+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Datum :")]),e._v(" "+e._s(e.editCustomer.setupDate)+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Uhrzeit :")]),e._v(" "+e._s(e.editCustomer.setupTime)+" ")])]),s("el-col",{staticClass:"text-center",attrs:{xs:24,sm:24,md:12}},[s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Tarif :")]),e._v(" "+e._s(e.editCustomer.setupDefinitionId)+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Altgerat:")]),e._v(" "+e._s(e.editCustomer.isOldMachine?"Ja":"Nein")+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Abteilung :")]),e._v(" "+e._s(e.editCustomer.isWhite?"Weißware":"Brauneware")+" ")]),s("section",{staticClass:"p-1 my-2"},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Express :")]),e._v(" "+e._s(e.editCustomer.isExpress?"Ja":"Nein")+" ")])])],1)],1),s("hr")],1)},rt=[],nt=(s("a9e3"),s("8ba4"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!=e.isWhite?s("div",[s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group border shadow p-3"},[s("el-radio-group",{model:{value:e.chooseLager,callback:function(t){e.chooseLager=t},expression:"chooseLager"}},[s("el-radio",{attrs:{label:"Außenlager"}},[e._v("Außenlager")]),s("el-radio",{attrs:{label:"Hauslager"}},[e._v("Hauslager")])],1),s("div",{staticClass:"form-group mt-3"},[s("el-checkbox",{attrs:{label:"Altgerät",border:""},model:{value:e.OldAppliance,callback:function(t){e.OldAppliance=t},expression:"OldAppliance"}})],1),e.expresslieferung?e._e():s("div",{staticClass:"form-group mt-3"},[s("label",{attrs:{for:""}},[s("strong",{staticStyle:{"font-weight":"bold"}},[e._v("Art auswählen :")])]),s("el-select",{staticClass:"ml-3",attrs:{placeholder:"Select"},on:{change:e.selectedTypeMethod},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.optionsType,(function(e){return s("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1)],1)]),0==e.optionsPremium.length||e.loading?e._e():s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group p-3 border shadow"},[s("div",[s("label",{attrs:{for:""}},[s("strong",{staticStyle:{"font-weight":"bold"}},[e._v("Optionen")])]),s("hr")]),s("div",{staticClass:"form-group"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("Alles Überprüfen")]),s("div",{staticStyle:{margin:"15px 0"}}),s("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.optionsPremium,(function(t){return s("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)])]),e.loading?s("el-col",{staticClass:"text-center",attrs:{span:24}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])])]):e._e()],1):e._e()}),ot=[],lt=["Ausbau AG 10, -Euro","Aufbau Waschtrockensaeule","Tueranschlagwechsel bis 85cm"],ct=["Abklemmen oder Ausbau AG 10, -Euro"],ut=[],dt={data:function(){return{form:{belegNo:"",name:"",lastname:"",address:"",plz:"",telefon:""},optionsSelect:lt,checkAll:!1,checkAllPremium:!1,checkedCities:[],checkedCitiesPrmeium:[],cities:lt,optionsPremium:[],isIndeterminate:!0,isIndeterminatePremium:!0,chooseLager:"Außenlager",selectedTime:"",loading:!1,OldAppliance:!1,selectedDate:"",selectedType:null,optionsType:[],options:[{value:"8-12",label:"8-12"},{value:"10-14",label:"10-14"},{value:"12-16",label:"12-16"},{value:"14-18",label:"14-18"}],value2:"",goodsType1:!1,goodsType2:!1,pickerOptions:{disabledDate:function(e){return e.getTime()<=Date.now()},shortcuts:[{text:"Heute",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]}}},computed:Object(o["a"])({},Object(l["b"])(["getTarifeTable"])),props:["isWhite","isBraun","editCustomer","expresslieferung"],watch:{expresslieferung:function(e){e&&(this.selectedType=8)},optionsPremium:function(){this.checkedCities=[]},OldAppliance:function(){this.$emit("oldMach",this.OldAppliance)},chooseLager:function(){this.$emit("chooseLager",this.chooseLager)},checkedCitiesPrmeium:function(){this.$emit("checked",this.checkedCitiesPrmeium)},checkedCities:function(){this.$emit("checked",this.checkedCities)},selectedType:function(){this.$emit("selectedTypeItems",this.selectedType),"Premium"==this.selectedType?this.optionsSelect=ut:"Standart"==this.selectedType?this.optionsSelect=ct:"Komfort"==this.selectedType?this.optionsSelect=lt:this.optionsSelect=[]},value2:function(e){null!=e?(this.selectedDate=dateFormatterElement(e),this.selectedDate=dateFormatter(this.selectedDate)):this.selectedDate=""}},methods:{selectedTypeMethod:function(e){var t=this;this.loading=!0,this.$store.dispatch("initTarifeTableOptions",e).then((function(e){t.optionsPremium=e.body,t.loading=!1}))},handleCheckAllChange:function(e){this.checkedCities=e?this.optionsPremium:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.optionsPremium.length,this.isIndeterminate=t>0&&t<this.optionsPremium.length}},mounted:function(){var e=this;null!=this.editCustomer&&(this.OldAppliance=this.editCustomer.isOldMachine,this.editCustomer.isHaus&&this.editCustomer.isAus?this.chooseLager="Mischlager":(this.editCustomer.isHaus&&(this.chooseLager="Hauslager"),this.editCustomer.isAus&&(this.chooseLager="Außenlager"))),this.optionsType=[],this.editCustomer,null==this.editCustomer&&this.getTarifeTable.forEach((function(t){t.isWhite&&e.optionsType.push(t)}))}},mt=dt,ht=Object(fe["a"])(mt,nt,ot,!1,null,null,null),pt=ht.exports,ft=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!=e.isWhite?s("div",[s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group border shadow p-3"},[s("el-radio-group",{model:{value:e.chooseLager,callback:function(t){e.chooseLager=t},expression:"chooseLager"}},[s("el-radio",{attrs:{label:"Außenlager"}},[e._v("Außenlager")]),s("el-radio",{attrs:{label:"Hauslager"}},[e._v("Hauslager")])],1),s("div",{staticClass:"form-group mt-3"},[s("el-checkbox",{attrs:{label:"Altgerät",border:""},model:{value:e.OldAppliance,callback:function(t){e.OldAppliance=t},expression:"OldAppliance"}})],1),e.expresslieferung?e._e():s("div",{staticClass:"form-group mt-3"},[s("label",{attrs:{for:""}},[s("strong",{staticStyle:{"font-weight":"bold"}},[e._v("Art auswählen :")])]),s("el-select",{staticClass:"ml-3",attrs:{placeholder:"Select"},on:{change:e.selectedTypeMethod},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.optionsType,(function(e){return s("el-option",{key:e.id,attrs:{label:e.id,value:e.id}})})),1)],1)],1)]),0==e.optionsPremium.length||e.loading?e._e():s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group p-3 border shadow"},[s("div",[s("label",{attrs:{for:""}},[s("strong",{staticStyle:{"font-weight":"bold"}},[e._v("Optionen")])]),s("hr")]),s("div",{staticClass:"form-group"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("Alles Überprüfen")]),s("div",{staticStyle:{margin:"15px 0"}}),s("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.optionsPremium,(function(t){return s("el-checkbox",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])})),1)],1)])]),e.loading?s("el-col",{staticClass:"text-center",attrs:{span:24}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])])]):e._e()],1):e._e()},gt=[],bt=["20 Sender einstellen","TV Wandmontage inkl 20 Sender","Tueranschlagwechsel bis 85cm"],vt={data:function(){return{form:{belegNo:"",name:"",lastname:"",address:"",plz:"",telefon:""},optionsSelect:bt,checkAll:!1,checkAllPremium:!1,checkedCities:[],checkedCitiesPrmeium:[],isIndeterminate:!0,isIndeterminatePremium:!0,chooseLager:"Mischlager",selectedTime:"",loading:!1,OldAppliance:!1,optionsPremium:[],selectedDate:"",selectedType:null,optionsType:[{value:"Standart",label:"Standart"},{value:"Komfort",label:"Komfort"},{value:"Premium",label:"Premium"},{value:"Techn. Hilfe",label:"Techn. Hilfe"}],options:[{value:"8-12",label:"8-12"},{value:"10-14",label:"10-14"},{value:"12-16",label:"12-16"},{value:"14-18",label:"14-18"}],value2:"",goodsType1:!1,goodsType2:!1,pickerOptions:{disabledDate:function(e){return e.getTime()<=Date.now()},shortcuts:[{text:"Heute",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]}}},computed:Object(o["a"])({},Object(l["b"])(["getTarifeTable"])),props:["isWhite","editCustomer","expresslieferung"],watch:{expresslieferung:function(e){e&&(this.selectedType=8)},optionsPremium:function(){this.checkedCities=[]},selectedType:function(){this.$emit("selectedTypeItems",this.selectedType)},OldAppliance:function(){this.$emit("oldMach",this.OldAppliance)},chooseLager:function(){this.$emit("chooseLager",this.chooseLager)},checkedCitiesPrmeium:function(){this.$emit("checked",this.checkedCitiesPrmeium)},checkedCities:function(){this.$emit("checked",this.checkedCities)},value2:function(e){null!=e?(this.selectedDate=dateFormatterElement(e),this.selectedDate=dateFormatter(this.selectedDate)):this.selectedDate=""}},methods:{selectedTypeMethod:function(e){var t=this;this.loading=!0,this.$store.dispatch("initTarifeTableOptions",e).then((function(e){t.loading=!1,t.optionsPremium=e.body}))},handleCheckAllChange:function(e){this.checkedCities=e?this.optionsPremium:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.optionsPremium.length,this.isIndeterminate=t>0&&t<this.optionsPremium.length}},created:function(){var e=this;null!=this.editCustomer&&(this.OldAppliance=this.editCustomer.isOldMachine,this.editCustomer.isHaus&&this.editCustomer.isAus?this.chooseLager="Mischlager":(this.editCustomer.isHaus&&(this.chooseLager="Hauslager"),this.editCustomer.isAus&&(this.chooseLager="Außenlager"))),this.optionsType=[],this.editCustomer,null==this.editCustomer&&this.getTarifeTable.forEach((function(t){t.isWhite||e.optionsType.push(t)}))}},kt=vt,wt=Object(fe["a"])(kt,ft,gt,!1,null,null,null),yt=wt.exports,Ct=["Ausbau AG 10, -Euro","Aufbau Waschtrockensaeule","Tueranschlagwechsel bis 85cm"],xt=["Unterbau Geschirspueler","Unterbau Kuehlschrank","Unterbau Waschmaschiene","Tueranschlag wechsel","Lieferung Side by Side","Anschluss Standherd","Anschluss Einbauherd","Einbau Geschirspueler","Einbau Kuehlschrank","Einbau Waschmaschiene","Montage Dunstabzugshaube"],_t=[{value:"8-12",label:"8-12"},{value:"10-14",label:"10-14"},{value:"12-16",label:"12-16"},{value:"14-18",label:"14-18"}],It=[{value:"10-11",label:"10-11"},{value:"11-12",label:"11-12"},{value:"12-13",label:"12-13"},{value:"13-14",label:"13-14"},{value:"14-15",label:"14-15"},{value:"15-16",label:"15-16"},{value:"16-17",label:"16-17"}],St={props:["editCustomer"],components:{newProductWei:pt,newProductBraun:yt},computed:Object(o["a"])({},Object(l["b"])(["getActiveUser"])),data:function(){return{edit:!1,form:{belegNo:"",name:"",lastname:"",address:"",plz:"",telefon:""},optionsSelect:Ct,checkAll:!1,checkAllPremium:!1,checkedCities:[],checkedCitiesPrmeium:[],cities:Ct,optionsPremium:xt,isIndeterminate:!0,isIndeterminatePremium:!0,chooseLager:"Außenlager",selectedTime:"",OldAppliance:!1,selectedDate:"",selectedType:"Komfort",optionsType:[{value:"Komfort",label:"Komfort"},{value:"Premium",label:"Premium"}],value2:"",resultOptions:_t,expresslieferung:!1,goodsType1:!1,goodsType2:!1,pickerOptions:{disabledDate:function(e){return e.getTime()<=Date.now()},shortcuts:[{text:"Heute",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]}}},watch:{OldAppliance:function(e){this.editCustomer.isOldMachine=!!e},chooseLager:function(e){"Hauslager"==e&&(this.editCustomer.isHaus=!0,this.editCustomer.isAus=!1),"Außenlager"==e&&(this.editCustomer.isHaus=!1,this.editCustomer.isAus=!0),"Mischlager"==e&&(this.editCustomer.isHaus=!0,this.editCustomer.isAus=!0)},goodsType1:function(e){this.isWhite=!!e},editCustomer:function(){this.edit=!1,this.editCustomer.isWhite?(this.goodsType1=!0,this.goodsType2=!1):this.editCustomer.isWhite||(this.goodsType1=!1,this.goodsType2=!0),this.editCustomer.isExpress?(this.resultOptions=It,this.selectedTime=""):this.resultOptions=_t,this.selectedTime=""},"editCustomer.isExpress":function(){this.editCustomer.isExpress?(this.resultOptions=It,this.selectedTime=""):this.resultOptions=_t,this.selectedTime=""},selectedType:function(e){Number.isInteger(e)&&(this.editCustomer.setupDefinitionId=e)},value2:function(e){this.selectedDate=null!=e?N(e):""}},methods:{editCustomerApi:function(){this.$store.dispatch("sendPutCustomer",this.editCustomer)},getActiveCustomer:function(){var e=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"success"}).then((function(){ue("orders",e.editCustomer.id,{isActive:!0}).then((function(t){1==t.result&&(e.editCustomer.isActive=!0,e.$message({type:"success",message:"Customer activated"})),0==t.result&&e.$message({type:"info",message:"Active canceled"})}))})).catch((function(){e.$message({type:"info",message:"Active canceled"})}))},deleteCustomer:function(){var e=this;this.$confirm("Möchten Sie wirklich löschen?","Warning",{confirmButtonText:"Ja",cancelButtonText:"Nein",type:"warning"}).then((function(){ue("orders",e.editCustomer.id,{isActive:!1}).then((function(t){1==t.result&&(e.editCustomer.isActive=!1,e.$message({type:"success",message:"Delete completed"})),0==t.result&&e.$message({type:"info",message:"Delete canceled"})}))})).catch((function(){e.$message({type:"info",message:"Delete canceled"})}))},handleCheckAllChange:function(e){"Premium"==this.selectedType?this.optionsSelect=xt:this.optionsSelect=Ct,this.checkedCities=e?this.optionsSelect:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length}}},Tt=St,Pt=(s("e8bb"),Object(fe["a"])(Tt,it,rt,!1,null,null,null)),Nt=Pt.exports,At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-modal",{ref:"exportPdf",attrs:{id:"exportPdf","hide-footer":"",title:"Önizleme PDF",size:"xl"}},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-outline-danger",on:{click:function(t){return e.sendPdf()}}},[s("i",{staticClass:"fas fa-file-pdf"}),e._v(" Print PDF")])]),s("div",{staticClass:"content",staticStyle:{"font-weight":"600!important"},attrs:{id:"pdfExport"}},[s("el-row",{staticClass:" p-4",staticStyle:{border:"1px solid black"}},[s("p",[e._v("Künde : "+e._s(e.pdfData.customerName)+" "+e._s(e.pdfData.customerLastname))]),s("p",[e._v("Straße : "+e._s(e.pdfData.customerAddress)+".")]),s("p",[e._v("Plz : "+e._s(e.pdfData.zipCode))]),s("p",[e._v("Telefon :"+e._s(e.pdfData.customerPhone))])]),s("div",{staticClass:"p-4 mt-4",staticStyle:{border:"1px solid black"}},[s("el-row",[s("h3",[e._v("Lieferung")]),s("p",[e._v("Abteilung : "+e._s(e.pdfData.isWhite?"Weißware":"Brauneware")+" , Lager : "+e._s(e.pdfData.isHaus&&e.pdfData.isAus?"Mischlager":e.pdfData.isAus?"Außenlager":"Hauslager"))]),s("p",[e._v("Zeit : "+e._s(e.pdfData.setupDate)+" "+e._s(e.pdfData.setupTime)+"uhr..")]),s("p",[e._v("Tarif : "+e._s(e.pdfData.tarif))]),s("p",[e._v("Altgerat : "+e._s(e.pdfData.isOldMachine?"Ja":"Nein")+" , Express : "+e._s(e.pdfData.isExpress?"Ja":"Nein"))]),s("p",[e._v("Optionen :")]),e._l(e.pdfData.options,(function(t,a){return s("p",{key:a},[e._v(e._s(a+1)+" - "+e._s(t.name))])})),s("p",[e._v(" Zusatztext : "+e._s(e.pdfData.orderNote)+" ")])],2),s("el-row",[s("el-col",[s("h3",{staticStyle:{"text-decoration":"underline","font-weight":"700"}},[e._v("Leistungsbeschreibung")]),s("p",[e._v(" "+e._s(e.pdfData.description)+" ")])])],1)],1),s("el-row",{staticClass:"mt-5"},[s("el-col",{staticClass:"border-bottom mt-5",attrs:{span:8}})],1),s("el-row",[s("el-col",{staticClass:"text-center mt-3 ",attrs:{span:8}},[s("p",[e._v("Unterschrift vom Kunden")])])],1)],1),s("div",{attrs:{id:"pdf"}})])],1)},Dt=[],Bt=s("c041"),Lt=s("e09d"),$t=s("c2da");s("e511"),s("951f");a["default"].use(Bt["a"]);var Et,Ot={props:["pdfData"],data:function(){return{data:[{OrderID:123123,CustomerID:1231231,ShipCity:"xd",ShipName:"xd"}],toolbarOptions:["PdfExport"]}},watch:{pdfData:function(){var e=this,t=this.pdfData.setupDefinition;this.pdfData.options=[],t.forEach((function(t){e.getDefinition.forEach((function(s){t.setupDefinitionId==s.id&&(0==s.parentId&&(e.pdfData.tarif=s.name,e.pdfData.isWhite=s.isWhite,e.pdfData.description=s.description),e.pdfData.options.push(s))}))}))}},computed:Object(o["a"])({},Object(l["b"])(["getDefinition"])),methods:{sendPdf:function(){var e=new jsPDF;e.setFont("times"),e.setTextColor(100),e.setFontType("bolditalic"),e.text(30,20,"Eralp Software."),e.setTextColor(255,0,0),e.text(85,20,"Beleg Nummer : "+this.pdfData.beleg),e.setTextColor(100),e.text(160,35,"Filiale : "+this.pdfData.companyId),e.line(15,25,200,25),e.line(155,40,200,40),e.line(15,10,200,10);var t=$("#pdfExport").html(),s={"#pdf":function(e,t){return console.log(e,t),!0}};e.fromHTML(t,25,25,{width:170,elementHandlers:s}),e.autoPrint(),window.open(e.output("bloburl"),"_blank")}},provide:{grid:[Lt["a"],$t["a"]]}},Ut=Ot,zt=Object(fe["a"])(Ut,At,Dt,!1,null,null,null),Mt=zt.exports,jt=[{value:"8-12",label:"8-12",disabled:!1},{value:"10-14",label:"10-14",disabled:!1},{value:"12-16",label:"12-16",disabled:!1},{value:"14-18",label:"14-18",disabled:!1},{value:"16-20",label:"16-20",disabled:!0}],Ht=[{value:"10-11",label:"10-11",disabled:!1},{value:"11-12",label:"11-12",disabled:!1},{value:"12-13",label:"12-13",disabled:!1},{value:"13-14",label:"13-14",disabled:!0},{value:"14-15",label:"14-15",disabled:!1},{value:"15-16",label:"15-16",disabled:!1},{value:"16-17",label:"16-17",disabled:!1}],Ft={components:{editCustomer:Nt,exportPdf:Mt},computed:Object(o["a"])({},Object(l["b"])(["getCustomers","getActiveUser","getToday"])),watch:{getToday:function(){},getCustomers:function(){this.$emit("data",this.getCustomers)},datePicker:function(e){if(null!=e)if(0==e.getDay())this.datePicker=null,this.$notify({title:"Error",message:"Sonntags arbeiten wir nicht",type:"error"});else{if(null!=e){this.editDatePicker=N(e);var t=e.getDay();jt[4].disabled=2!=t&&4!=t}else jt[4].disabled=!0;this.editCustomer.isExpress=!1}},"editCustomer.isExpress":function(){this.editCustomer.isExpress?this.resultOptions=Ht:this.resultOptions=jt}},data:function(){return{editSetupTime:null,pdfData:[],resultOptions:jt,editDatePicker:"",index:null,pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"Today",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nach einer Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},editCustomer:[],datePicker:"",revers:!1}},props:["tableFiltred"],methods:{expressControl:function(e){var t,s=this;if(t=null!=this.editDatePicker?this.editDatePicker:B(this.editCustomer.setupDate),e)1==this.editCustomer.companyId||2==this.editCustomer.companyId?setTimeout((function(){ie('orders?filter=setupDate:"'+t+'",companyId:'+s.editCustomer.companyId).then((function(e){null!=e.body&&e.body.forEach((function(e){if("10-11"==e.setupTime&&(Ht[0].disabled=!0),"11-12"==e.setupTime&&(Ht[1].disabled=!0),"12-13"==e.setupTime&&(Ht[2].disabled=!0),"13-14"==e.setupTime&&(Ht[3].disabled=!0),"14-15"==e.setupTime&&(Ht[4].disabled=!0),"15-16"==e.setupTime&&(Ht[5].disabled=!0),"16-17"==e.setupTime&&(Ht[6].disabled=!0),e.id==s.editCustomer.id)for(var t=0;t<Ht.length;t++)Ht[t].disabled=!1}))}))}),500):ie('orders?filter=setupDate:"'+t+'",companyId:3||companyId:4||companyId:5||companyId:6||companyId:7||companyId:8||companyId:9||companyId:10').then((function(e){null!=e.body&&e.body.forEach((function(e){"10-11"==e.setupTime&&(Ht[0].disabled=!0),"11-12"==e.setupTime&&(Ht[1].disabled=!0),"12-13"==e.setupTime&&(Ht[2].disabled=!0),"13-14"==e.setupTime&&(Ht[3].disabled=!0),"14-15"==e.setupTime&&(Ht[4].disabled=!0),"15-16"==e.setupTime&&(Ht[5].disabled=!0),"16-17"==e.setupTime&&(Ht[6].disabled=!0)}))}));else for(var a=0;a<Ht.length;a++)Ht[a].disabled=!1},tableRowClassName:function(e){var t=e.row;e.rowIndex;return t.isActive?"":"bg-warning100"},getPdfDataIndex:function(e){var t=this;ie("orders_SetupDefinition?filter=orderId:"+e.id).then((function(s){t.pdfData=Object(o["a"])({},e,{setupDefinition:s.body})}))},sendEditCustomer:function(){var e=this;this.editCustomer.setupTime=this.editSetupTime,null==this.editDatePicker||""==this.editDatePicker?(this.editCustomer.setupDate=this.editCustomer.setupDate,this.editCustomer.setupDate=B(this.editCustomer.setupDate)):this.editCustomer.setupDate=this.editDatePicker,ue("orders",this.editCustomer.id,{setupDate:this.editCustomer.setupDate,setupTime:this.editCustomer.setupTime,isExpress:this.editCustomer.isExpress}).then((function(t){null==e.editDatePicker||""==e.editDatePicker?(e.editCustomer.setupDate=e.editCustomer.setupDate,e.editCustomer.setupDate=P(e.editCustomer.setupDate)):(e.editCustomer.setupDate=e.editDatePicker,e.editCustomer.setupDate=P(e.editCustomer.setupDate)),e.tableFiltred[e.index]=e.editCustomer,e.$notify({title:"Erfolg",message:"Der Kunde wurde erfolgreich registriert.",type:"success"}),e.visible=!1}))},toggleRowSelection:function(e,t,s){},formatter:function(e,t){return e.address},editBelegNum:function(e){this.visible=!0,this.editCustomer=e;var t=this.editCustomer.setupDate.includes("-");t&&(this.editCustomer.setupDate=P(this.editCustomer.setupDate))},editDatum:function(e){this.getToday>13&&!this.getActiveUser.isAdmin&&(this.datePicker=null,this.pickerOptions={disabledDate:function(e){return e.getTime()<=Date.now()},shortcuts:[{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"zwei Tage später",onClick:function(e){var t=new Date;t.setTime(t.getTime()+1728e5),e.$emit("pick",t)}},{text:"nach einer Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]}),this.visible=!0,this.editSetupTime=e.setupTime,this.editCustomer=e;var t=this.editCustomer.setupDate.includes("-");t&&(this.editCustomer.setupDate=P(this.editCustomer.setupDate))}},mounted:function(){this.$emit("data",this.getCustomers)}},Wt=Ft,Gt=(s("634d"),Object(fe["a"])(Wt,st,at,!1,null,"6cb28fbc",null)),Vt=Gt.exports,qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"newProduct",attrs:{id:"modal-xl",size:"xl",title:"Neu","hide-footer":""}},[s("el-row",[s("div",{staticClass:"mb-4"},[e._v(" "+e._s(e.searchBranch)+" "),0!=e.errPoint.length?s("strong",{staticClass:"text-danger animated pulse infinite",staticStyle:{"font-weight":"800"}},[e._v("ERROR :")]):e._e(),e._l(e.errPoint,(function(t,a){return s("span",{key:a},[s("span",{staticClass:"shadow",style:e.tagRed},[e._v(e._s(t.err))])])}))],2),s("div",{staticClass:"ml-5"},e._l(e.tags,(function(t,a){return s("span",{key:a},[null!=t&&0!=t.length&&"check"!=a?s("span",{staticClass:"shadow",style:e.tagBlue},[e._v(e._s(t)+" "),s("i",{staticClass:"ml-1 fas fa-times-circle",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.tagClose(a)}}})]):e._e()])})),0),s("el-row",[s("el-col",{staticClass:"text-center mt-3",attrs:{span:8}},[s("strong",{staticClass:"text-primary",staticStyle:{"font-weight":"bold!important","font-size":"18px"}},[e._v("Datum : ")]),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","picker-options":e.pickerOptions},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1),s("el-col",{staticClass:"mt-3",attrs:{offset:2,span:6}},[s("el-checkbox",{attrs:{border:""},model:{value:e.expresslieferung,callback:function(t){e.expresslieferung=t},expression:"expresslieferung"}},[e._v("Expresslieferung")])],1),s("el-col",{class:0!=e.getActiveUser.length&&(0==e.getActiveUser.companyId?"mt-3 text-right":"mt-3 shadow text-center"),style:0!=e.getActiveUser.length?0==e.getActiveUser.companyId?"":{border:"1px solid black",textAlign:"center",padding:"5px"}:"",attrs:{span:8}},[s("label",[s("strong",{staticClass:"mr-3",staticStyle:{"font-weight":"bold"}},[e._v("Filiale :")])]),s("strong",{staticStyle:{"font-weight":"800"}},[e._v(e._s(e.selectedBranch))]),0!=e.getActiveUser.length&&0==e.getActiveUser.companyId?s("el-select",{attrs:{placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1):e._e()],1)],1),null!=e.selectedDate&&null!=e.selectedBranch?s("div",[s("el-col",{attrs:{offset:2}},[s("hr"),s("div",{staticClass:"form-group"},[e._v(" "+e._s(e.goodsType1)+" "),s("el-checkbox",{attrs:{label:"Weißware",border:""},on:{change:function(t){e.goodsType2=!1}},model:{value:e.goodsType1,callback:function(t){e.goodsType1=t},expression:"goodsType1"}}),s("el-checkbox",{attrs:{label:"Brauneware",border:""},on:{change:function(t){e.goodsType1=!1}},model:{value:e.goodsType2,callback:function(t){e.goodsType2=t},expression:"goodsType2"}})],1),s("hr")]),s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group border p-2 shadow"},[s("label",[s("strong",{staticClass:"mr-3",staticStyle:{"font-weight":"bold"}},[e._v("Uhrzeit :")])]),s("el-select",{attrs:{placeholder:"Select"},on:{change:e.controlClaim},model:{value:e.selectedTime,callback:function(t){e.selectedTime=t},expression:"selectedTime"}},e._l(e.resultOptions,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,disabled:e.disabled,value:e.value}})})),1),""!=e.selectedDate?s("strong",{staticClass:"ml-3 border p-2 border-success text-success",staticStyle:{"font-weight":"bold"}},[e._v("Datum : "+e._s(e.selectedDate))]):e._e()],1)]),s(e.goodsType1?"newProductWei":"newProductBraun",{tag:"components",attrs:{expresslieferung:e.expresslieferung,isWhite:e.goodsType1,isBraun:e.goodsType2},on:{selectedTypeItems:function(t){e.selectedType=t},oldMach:function(t){e.OldAppliance=t},chooseLager:function(t){e.chooseLager=t},checked:function(t){e.checkedAll=t}}}),s("el-col",{attrs:{offset:2,span:21}},[s("div",{staticClass:"form-group border shadow p-3"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.form.beleg,expression:"form.beleg",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:e.form.beleg},on:{change:function(t){return e.$set(e.form,"beleg",t.target.value)}}}),s("label",[e._v(" Beleg nr. ")]),s("span",{staticStyle:{position:"absolute",right:"0"}},[s("el-button",{attrs:{round:"",size:"small",type:e.usableBeleg?"success":"danger"}},[s("i",{class:e.usableBeleg?"el-icon-check":"el-icon-close"})])],1)])]),s("el-row",[s("el-col",{attrs:{xs:24,sm:24,md:10}},[s("eralp-form",{on:{inputVModel:function(t){e.form.name=t}}},[e._v("Vorname")])],1),s("el-col",{attrs:{xs:22,sm:22,md:10,offset:2}},[s("eralp-form",{on:{inputVModel:function(t){e.form.lastname=t}}},[e._v("Nachname")])],1)],1),s("eralp-form",{on:{inputVModel:function(t){e.form.address=t}}},[e._v("Straße")]),s("eralp-form",{on:{inputVModel:function(t){e.form.plz=t}}},[e._v("PLZ. Ort")]),s("eralp-form",{on:{inputVModel:function(t){e.form.phone=t}}},[e._v("Telefon")])],1)]),s("el-col",{attrs:{offset:6,span:12}},[s("div",{staticClass:"form-group border shadow p-3"},[s("eralp-form",{on:{inputVModel:function(t){e.form.zusatz=t}}},[e._v("Zusatz")])],1)]),s("el-col",{staticClass:"mt-5",attrs:{offset:8,span:8}},[s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-outline-primary w-100",attrs:{disabled:!e.usableBeleg},on:{click:function(t){return e.sendNewProduct()}}},[e._v(" Speichern ")])])])],1):e._e()],1)],1)},Rt=[],Kt=s("ade3"),Zt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.inputVmodel,expression:"inputVmodel"}],attrs:{type:"text",required:""},domProps:{value:e.inputVmodel},on:{input:function(t){t.target.composing||(e.inputVmodel=t.target.value)}}}),s("label",[e._t("default")],2)])])])},Qt=[],Jt={data:function(){return{textLabel:!0,inputVmodel:"",username:""}},watch:{inputVmodel:function(e){this.$emit("inputVModel",e)}}},Yt=Jt,Xt=(s("de4b"),Object(fe["a"])(Yt,Zt,Qt,!1,null,null,null)),es=Xt.exports,ts=["Ausbau AG 10, -Euro","Aufbau Waschtrockensaeule","Tueranschlagwechsel bis 85cm"],ss=["Unterbau Geschirspueler","Unterbau Kuehlschrank","Unterbau Waschmaschiene","Tueranschlag wechsel","Lieferung Side by Side","Anschluss Standherd","Anschluss Einbauherd","Einbau Geschirspueler","Einbau Kuehlschrank","Einbau Waschmaschiene","Montage Dunstabzugshaube"],as=[{value:"8-12",label:"8-12",disabled:!1},{value:"10-14",label:"10-14",disabled:!1},{value:"12-16",label:"12-16",disabled:!1},{value:"14-18",label:"14-18",disabled:!1},{value:"16-20",label:"16-20",disabled:!0}],is=[{value:"10-11",label:"10-11"},{value:"11-12",label:"11-12"},{value:"12-13",label:"12-13"},{value:"13-14",label:"13-14"},{value:"14-15",label:"14-15"},{value:"15-16",label:"15-16"},{value:"16-17",label:"16-17"}];function rs(){return{errPoint:[],tagGreen:{padding:"8px",background:"rgb(181, 255, 181)",color:"green",borderRadius:"20px",margin:"0 5px"},tagRed:{padding:"8px",background:"rgb(253, 167, 167)",color:"red",borderRadius:"20px",margin:"0 5px",fontWeight:800},tagBlue:{padding:"8px",background:"rgb(185, 180, 255)",color:"white",borderRadius:"20px",margin:"0 5px",fontWeight:800},tagYellow:{padding:"8px",background:"rgb(255, 255, 162)",color:"black",borderRadius:"20px",margin:"0 5px"},tagOrange:{padding:"8px",background:"orange",color:"black",borderRadius:"20px",margin:"0 5px"},tagPurple:{padding:"8px",background:"rgb(255, 141, 255)",color:"black",borderRadius:"20px",margin:"0 5px"},form:{beleg:"",name:"",lastname:"",address:"",plz:"",telefon:""},optionsSelect:ts,checkAll:!1,checkedAll:[],checkAllPremium:!1,checkedCities:[],checkedCitiesPrmeium:[],cities:ts,optionsPremium:ss,isIndeterminate:!0,isIndeterminatePremium:!0,chooseLager:"Außenlager",selectedTime:"",OldAppliance:!1,selectedDate:null,selectedBranch:null,selectedType:"",usableBeleg:null,searchBranch:null,success:!1,tags:{selectedType:"",express:"",lager:"Außenlager",zeit:"",date:"",department:"",oldMach:"",branch:"",check:[]},optionsType:[{value:"Komfort",label:"Komfort"},{value:"Premium",label:"Premium"}],datePicker:null,resultOptions:as,expresslieferung:!1,goodsType1:null,goodsType2:null,pickerOptions:{disabledDate:function(e){return e.getTime()<=Date.now()},shortcuts:[{text:"Heute",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]}}}var ns={components:{eralpForm:es,newProductWei:pt,newProductBraun:yt},data:rs,computed:Object(o["a"])({},Object(l["b"])(["getBranch","getActiveUser","getToday"])),watch:(Et={success:function(e){var t=this;e&&setTimeout((function(){Object.assign(t.$data,rs())}),3e3)},expresslieferung:function(){for(var e=0;e<is.length;e++)is[e].disabled=!1;null!=this.selectedDate&&null!=this.selectedBranch&&this.expressControl(this.selectedDate)},"form.beleg":function(e){var t=this;""!=e&&ie("/orders/beleg/"+e).then((function(e){0!=e.count?t.usableBeleg=!1:t.usableBeleg=!0}))},getToday:function(){this.getToday>13?(this.selectedDate="",this.datePicker=null,this.pickerOptions.shortcuts=[{text:"Heute",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]):(this.selectedDate="",this.pickerOptions.shortcuts=[{text:"Heute",onClick:function(e){e.$emit("pick",new Date)}},{text:"Morgen",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"nächste Woche",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}])},selectedBranch:function(e){var t=this;setTimeout((function(){0!=t.getActiveUser.length&&0!=t.getActiveUser.companyId&&(t.selectedBranch=t.getActiveUser.companyId)}),2e3),this.searchBranch=1==e||2==e?e:3;for(var s=0;s<is.length;s++)is[s].disabled=!1;null!=this.selectedDate&&this.expressControl(this.selectedDate),this.getBranch.forEach((function(e){t.selectedBranch==e.id&&(t.tags.branch=e.name)}))},checkedAll:function(){this.tags.check=this.checkedAll},OldAppliance:function(){this.OldAppliance?this.tags.oldMach="Algerat":this.tags.oldMach=""},selectedTime:function(){this.tags.zeit=this.selectedTime},selectedDate:function(){this.tags.date=this.selectedDate},goodsType1:function(){this.goodsType1?this.tags.department="Weißware":this.goodsType1||this.goodsType2||(this.goodsType1=null),null==this.goodsType1&&(this.tags.department="")},goodsType2:function(){this.goodsType2?this.tags.department="Brauneware":this.goodsType1||this.goodsType2||(this.goodsType1=null,this.goodsType2=null),null==this.goodsType2&&(this.tags.department="")},chooseLager:function(){this.tags.lager=this.chooseLager}},Object(Kt["a"])(Et,"expresslieferung",(function(){this.expresslieferung?(this.tags.express="Express",this.resultOptions=is,this.selectedTime=""):(this.tags.express="",this.resultOptions=as,this.selectedTime="")})),Object(Kt["a"])(Et,"selectedType",(function(){this.tags.selectedType=this.selectedType,"Premium"==this.selectedType?this.optionsSelect=ss:this.optionsSelect=ts})),Object(Kt["a"])(Et,"datePicker",(function(e){for(var t=0;t<is.length;t++)is[t].disabled=!1;if(null!=e){var s=e.getDay();2==s||4==s?(as[4].disabled=!1,this.selectedDate=N(e),this.expressControl(this.selectedDate)):0==s?(this.datePicker=null,this.selectedDate=null,this.$notify({title:"Error",message:"Sonntags arbeiten wir nicht",type:"error"})):(as[4].disabled=!0,this.selectedDate=N(e),this.expressControl(this.selectedDate))}else this.selectedDate=null,as[4].disabled=!0})),Et),methods:{controlClaim:function(e){var t=this;oe("ghs/claimHelper",{companyId:this.searchBranch,date:this.selectedDate,time:e}).then((function(s){0==s.data[0]["SUM(hak)"]&&(t.selectedType,t.$notify({title:"Error",message:e+" - Sie haben keine Kundenrechte",type:"error",duration:7e3}))}))},expressControl:function(e){if(null!=e&&null!=this.searchBranch)1==this.searchBranch||2==this.searchBranch?ie('orders?filter=setupDate:"'+e+'",companyId:'+this.searchBranch).then((function(e){null!=e.body&&e.body.forEach((function(e){"10-11"==e.setupTime&&(is[0].disabled=!0),"11-12"==e.setupTime&&(is[1].disabled=!0),"12-13"==e.setupTime&&(is[2].disabled=!0),"13-14"==e.setupTime&&(is[3].disabled=!0),"14-15"==e.setupTime&&(is[4].disabled=!0),"15-16"==e.setupTime&&(is[5].disabled=!0),"16-17"==e.setupTime&&(is[6].disabled=!0)}))})):ie('orders?filter=setupDate:"'+e+'",companyId:3||companyId:4||companyId:5||companyId:6||companyId:7||companyId:8||companyId:9||companyId:10').then((function(e){null!=e.body&&e.body.forEach((function(e){"10-11"==e.setupTime&&(is[0].disabled=!0),"11-12"==e.setupTime&&(is[1].disabled=!0),"12-13"==e.setupTime&&(is[2].disabled=!0),"13-14"==e.setupTime&&(is[3].disabled=!0),"14-15"==e.setupTime&&(is[4].disabled=!0),"15-16"==e.setupTime&&(is[5].disabled=!0),"16-17"==e.setupTime&&(is[6].disabled=!0)}))}));else for(var t=0;t<is.length;t++)is[t].disabled=!1},tagClose:function(e){this.tags[e]="","date"==e?this.datePicker=null:"zeit"==e?this.selectedTime="":"express"==e?this.expresslieferung=!1:"branch"==e?this.selectedBranch="":"department"==e?(this.goodsType1=!1,this.goodsType2=!1):"oldMach"==e&&(this.OldAppliance=!1)},tagCloseCheck:function(e){this.checkedAll[e]=null,this.tags.check[e]=null},handleCheckAllChange:function(e){"Premium"==this.selectedType?this.optionsSelect=ss:this.optionsSelect=ts,this.checkedCities=e?this.optionsSelect:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},sendNewProduct:function(){var e=this;this.errPoint=[];var t="";this.goodsType1&&(t="Weißware"),this.goodsType2&&(t="Brauneware"),""==this.chooseLager&&(setTimeout((function(){e.$notify({title:"Error",message:"Lager",type:"error"})}),150),this.errPoint.push({err:"Lager"})),""==t&&(setTimeout((function(){e.$notify({title:"Error",message:"Weißware or Brauneware",type:"error",duration:7e3})}),100),this.errPoint.push({err:"Weißware or Brauneware"})),""==this.form.beleg&&(this.errPoint.push({err:"Beleg Num"}),setTimeout((function(){e.$notify({title:"Error",message:"Beleg Num",type:"error",duration:7e3})}),50)),""==this.form.name&&(setTimeout((function(){e.$notify({title:"Error",message:"Vorname",type:"error",duration:7e3})}),200),this.errPoint.push({err:"Vorname"})),""==this.form.lastname&&(setTimeout((function(){e.$notify({title:"Error",message:"Nachname",type:"error",duration:7e3})}),250),this.errPoint.push({err:"Nachname"})),""==this.form.address&&(setTimeout((function(){e.$notify({title:"Error",message:"Straße",type:"error",duration:7e3})}),300),this.errPoint.push({err:"Straße"})),""==this.form.plz&&(setTimeout((function(){e.$notify({title:"Error",message:"PLZ",type:"error",duration:1e4})}),350),this.errPoint.push({err:"PLZ"})),""==this.form.phone&&(setTimeout((function(){e.$notify({title:"Error",message:"Telefon",type:"error",duration:1e4})}),400),this.errPoint.push({err:"Telefon"})),""==this.selectedDate&&(setTimeout((function(){e.$notify({title:"Error",message:"Datum",type:"error",duration:1e4})}),450),this.errPoint.push({err:"Datum"})),""==this.selectedTime&&(setTimeout((function(){e.$notify({title:"Error",message:"Zeit",type:"error",duration:1e4})}),500),this.errPoint.push({err:"Zeit"})),""==this.selectedType&&(setTimeout((function(){e.$notify({title:"Error",message:"Art auswählen",type:"error",duration:1e4})}),550),this.errPoint.push({err:"Art auswählen"})),""==this.selectedBranch&&(setTimeout((function(){e.$notify({title:"Error",message:"Filiale",type:"error",duration:1e4})}),600),this.errPoint.push({err:"Filiale"}));var s=!1,a=!1;"Hauslager"==this.chooseLager&&(s=!0),"Außenlager"==this.chooseLager&&(a=!0),"Mischlager"==this.chooseLager&&(a=!0,s=!0),0==this.errPoint.length&&this.$store.dispatch("sendNewCustomer",{userId:this.getActiveUser.id,isOldMachine:this.OldAppliance,isExpress:this.expresslieferung,isHaus:s,isAus:a,status:"Nsubmitted",beleg:this.form.beleg,customerName:this.form.name,customerLastname:this.form.lastname,customerAddress:this.form.address,zipCode:this.form.plz,companyId:this.selectedBranch,customerPhone:this.form.phone,setupDate:this.selectedDate,setupTime:this.selectedTime,orderNote:this.form.zusatz,isActive:!0}).then((function(t){(t.status="success")&&ce("orders_SetupDefinition",{orderId:t.id,setupDefinitionId:e.selectedType}).then((function(s){null!=s.result&&e.checkedAll.forEach((function(s){ce("orders_SetupDefinition",{orderId:t.id,setupDefinitionId:s}).then((function(t){e.$refs["newProduct"].hide(),e.success=!0}))}))}))}))}},mounted:function(){var e=this;setTimeout((function(){0!=e.getActiveUser.length&&0!=e.getActiveUser.companyId&&(e.selectedBranch=e.getActiveUser.companyId)}),2e3)}},os=ns,ls=(s("a028"),Object(fe["a"])(os,qt,Rt,!1,null,null,null)),cs=ls.exports,us={computed:Object(o["a"])({},Object(l["b"])(["getIsAuth","getUsers","getBranch"])),data:function(){return{tokenId:null}},created:function(){if(localStorage.token_N_a){var e=g(localStorage.getItem("token_N_a"));this.$store.state.users.tokenNa=e}if(localStorage.token_H_a){var t=g(localStorage.getItem("token_H_a"));this.$store.state.users.tokenHa=t}localStorage.tokenId&&(this.tokenId=g(localStorage.getItem("tokenId")))},mounted:function(){var e=this;if(this.tokenId=JSON.parse(this.tokenId),this.tokenId){var t="",s=this.tokenId.id,a=this.tokenId.companyId;this.getUsers.filter((function(i){i.id==s&&(e.getBranch.forEach((function(e){e.id==a&&(t=e.name)})),e.$store.commit("setActiveUser",Object(o["a"])({},i,{companyName:t})))}))}localStorage.token&&this.$store.dispatch("hasToken",!0),null==this.tokenId&&this.$router.push("/login")}},ds={components:{eralpTable:Vt,excellExport:tt,newProductModal:cs},data:function(){return{search:{type:"beleg",label:"Beleg"},searchBox:"",lager:"All",filtredData:[],categoryFiltred:[],filterCategory:!1,loading:!0,datePicker:!1,datePickerElement:null,date:null,columns:[{label:"Zeit",field:"setupTime"},{label:"Vorname",field:"customerName"},{label:"Nachname",field:"customerLastname"},{label:"Straße",field:"customerAddress"},{label:"Telefon",field:"customerPhone"},{label:"Plz",field:"zipCode"},{label:"Beleg",field:"beleg"},{label:"Filiale",field:"companyId"},{label:"Tarif",field:"setupDefinition"},{label:"Abteilung",field:"department"}]}},mixins:[us],computed:Object(o["a"])({},Object(l["b"])(["getToday","getActiveUser","getCustomers"]),{filtred:function(){var e=this;return null!=this.date?this.filtredData.filter((function(t){if(e.date==t.setupDate)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())})):this.filtredData.filter((function(t){return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}))},resultCategoryFiltre:function(){var e=this;return null!=this.date?this.categoryFiltred.filter((function(t){if(e.date==t.setupDate)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())})):this.categoryFiltred.filter((function(t){return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}))}}),watch:{datePickerElement:function(e){if(null==e)this.searchBox="",this.datePicker=!1,this.date=null,this.search={type:"beleg",label:"Beleg"};else{this.datePicker=!0;var t=N(e);t=P(t),this.date=t}},lager:function(){var e=this;this.categoryFiltred=[],this.filtredData.filter((function(t){e.filterCategory=!0,"isHaus"==e.lager?t.isHaus&&!t.isAus&&e.categoryFiltred.push(t):"isAus"==e.lager?t.isAus&&!t.isHaus&&e.categoryFiltred.push(t):"isMich"==e.lager&&t.isAus&&t.isHaus&&e.categoryFiltred.push(t)})),"All"==this.lager&&(this.filterCategory=!1)}},methods:{searchingBeleg:function(){this.searchBox="",this.datePicker=!1,this.search={type:"beleg",label:"Beleg"}},SearchingPlz:function(){this.searchBox="",this.datePicker=!1,this.search={type:"zipCode",label:"Plz"}},SearchingUser:function(){this.searchBox="",this.datePicker=!1,this.search={type:"uUsername",label:"User"}},SearchingVorname:function(){this.datePicker=!1,this.searchBox="",this.search={type:"customerName",label:"Vorname"}},SearchingNachname:function(){this.searchBox="",this.datePicker=!1,this.search={type:"customerLastname",label:"Nachname"}}},mounted:function(){var e=this;0==this.getCustomers.length?this.$store.dispatch("initOrdersTable",this.getActiveUser.companyId).then((function(t){"success"==t?e.$store.dispatch("initSetupDefinitionTable").then((function(t){"success"==t&&(e.loading=!1)})):"fail"==t&&(localStorage.clear(),e.$router.push("/login"))})):this.loading=!1}},ms=ds,hs=(s("c9c1"),Object(fe["a"])(ms,Ke,Ze,!1,null,null,null)),ps=hs.exports,fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-3"},[s("el-row",{staticClass:"border shadow p-2"},[s("el-col",{attrs:{md:6,sm:24,xs:24}}),s("el-col",{staticClass:"text-center",attrs:{offset:1,sm:23,xs:23,md:5}},[e._v(" ** Helper geldiğinde çalışacak. "),s("el-select",{staticClass:"w-100 mt-4",attrs:{clearable:"",placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"my-3 text-right",attrs:{xs:24,sm:24,md:16}},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newPermission",modifiers:{newPermission:!0}}],attrs:{type:"primary",round:""}},[e._v("Sonderzeiten Neu")])],1)],1),s("el-table",{staticClass:"border shadow p-3 mt-3",staticStyle:{width:"100%"},attrs:{data:e.filtred,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"atDate",label:"Datum",sortable:""}}),s("el-table-column",{attrs:{prop:"atTime",label:"Uhrzeit",sortable:""}}),s("el-table-column",{attrs:{prop:"name",label:"Filiale"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(3==t.row.cid?"8 Filliale":t.row.name))]}}])}),s("el-table-column",{attrs:{prop:"quantity",label:"Menge"}})],1),s("new-permission-modal",{on:{newPermission:function(t){e.newPermission=t}}})],1)},gs=[],bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"newPermission",attrs:{id:"newPermission",size:"lg","hide-footer":""}},[s("el-row",[s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("h3",{staticClass:"text-center",staticStyle:{"font-weight":"400"}},[e._v("Datum")]),s("el-date-picker",{attrs:{type:"date",placeholder:"Pick a day","picker-options":e.pickerOptions},model:{value:e.permissionDateElement,callback:function(t){e.permissionDateElement=t},expression:"permissionDateElement"}})],1),s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("h3",{staticClass:"text-center",staticStyle:{"font-weight":"400"}},[e._v("Uhrzeit")]),s("el-select",{attrs:{placeholder:"Select"},model:{value:e.selectedTimes,callback:function(t){e.selectedTimes=t},expression:"selectedTimes"}},e._l(e.getTimes,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),s("el-row",[s("el-col",{attrs:{span:12}},[s("h3",{staticClass:"text-center mt-4",staticStyle:{"font-weight":"400"}},[e._v("Filiale")]),s("el-select",{staticClass:"w-100 mt-1",attrs:{placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"text-right",attrs:{offset:4,span:4}},[s("h3",{staticClass:"text-center mt-4",staticStyle:{"font-weight":"400"}},[e._v("Menge")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.permission,expression:"permission"}],staticClass:"w-100 p-2 rounded border",attrs:{type:"text",name:"",placeholder:"Menge",id:""},domProps:{value:e.permission},on:{input:function(t){t.target.composing||(e.permission=t.target.value)}}})])],1),s("el-row",{staticClass:"mt-4"},[s("el-col",{staticClass:"text-center",attrs:{span:24}},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.sendNewPermission()}}},[e._v("Speichern")])])],1)],1)},vs=[],ks={data:function(){return{selectedBranch:"",errPoint:[],permissionDateElement:null,permissionDate:"",selectedTimes:"",permission:"",pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"Today",onClick:function(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]}}},computed:Object(o["a"])({},Object(l["b"])(["getBranch","getTimes"])),watch:{permissionDateElement:function(e){var t=N(e);this.permissionDate=t}},methods:{sendNewPermission:function(){var e=this;if(this.errPoint=[],""==this.permissionDate&&this.errPoint.push({err:"Datum"}),""==this.selectedTimes&&this.errPoint.push({err:"Zeit"}),""==this.selectedBranch&&this.errPoint.push({err:"Filiale"}),""==this.permission&&this.errPoint.push({err:"Sonderzeiten"}),0!=this.errPoint.length)for(var t=function(t){setTimeout((function(){e.$notify({title:"Errors",message:"Ungültiger "+e.errPoint[t].err,type:"error"})}),50*t)},s=0;s<this.errPoint.length;s++)t(s);else{var a="";1==this.selectedBranch||2==this.selectedBranch?(this.selectedBranch=his.selectedBranch,1==this.selectedBranch&&(a="Alex"),2==this.selectedBranch&&(a="Steglitz")):(this.selectedBranch=3,a="8 Filliale"),this.$store.dispatch("pushPermissions",{date:this.permissionDate,time:this.selectedTimes,branch:this.selectedBranch,permission:this.permission}).then((function(t){null!=t.data&&(e.$emit("newPermission",Object(o["a"])({},t.data,{name:a})),e.$refs["newPermission"].hide())}))}}}},ws=ks,ys=Object(fe["a"])(ws,bs,vs,!1,null,null,null),Cs=ys.exports,xs={computed:Object(o["a"])({},Object(l["b"])(["getActiveUser"])),beforeMount:function(){0!=this.getActiveUser.companyId&&this.$router.push("/")}},_s={components:{newPermissionModal:Cs},data:function(){return{lager:"All",editedUser:[],editUserIndex:null,editStatus:!1,category:!1,newPermission:[],selectedBranch:"",searchBox:"",search:{type:"name",label:"Vorname"},datePickerElement:null,tableData:[],editUserItems:[],filtredName:null,permissionData:[]}},mixins:[us,xs],computed:Object(o["a"])({},Object(l["b"])(["getBranch","getPermissions"]),{filtred:function(){var e=this;return"All"!=this.lager?this.permissionData.filter((function(t){if(t[e.lager]){if(""==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase());if(t.branch==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}})):""==this.selectedBranch?""==this.searchBox?this.permissionData:this.permissionData.filter((function(t){return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())})):this.permissionData.filter((function(t){if(t.branch==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}))},filtredBranch:function(){var e=this;return"All"!=this.lager?this.permissionData.filter((function(t){if(t[e.lager]){if(""==e.selectedBranch)return t;if(t.branch==e.selectedBranch)return t}})):""==this.selectedBranch?this.permissionData:this.permissionData.filter((function(t){if(t.branch==e.selectedBranch)return t}))}}),methods:{searchingUser:function(e){"login"==e&&(this.search={type:"login",label:"Login"}),"name"==e&&(this.search={type:"name",label:"Vorname"}),"lastname"==e&&(this.search={type:"lastname",label:"Nachname"})},editUser:function(e){this.editUserIndex=e,this.editUserItems=this.permissionData[e]}},watch:{newPermission:function(e){this.permissionData.unshift(e)},editedUser:function(){this.permissionData[this.editUserIndex]=this.editedUser},selectedBranch:function(){}},mounted:function(){var e=this;ie("companyAddRight").then((function(t){t.body.forEach((function(t){e.getBranch.forEach((function(s){t.companyId==s.id&&e.permissionData.push(Object(o["a"])({},t,{cid:s.id,name:s.name}))}))}))}))}},Is=_s,Ss=(s("0a31"),Object(fe["a"])(Is,fs,gs,!1,null,"c13f67a8",null)),Ts=Ss.exports,Ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",[e._e(),s("el-col",[[s("div",{staticClass:"p-md-5 border shadow"},e._l(e.branches,(function(t,a){return s("div",{key:a,staticClass:"border my-2 p-2  p-sm-0"},[s("h3",{staticStyle:{"font-weight":"800"}},[e._v(e._s("PP"==t.name?"8 Filliale":t.name)+" - "+e._s(1==t.onDay?"Pazartesi":2==t.onDay?"Salı":3==t.onDay?"Çarşamba":4==t.onDay?"Perşembe":5==t.onDay?"Cuma":6==t.onDay?"Cumartesi":""))]),s("table",{staticClass:"table table-responsive-sm w-100"},[s("thead",[s("tr",[s("th",[e._v("Filliale")]),s("th",[e._v("8-12")]),s("th",[e._v("10-14")]),s("th",[e._v("12-16")]),s("th",[e._v("14-18")]),s("th",[e._v("16-20")]),s("th",[e._v("total")])])]),s("tbody",[s("tr",[s("td",[e._v(e._s(t.name))]),s("td",[e._v(e._s(t.t8_12))]),s("td",[e._v(e._s(t.t10_14))]),s("td",[e._v(e._s(t.t12_16))]),s("td",[e._v(e._s(t.t14_18))]),s("td",[e._v(e._s(t.t16_20))]),s("td",[e._v(e._s(t.total))])])])])])})),0),s("div",[s("hr")])],s("new-branch-modal")],2)],1),s("el-drawer",{attrs:{title:"I am the title",direction:"ltr",visible:e.drawer,size:"20%","with-header":!1},on:{"update:visible":function(t){e.drawer=t}}},[s("div",{staticClass:"mb-4"},[0!=e.errPoint.length?s("strong",{staticClass:"text-danger animated pulse infinite",staticStyle:{"font-weight":"800"}},[e._v("ERROR :")]):e._e(),e._l(e.errPoint,(function(t,a){return s("span",{key:a},[s("span",{staticClass:"shadow",style:e.tagRed},[e._v(e._s(t.err))])])}))],2),s("el-row",{staticClass:"p-3"},[s("el-col",{staticClass:"text-right",attrs:{span:23}},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendEditBranch()}}},[s("i",{staticClass:"fas fa-address-card"}),e._v("Speichern")])],1)],1),s("el-row",{staticClass:"p-3"},[s("el-col",{attrs:{sm:24,xs:24}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editBranchItems.label,expression:"editBranchItems.label"}],attrs:{type:"text",required:""},domProps:{value:e.editBranchItems.label},on:{input:function(t){t.target.composing||e.$set(e.editBranchItems,"label",t.target.value)}}}),s("label",[e._v("Filiale")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editBranchItems.time812,expression:"editBranchItems.time812"}],attrs:{type:"text",required:""},domProps:{value:e.editBranchItems.time812},on:{input:function(t){t.target.composing||e.$set(e.editBranchItems,"time812",t.target.value)}}}),s("label",[e._v("8-12")])])])])]),s("el-col",{attrs:{sm:24,xs:24}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editBranchItems.time1014,expression:"editBranchItems.time1014"}],attrs:{type:"text",required:""},domProps:{value:e.editBranchItems.time1014},on:{input:function(t){t.target.composing||e.$set(e.editBranchItems,"time1014",t.target.value)}}}),s("label",[e._v("10-14")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editBranchItems.time1216,expression:"editBranchItems.time1216"}],attrs:{type:"text",required:""},domProps:{value:e.editBranchItems.time1216},on:{input:function(t){t.target.composing||e.$set(e.editBranchItems,"time1216",t.target.value)}}}),s("label",[e._v("12-16")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editBranchItems.time1418,expression:"editBranchItems.time1418"}],attrs:{type:"text",required:""},domProps:{value:e.editBranchItems.time1418},on:{input:function(t){t.target.composing||e.$set(e.editBranchItems,"time1418",t.target.value)}}}),s("label",[e._v("14-18")])])])])])],1)],1)],1)},Ns=[],As=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"newBranch",attrs:{id:"newBranch",size:"lg","hide-footer":"",title:"Nue Filiale"}},[s("div",{staticClass:"mb-4"},[0!=e.errPoint.length?s("strong",{staticClass:"text-danger animated pulse infinite",staticStyle:{"font-weight":"800"}},[e._v("ERROR :")]):e._e(),e._l(e.errPoint,(function(t,a){return s("span",{key:a},[s("span",{staticClass:"shadow",style:e.tagRed},[e._v(e._s(t.err))])])}))],2),s("el-row",[s("el-col",{staticClass:"text-right",attrs:{span:23}},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendNewcompany()}}},[s("i",{staticClass:"fas fa-address-card"}),e._v("Speichern")])],1)],1),s("el-row",[s("el-col",{attrs:{sm:22,offset:2,md:10,xs:22}},[s("eralp-form",{on:{inputVModel:function(t){e.branchName=t}}},[e._v("Filiale")]),s("eralp-form",{on:{inputVModel:function(t){e.time812=t}}},[e._v("8-12")])],1),s("el-col",{attrs:{sm:22,xs:22,offset:2,md:10}},[s("eralp-form",{on:{inputVmodel:function(t){e.time1014=t}}},[e._v("10-14")]),s("eralp-form",{on:{inputVModel:function(t){e.time1216=t}}},[e._v("12-16")]),s("eralp-form",{on:{inputVModel:function(t){e.time1418=t}}},[e._v("14-18")])],1)],1)],1)},Ds=[],Bs={components:{eralpForm:es},data:function(){return{time812:0,time1014:0,time1216:0,time1418:0,errPoint:[],tagRed:{padding:"8px",background:"rgb(253, 167, 167)",color:"red",borderRadius:"20px",margin:"0 5px",fontWeight:800},branchName:""}},methods:{sendNewcompany:function(){var e=this;if(this.errPoint=[],""==this.branchName&&this.errPoint.push({err:"Filiale"}),0==this.errPoint.length)this.$store.dispatch("sendNewBranch",{isActive:!0,value:this.branchName,label:this.branchName,time812:this.time812,time1014:this.time1014,time1216:this.time1216,time1418:this.time1418}),this.$refs["newBranch"].hide();else for(var t=function(t){setTimeout((function(){e.$notify({title:"Error",message:"Ungültiger "+e.errPoint[t].err,type:"error",duration:7e3})}),50*t)},s=0;s<this.errPoint.length;s++)t(s)}}},Ls=Bs,$s=Object(fe["a"])(Ls,As,Ds,!1,null,null,null),Es=$s.exports,Os={components:{newBranchModal:Es},computed:Object(o["a"])({},Object(l["b"])(["getBranch"])),data:function(){return{editBranchItems:[],drawer:!1,errPoint:[],premiumBranch:[],normallyBranch:[],branches:[]}},mixins:[us,xs],methods:{editBranch:function(e){this.editBranchItems=e,this.drawer=!0},sendEditBranch:function(){var e=this;""==this.editBranchItems.label?(setTimeout((function(){e.$notify({title:"Error",message:"Filiale",type:"error",duration:7e3})}),100),this.errPoint.push({err:"Filiale"})):(this.editBranchItems.value=this.editBranchItems.label,this.drawer=!1)},removeBranch:function(e){this.$confirm("Möchten Sie dies wirklich entfernen?").then((function(t){e.isActive=!1,done()})).catch((function(e){}))}},mounted:function(){var e=this;ie("companyRight?limit=30").then((function(t){var s=t.body;s.forEach((function(t){e.getBranch.forEach((function(s){t.companyId==s.id&&e.branches.push(Object(o["a"])({},t,{},s))}))}))}))}},Us=Os,zs=Object(fe["a"])(Us,Ps,Ns,!1,null,null,null),Ms=zs.exports,js=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-3"},[e.editStatus?s("i",{staticClass:"text-dark shadow bg-warning border rounded-circle p-3 mr-3 mb-3 position-fixed el-icon-close printIcon",on:{click:function(t){e.editStatus=!1}}}):s("i",{staticClass:"text-dark shadow bg-warning border rounded-circle p-3 mr-3 mb-3 position-fixed el-icon-edit printIcon",on:{click:function(t){e.editStatus=!0}}}),s("el-row",{staticClass:"border shadow p-2"},[s("el-col",{staticClass:"my-3 text-right",attrs:{xs:24,sm:24,md:24}},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newUser",modifiers:{newUser:!0}}],attrs:{type:"primary",round:""}},[s("i",{staticClass:"fas fa-address-card"}),e._v(" Neu User Anlegen")])],1)],1),s("el-row",{staticClass:"border shadow p-2  mt-3"},[s("el-col",{attrs:{md:8,sm:24,xs:24}},[s("div",{staticClass:"w-100 bg-white p-3 mt-3 text-center"},[s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700","border-radius":"25px 0 0 25px"},style:"All"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="All"}}},[e._v("All")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700"},style:"isActive"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isActive"}}},[e._v("Aktiv")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700"},style:"isLagerLogin"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isLagerLogin"}}},[e._v("Lager Login")]),s("span",{staticClass:"p-2 px-md-3 border transition",staticStyle:{cursor:"pointer","font-weight":"700","border-radius":"0 25px 25px 0"},style:"belegnrandern"==e.lager?{color:"#0063b2",backgroundColor:"#9cc3d5"}:{color:"#89abe3",backgroundColor:"#fcf6f5"},on:{click:function(t){e.lager="isBelegNrAndern"}}},[e._v("Beleg")])])]),s("el-col",{staticClass:"text-center",attrs:{offset:1,sm:23,xs:23,md:5}},[s("el-select",{staticClass:"w-100 mt-4",attrs:{clearable:"",placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"text-right mt-2",attrs:{offset:1,sm:13,xs:13,md:4}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBox,expression:"searchBox"}],attrs:{type:"text",required:""},domProps:{value:e.searchBox},on:{input:function(t){t.target.composing||(e.searchBox=t.target.value)}}}),s("label",[e._v(e._s(e.search.label))])])])]),s("el-col",{staticClass:"my-3 ml-3",attrs:{sm:8,xs:8,md:3}},[s("el-dropdown",[s("el-button",{attrs:{round:"",type:"primary"}},[e._v(" "+e._s(e.search.label)+" "),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[s("div",{on:{click:function(t){return e.searchingUser("username")}}},[e._v("User")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.searchingUser("name")}}},[e._v("Vorname")])]),s("el-dropdown-item",[s("div",{on:{click:function(t){return e.searchingUser("lastname")}}},[e._v("Nachname")])])],1)],1)],1),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.filtred,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"name",label:"Vorname",sortable:""}}),s("el-table-column",{attrs:{prop:"lastname",label:"Nachname"}}),s("el-table-column",{attrs:{prop:"username",label:"login"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("p",{directives:[{name:"b-modal",rawName:"v-b-modal.editUserModal",modifiers:{editUserModal:!0}}],staticClass:"text-primary",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.editUser(t.row,t.$index)}}},[e._v(e._s(t.row.username))])]}}])}),s("el-table-column",{attrs:{prop:"companyId",label:"Filiale"}}),s("el-table-column",{attrs:{prop:"isActive",label:"Aktiv"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isActive?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isAnlegen:t.row.isActive})}},model:{value:t.row.isActive,callback:function(s){e.$set(t.row,"isActive",s)},expression:"scope.row.isActive"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isAnlegen",label:"Anlegen"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isAnlegen?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isAnlegen:t.row.isAnlegen})}},model:{value:t.row.isAnlegen,callback:function(s){e.$set(t.row,"isAnlegen",s)},expression:"scope.row.isAnlegen"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isStornieren",label:"Stornieren"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isStornieren?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isStornieren:t.row.isStornieren})}},model:{value:t.row.isStornieren,callback:function(s){e.$set(t.row,"isStornieren",s)},expression:"scope.row.isStornieren"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isBelegAndern",label:"Beleg Nr. Andern"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isBelegAndern?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isBelegAndern:t.row.isBelegAndern})}},model:{value:t.row.isBelegAndern,callback:function(s){e.$set(t.row,"isBelegAndern",s)},expression:"scope.row.isBelegAndern"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isLagerLogin",label:"Lager Login"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isLagerLogin?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isLagerLogin:t.row.isLagerLogin})}},model:{value:t.row.isLagerLogin,callback:function(s){e.$set(t.row,"isLagerLogin",s)},expression:"scope.row.isLagerLogin"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isLagerSchreiben",label:"Lager Schreiben"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isLagerSchreiben?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isLagerSchreiben:t.row.isLagerSchreiben})}},model:{value:t.row.isLagerSchreiben,callback:function(s){e.$set(t.row,"isLagerSchreiben",s)},expression:"scope.row.isLagerSchreiben"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isLagerArtikel",label:"Lager Artikel"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isLagerArtikel?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isLagerArtikel:t.row.isLagerArtikel})}},model:{value:t.row.isLagerArtikel,callback:function(s){e.$set(t.row,"isLagerArtikel",s)},expression:"scope.row.isLagerArtikel"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isLagerZuruck",label:"Lager zurück auf Ablage"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isLagerZuruck?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isLagerZuruck:t.row.isLagerZuruck})}},model:{value:t.row.isLagerZuruck,callback:function(s){e.$set(t.row,"isLagerZuruck",s)},expression:"scope.row.isLagerZuruck"}}):e._e()]}}])}),s("el-table-column",{attrs:{prop:"isLagerStorneleg",label:"Lager Storno Beleg"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{class:t.row.isLagerStorneleg?"el-icon-circle-check text-success":"el-icon-circle-close text-danger"}),e.editStatus?s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return e.putUserPermission(t.row.id,{isLagerStorneleg:t.row.isLagerStorneleg})}},model:{value:t.row.isLagerStorneleg,callback:function(s){e.$set(t.row,"isLagerStorneleg",s)},expression:"scope.row.isLagerStorneleg"}}):e._e()]}}])})],1)],1),s("new-user-modal"),0!=e.editUserItems.length?s("edit-user-modal",{attrs:{editUserItems:e.editUserItems},on:{editedUser:function(t){e.editedUser=t}}}):e._e()],1)},Hs=[],Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"newUser",size:"xl",title:"Extra Large Modal","hide-footer":""}},[s("div",{staticClass:"mb-4"},[0!=e.errPoint.length?s("strong",{staticClass:"text-danger animated pulse infinite",staticStyle:{"font-weight":"800"}},[e._v("ERROR :")]):e._e(),e._l(e.errPoint,(function(t,a){return s("span",{key:a},[s("span",{staticClass:"shadow",style:e.tagRed},[e._v(e._s(t.err))])])}))],2),s("el-row",[s("el-col",{staticClass:"text-left",attrs:{span:12}},[s("el-select",{attrs:{clearable:"",placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"text-right",attrs:{span:12}},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendNewUser()}}},[e._v("Speichern")])],1)],1),s("el-row",{staticClass:"mt-3"},[s("el-col",{attrs:{xs:24,sm:24,offset:2,md:9}},[s("div",{staticClass:"p-3 border shadow rounded"},[s("h3",{staticClass:"text-center text-primary",staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v("Vollständiger Name")]),s("div",{staticClass:"form-group"},[s("eralp-form",{on:{inputVModel:function(t){e.user.name=t}}},[e._v("Vorname")])],1),s("div",{staticClass:"form-group mt-2"},[s("eralp-form",{on:{inputVModel:function(t){e.user.lastname=t}}},[e._v("Nachname")])],1)])]),s("el-col",{attrs:{xs:24,sm:24,md:9,offset:2}},[s("div",{staticClass:"border p-3 shadow rounded"},[s("h3",{staticClass:"text-center text-primary",staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v("Login")]),s("div",{staticClass:"form-group"},[s("eralp-form",{on:{inputVModel:function(t){e.user.username=t}}},[e._v("Username")])],1),s("div",{staticClass:"form-group"},[s("eralp-form",{on:{inputVModel:function(t){e.user.password=t}}},[e._v("Passwort")])],1)])])],1),s("hr"),s("el-row",[s("div",[s("h3",{staticClass:"text-center text-primary my-5",staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v("Berechtigung Zuteilen")]),s("el-col",{attrs:{xs:24,sm:24,md:10}},[s("div",{staticClass:"form-group"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("Check all")]),s("div",{staticStyle:{margin:"15px 0"}}),s("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedAuthority,callback:function(t){e.checkedAuthority=t},expression:"checkedAuthority"}},e._l(e.authority,(function(t){return s("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)]),s("el-col",{attrs:{xs:24,sm:24,md:10,offset:2}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-group"},[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminateLager},on:{change:e.handleCheckAllChangeLager},model:{value:e.checkAllLager,callback:function(t){e.checkAllLager=t},expression:"checkAllLager"}},[e._v("Check all")]),s("div",{staticStyle:{margin:"15px 0"}}),s("el-checkbox-group",{on:{change:e.handleCheckedCitiesChangeLager},model:{value:e.checkedAuthorityLager,callback:function(t){e.checkedAuthorityLager=t},expression:"checkedAuthorityLager"}},e._l(e.authorityLager,(function(t){return s("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1)],1)])])],1)])],1)},Ws=[],Gs=["Auftrag anlegen","Auftrag stornieren","Belegnr. ändern","Beleg ändern"],Vs=["Lager Login","Lager Schreibrechte","Lager Artikelverwaltung","Lager zurück auf Ablage","Lager Storno Beleg"],qs={components:{eralpForm:es},data:function(){return{tagRed:{padding:"8px",background:"rgb(253, 167, 167)",color:"red",borderRadius:"20px",margin:"0 5px",fontWeight:800},checkAll:!1,checkedAuthority:[],authority:Gs,isIndeterminate:!0,checkAllLager:!1,checkedAuthorityLager:[],authorityLager:Vs,isIndeterminateLager:!0,user:{name:"",lastname:"",username:"",password:""},options:[{value:"PP",label:"PP"},{value:"Alex",label:"Alex"},{value:"Treptow",label:"Treptow"},{value:"EG",label:"EG"},{value:"Potsdam",label:"Potsdam"},{value:"MZ",label:"MZ"},{value:"ESM",label:"ESM"},{value:"Köpenick",label:"Köpenick"},{value:"GB",label:"GB"},{value:"Steglitz",label:"Steglitz"},{value:"EPK",label:"EPK"},{value:"EPB",label:"EPB"}],value:"",errPoint:[],selectedBranch:""}},computed:Object(o["a"])({},Object(l["b"])(["getBranch"])),methods:{handleCheckAllChange:function(e){this.checkedAuthority=e?Gs:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.authority.length,this.isIndeterminate=t>0&&t<this.authority.length},handleCheckAllChangeLager:function(e){this.checkedAuthorityLager=e?Vs:[],this.isIndeterminateLager=!1},handleCheckedCitiesChangeLager:function(e){var t=e.length;this.checkAllLager=t===this.authorityLager.length,this.isIndeterminateLager=t>0&&t<this.authorityLager.length},sendNewUser:function(){var e=this;if(this.errPoint=[],""==this.user.username&&(setTimeout((function(){e.$notify({title:"Error",message:"Ungültiger Benutzername",type:"error",duration:7e3})}),50),this.errPoint.push({err:"Ungültiger Benutzername"})),""==this.user.password&&(setTimeout((function(){e.$notify({title:"Error",message:"Ungültiges Passwort",type:"error",duration:7e3})}),100),this.errPoint.push({err:"Ungültiges Passwort"})),""==this.user.name&&(setTimeout((function(){e.$notify({title:"Error",message:"ungültiger Name",type:"error",duration:7e3})}),150),this.errPoint.push({err:"ungültiger Name"})),""==this.user.lastname&&(setTimeout((function(){e.$notify({title:"Error",message:"ungültiger Nachname",type:"error",duration:7e3})}),200),this.errPoint.push({err:"ungültiger Nachname"})),""==this.selectedBranch&&(setTimeout((function(){e.$notify({title:"Error",message:"ungültiger Zweig",type:"error",duration:7e3})}),250),this.errPoint.push({err:"ungültiger Zweig"})),0==this.errPoint.length){var t,s=!1,a=!1,i=!1,r=!1,n=!1,o=!1,l=!1,c=!1,u=!1;this.checkedAuthority.forEach((function(e){"Auftrag anlegen"==e&&(s=!0),"Auftrag stornieren"==e&&(a=!0),"Belegnr. ändern"==e&&(i=!0),"Beleg ändern"==e&&(r=!0)})),this.checkedAuthorityLager.forEach((function(e){"Lager Login"==e&&(n=!0),"Lager Schreibrechte"==e&&(o=!0),"Lager Artikelverwaltung"==e&&(l=!0),"Lager zurück auf Ablage"==e&&(c=!0),"Lager Storno Beleg"==e&&(u=!0)})),this.$store.dispatch("sendNewUser",(t={name:this.user.name,lastname:this.user.lastname,username:this.user.username,password:this.user.password,companyId:this.selectedBranch,isActive:!0,isAdmin:!1,isAnlegen:s,isStornieren:a,isBelegAndern:i},Object(Kt["a"])(t,"isBelegAndern",r),Object(Kt["a"])(t,"isLagerLogin",n),Object(Kt["a"])(t,"isLagerSchreiben",o),Object(Kt["a"])(t,"isLagerArtikel",l),Object(Kt["a"])(t,"isLagerZuruck",c),Object(Kt["a"])(t,"isLagerStorneleg",u),t)).then((function(t){"success"==t&&(e.$notify({title:"erfolgreich",message:"Der Benutzer wurde erfolgreich hinzugefügt.",type:"success",duration:7e3}),e.$bvModal.hide("newUser"))}))}}}},Rs=qs,Ks=Object(fe["a"])(Rs,Fs,Ws,!1,null,null,null),Zs=Ks.exports,Qs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"editUserModal",attrs:{id:"editUserModal",size:"xl",title:"Extra Large Modal","hide-footer":""}},[s("el-row",[s("el-col",{staticClass:"text-left",attrs:{span:12}},[s("el-select",{attrs:{clearable:"",placeholder:"Select"},model:{value:e.editUserItems.companyId,callback:function(t){e.$set(e.editUserItems,"companyId",t)},expression:"editUserItems.companyId"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"text-right",attrs:{span:12}},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendEditUser()}}},[e._v("Speichern")])],1),s("el-col",{staticClass:"text-center mt-3",attrs:{span:24}},[s("strong",{class:e.editUserItems.isActive?"text-success":"text-danger"},[e._v(e._s(e.editUserItems.isActive?"Aktiv":"Passiv")+" ")]),s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(t){return e.putUserPermission(e.editUserItems.id,{isActive:e.editUserItems.isActive})}},model:{value:e.editUserItems.isActive,callback:function(t){e.$set(e.editUserItems,"isActive",t)},expression:"editUserItems.isActive"}})],1)],1),s("el-row",{staticClass:"mt-3"},[s("el-col",{attrs:{xs:20,sm:20,md:9,offset:2}},[s("div",{staticClass:"p-3 border shadow rounded"},[s("h3",{staticClass:"text-center text-primary",staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v("Vollständiger Name")]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editUserItems.name,expression:"editUserItems.name"}],attrs:{type:"text",required:""},domProps:{value:e.editUserItems.name},on:{input:function(t){t.target.composing||e.$set(e.editUserItems,"name",t.target.value)}}}),s("label",[e._v("Vorname")])])])]),s("div",{staticClass:"form-group mt-2"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editUserItems.lastname,expression:"editUserItems.lastname"}],attrs:{type:"text",required:""},domProps:{value:e.editUserItems.lastname},on:{input:function(t){t.target.composing||e.$set(e.editUserItems,"lastname",t.target.value)}}}),s("label",[e._v("Nachname")])])])])])]),s("el-col",{attrs:{xs:20,sm:20,md:9,offset:2}},[s("div",{staticClass:"border p-3 shadow rounded mt-3 mt-md-0"},[s("h3",{staticClass:"text-center text-primary",staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v("Login")]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editUserItems.username,expression:"editUserItems.username"}],attrs:{type:"text",required:""},domProps:{value:e.editUserItems.username},on:{input:function(t){t.target.composing||e.$set(e.editUserItems,"username",t.target.value)}}}),s("label",[e._v("Login")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("label",[e._v("Passwort")])])])])])])],1),s("hr"),s("el-row")],1)},Js=[],Ys=["Auftrag anlegen","Auftrag stornieren","Belegnr. ändern","Beleg ändern"],Xs=["Lager Login","Lager Schreibrechte","Lager Artikelverwaltung","Lager zurück auf Ablage","Lager Storno Beleg"],ea={props:["editUserItems"],data:function(){return{checkAll:!1,checkedAuthority:!1,LagercheckedAuthority:[],authority:Ys,isIndeterminate:!0,checkAllLager:!1,checkedAuthorityLager:[],authorityLager:Xs,isIndeterminateLager:!0,user:{name:"",lastname:"",username:"",password:""},options:[{value:"PP",label:"PP"},{value:"Alex",label:"Alex"},{value:"Treptow",label:"Treptow"},{value:"EG",label:"EG"},{value:"Potsdam",label:"Potsdam"},{value:"MZ",label:"MZ"},{value:"ESM",label:"ESM"},{value:"Köpenick",label:"Köpenick"},{value:"GB",label:"GB"},{value:"Steglitz",label:"Steglitz"},{value:"EPK",label:"EPK"},{value:"EPB",label:"EPB"}],value:"",password:""}},computed:Object(o["a"])({},Object(l["b"])(["getBranch"])),watch:{editUserItems:function(){this.checkedAuthority=[],this.checkedAuthorityLager=[],this.editUserItems.isAnlegen&&this.checkedAuthority.push("Auftrag anlegen"),this.editUserItems.isStornieren&&this.checkedAuthority.push("Auftrag stornieren"),this.editUserItems.isBelegNrAndern&&this.checkedAuthority.push("Belegnr. ändern"),this.editUserItems.isBelegAndern&&this.checkedAuthority.push("Beleg ändern"),this.editUserItems.isLagerLogin&&this.checkedAuthorityLager.push("Lager Login"),this.editUserItems.isLagerschreiben&&this.checkedAuthorityLager.push("Lager Schreibrechte"),this.editUserItems.isLagerArtikel&&this.checkedAuthorityLager.push("Lager Artikelverwaltung"),this.editUserItems.isLagerZuruck&&this.checkedAuthorityLager.push("Lager zurück auf Ablage"),this.editUserItems.isLagerstornoBeleg&&this.checkedAuthorityLager.push("Lager Storno Beleg")}},methods:{putUserPermission:function(e,t){var s=this;ue("user",e,t).then((function(e){1==e.result&&setTimeout((function(){s.$notify({title:"Erfolg",message:"Der Benutzer wurde erfolgreich aktualisiert.",type:"success"})}))}))},sendEditUser:function(){var e=this;""!=this.password?me("password",{password:this.password}).then((function(t){ue("user",e.editUserItems.id,{name:e.editUserItems.name,lastname:e.editUserItems.lastname,username:e.editUserItems.username,password:t.result}).then((function(t){1==t.result&&le({userId:e.editUserItems.id,password:e.password}).then((function(t){setTimeout((function(){e.$notify({title:"Erfolg",message:"Der Benutzer wurde erfolgreich aktualisiert.",type:"success"})})),e.$emit("editedUser",e.editUserItems),e.hide("editUserModal")}))}))})):ue("user",this.editUserItems.id,{name:this.editUserItems.name,lastname:this.editUserItems.lastname,username:this.editUserItems.username,password:this.editUserItems.password}).then((function(t){1==t.result&&(setTimeout((function(){e.$notify({title:"Erfolg",message:"Der Benutzer wurde erfolgreich aktualisiert.",type:"success"})})),e.password="",e.$emit("editedUser",e.editUserItems),e.hide("editUserModal"))}))},hide:function(e){this.$refs[e].hide()},handleCheckAllChange:function(e){this.checkedAuthority=e?Ys:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.authority.length,this.isIndeterminate=t>0&&t<this.authority.length},handleCheckAllChangeLager:function(e){this.checkedAuthorityLager=e?Xs:[],this.isIndeterminateLager=!1},handleCheckedCitiesChangeLager:function(e){var t=e.length;this.checkAllLager=t===this.authorityLager.length,this.isIndeterminateLager=t>0&&t<this.authorityLager.length}},created:function(){this.checkedAuthority=[],this.checkedAuthorityLager=[],this.editUserItems.isAnlegen&&this.checkedAuthority.push("Auftrag anlegen"),this.editUserItems.isStornieren&&this.checkedAuthority.push("Auftrag stornieren"),this.editUserItems.isBelegNrAndern&&this.checkedAuthority.push("Belegnr. ändern"),this.editUserItems.isBelegAndern&&this.checkedAuthority.push("Beleg ändern"),this.editUserItems.isLagerLogin&&this.checkedAuthorityLager.push("Lager Login"),this.editUserItems.isLagerschreiben&&this.checkedAuthorityLager.push("Lager Schreibrechte"),this.editUserItems.isLagerArtikel&&this.checkedAuthorityLager.push("Lager Artikelverwaltung"),this.editUserItems.isLagerZuruck&&this.checkedAuthorityLager.push("Lager zurück auf Ablage"),this.editUserItems.isLagerstornoBeleg&&this.checkedAuthorityLager.push("Lager Storno Beleg")}},ta=ea,sa=Object(fe["a"])(ta,Qs,Js,!1,null,null,null),aa=sa.exports,ia={components:{newUserModal:Zs,editUserModal:aa},mixins:[us,xs],data:function(){return{lager:"All",editedUser:[],editUserIndex:null,editStatus:!1,category:!1,selectedBranch:"",searchBox:"",search:{type:"name",label:"Vorname"},datePickerElement:null,editUserItems:[],filtredName:null}},computed:Object(o["a"])({},Object(l["b"])(["getBranch","getUsers"]),{filtred:function(){var e=this;return"All"!=this.lager?this.getUsers.filter((function(t){if(t[e.lager]){if(""==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase());if(t.companyId==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}})):""==this.selectedBranch?""==this.searchBox?this.getUsers:this.getUsers.filter((function(t){return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())})):this.getUsers.filter((function(t){if(t.companyId==e.selectedBranch)return String(t[e.search.type]).toLowerCase().match(e.searchBox.toLowerCase())}))},filtredBranch:function(){var e=this;return"All"!=this.lager?this.getUsers.filter((function(t){if(t[e.lager]){if(""==e.selectedBranch)return t;if(t.companyId==e.selectedBranch)return t}})):""==this.selectedBranch?this.getUsers:this.getUsers.filter((function(t){if(t.companyId==e.selectedBranch)return t}))}}),methods:{putUserPermission:function(e,t){var s=this;ue("user",e,t).then((function(e){1==e.result&&setTimeout((function(){s.$notify({title:"Erfolg",message:"Der Benutzer wurde erfolgreich aktualisiert.",type:"success"})}))}))},searchingUser:function(e){"username"==e&&(this.search={type:"username",label:"Login"}),"name"==e&&(this.search={type:"name",label:"Vorname"}),"lastname"==e&&(this.search={type:"lastname",label:"Nachname"})},editUser:function(e,t){this.editUserIndex=t,this.editUserItems=e}},watch:{editedUser:function(){this.getUsers[this.editUserIndex]=this.editedUser},selectedBranch:function(){}}},ra=ia,na=(s("81f6"),Object(fe["a"])(ra,js,Hs,!1,null,"330a76a6",null)),oa=na.exports,la=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-5"},[s("el-row",[s("el-col",{staticClass:"border shadow rounded p-3",attrs:{sm:24,xs:24,md:24}},[s("el-row",[s("el-col",{staticClass:"text-center",attrs:{md:12,sm:24,xs:24}},[s("span",{staticStyle:{"font-weight":"800"}},[e._v("Filiale : ")]),e._v(" "),s("br"),s("el-select",{attrs:{disabled:!e.getActiveUser.isAdmin,placeholder:"Select"},model:{value:e.selectedBranch,callback:function(t){e.selectedBranch=t},expression:"selectedBranch"}},e._l(e.getBranch,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"text-center",attrs:{md:12,lg:6,sm:24,xs:24}},[s("span",{staticStyle:{"font-weight":"800"}},[e._v("Datum : ")]),e._v(" "),s("br"),s("el-date-picker",{staticClass:"w-100",attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"To","start-placeholder":"Start date","end-placeholder":"End date","picker-options":e.pickerOptions},model:{value:e.selectedDatePicker,callback:function(t){e.selectedDatePicker=t},expression:"selectedDatePicker"}})],1),s("el-col",{staticClass:"text-center mt-5",attrs:{span:24}},[s("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.search()}}},[e._v("Suche")])],1)],1)],1)],1),s("el-row",[s("el-col",[e.showTable?s("el-row",[s("el-col",{attrs:{span:12}},[s("div",[s("div",{staticStyle:{"margin-top":"20px"}},[s("el-button",{on:{click:function(t){return e.toggleSelection()}}},[e._v("Clear selection")])],1)])]),e.multipleSelection.length>1?s("el-col",{staticClass:"text-right mt-3",attrs:{span:12}},[s("el-button",{staticStyle:{"margin-left":"16px"},attrs:{type:"primary"},on:{click:function(t){e.drawer=!0}}},[e._v(" Change to Status ")])],1):e._e()],1):e._e(),e.showTable?s("el-table",{ref:"multipleTable",staticClass:"border shadow p-3 mt-3",staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.filtred,"default-sort":{prop:"date",order:"descending"}},on:{"selection-change":e.handleSelectionChange}},[e._v(" > "),s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"beleg",label:"Beleg",sortable:""}}),s("el-table-column",{attrs:{prop:"STATUS",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[s("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){return e.editedStatus()}},model:{value:e.editSelectedStatus,callback:function(t){e.editSelectedStatus=t},expression:"editSelectedStatus"}},e._l(e.getStatus,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),s("p",{staticClass:"text-primary",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},on:{click:function(s){return e.editStatus(t.row,t.row.orderid,t.$index)}},slot:"reference"},[e._v(" "+e._s("handover"==t.row.STATUS?"Übergeben":"Nhandover"==t.row.STATUS?"Nicht Übergeben":"provided"==t.row.STATUS?"Bereitgestellt":"Nprovided"==t.row.STATUS?"Nicht Bereitgestellt":"transmitted"==t.row.STATUS?"Übermittelt":"Nsubmitted"==t.row.STATUS?"Nicht Übermittelt":"")+" ")])],1)]}}],null,!1,396489900)}),s("el-table-column",{attrs:{prop:"customerName",label:"Vorname"}}),s("el-table-column",{attrs:{prop:"customerLastname",label:"Nachname"}}),s("el-table-column",{attrs:{prop:"zipCode",label:"Plz"}}),s("el-table-column",{attrs:{prop:"customerAddress",label:"Straße"}}),s("el-table-column",{attrs:{prop:"setupTime",label:"Uhrzeit"}}),s("el-table-column",{attrs:{prop:"setupDate",label:"Datum"}}),s("el-table-column",{attrs:{prop:"lager",sortable:"",label:"Lager"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isAus&&t.row.isHaus?"Michlager":t.row.isAus?"Außenlager":"Hauslager")+" ")]}}],null,!1,1658773877)})],1):e._e()],1)],1),s("el-drawer",{ref:"multiDrawer",attrs:{size:"70%",title:"Change to Status",visible:e.drawer,direction:e.direction},on:{"update:visible":function(t){e.drawer=t}}},[s("div",{staticClass:"p-3"},[s("el-row",[s("el-col",{staticClass:"text-right",attrs:{span:23}},[s("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){return e.editedMultiStatus()}},model:{value:e.editSelectedMultiStatus,callback:function(t){e.editSelectedMultiStatus=t},expression:"editSelectedMultiStatus"}},e._l(e.getStatus,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),s("el-button",{staticClass:"mx-2",attrs:{type:"primary",round:""},on:{click:function(t){return e.editedMultiStatus()}}},[s("i",{staticClass:"fa fa-check "}),e._v(" Suchen")])],1)],1),s("h3",{staticStyle:{"font-weight":"700","text-decoration":"underline"}},[e._v(" Deine Entscheidungen ")]),s("div",{staticStyle:{"overflow-y":"scroll","overflow-x":"hidden",height:"400px"}},[e.showTable?s("el-table",{staticClass:"border shadow p-3 mt-3",staticStyle:{width:"100%"},attrs:{"row-class-name":e.tableRowClassName,data:e.multipleSelection,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"beleg",label:"Beleg",sortable:""}}),s("el-table-column",{attrs:{prop:"STATUS",label:"Status",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[s("el-select",{attrs:{placeholder:"Select"},on:{change:function(t){return e.editedStatus()}},model:{value:e.editSelectedStatus,callback:function(t){e.editSelectedStatus=t},expression:"editSelectedStatus"}},e._l(e.getStatus,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),s("p",{staticClass:"bg-success shadow rounded p-2 text-white",staticStyle:{cursor:"pointer"},attrs:{slot:"reference"},on:{click:function(s){return e.editStatus(t.$index)}},slot:"reference"},[e._v(" "+e._s("handover"==t.row.STATUS?"Übergeben":"Nhandover"==t.row.STATUS?"Nicht Übergeben":"provided"==t.row.STATUS?"Bereitgestellt":"Nprovided"==t.row.STATUS?"Nicht Bereitgestellt":"transmitted"==t.row.STATUS?"Übermittelt":"Nsubmitted"==t.row.STATUS?"Nicht Übermittelt":"")+" ")])],1)]}}],null,!1,3333378315)}),s("el-table-column",{attrs:{prop:"customerName",label:"Vorname"}}),s("el-table-column",{attrs:{prop:"customerLastname",label:"Nachname"}}),s("el-table-column",{attrs:{prop:"zipCode",label:"Plz"}}),s("el-table-column",{attrs:{prop:"customerAddress",label:"Straße"}}),s("el-table-column",{attrs:{prop:"setupTime",label:"Uhrzeit"}}),s("el-table-column",{attrs:{prop:"setupDate",label:"Datum"}}),s("el-table-column",{attrs:{prop:"lager",sortable:"",label:"Lager"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isAus&&t.row.isHaus?"Michlager":t.row.isAus?"Außenlager":"Hauslager")+" ")]}}],null,!1,1658773877)})],1):e._e()],1)],1)])],1)},ca=[],ua={mixins:[us],computed:Object(o["a"])({},Object(l["b"])(["getBranch","getStatus","getLager","getCustomers","getActiveUser"])),data:function(){return{selectedBranch:null,index:null,filtred:[],editSelectedMultiStatus:null,showTable:!1,selectedDatePicker:null,selectedStatus:null,selectedLager:null,startDate:null,endDate:null,statusId:null,startDateNum:null,drawer:!1,direction:"btt",editSelectedStatus:null,endDateNum:null,multipleSelection:[],pickerOptions:{shortcuts:[{text:"Last week",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"Last month",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"Last 3 months",onClick:function(e){var t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]}}},methods:{search:function(){var e=this;oe("ghs/statusHelper",{companyId:this.selectedBranch,startDate:this.startDate,endDate:this.endDate}).then((function(t){e.filtred=t.data,e.showTable=!0}))},editedMultiStatus:function(){var e=this;this.multipleSelection.forEach((function(t){ue("orders",t.orderid,{STATUS:e.editSelectedMultiStatus}),t.STATUS=e.editSelectedMultiStatus})),setTimeout((function(){e.$refs["multiDrawer"].hide(),e.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}),1e3)},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},tableRowClassName:function(e){e.row,e.rowIndex},editStatus:function(e,t,s){this.editSelectedStatus=e.STATUS,this.index=s,this.statusId=t},editedStatus:function(e,t){var s=this;this.filtred[this.index].STATUS=this.editSelectedStatus,ue("orders",this.statusId,{status:this.editSelectedStatus}).then((function(e){s.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}))}},watch:{selectedDatePicker:function(e){this.startDate=N(e[0]),this.endDate=N(e[1])}},mounted:function(){this.getActiveUser.isAdmin||(this.selectedBranch=this.getActiveUser.companyId)}},da=ua,ma=Object(fe["a"])(da,la,ca,!1,null,null,null),ha=ma.exports,pa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",[s("el-col",{staticClass:"p-1",attrs:{sm:24,xs:24,md:8}}),s("el-col",{attrs:{sm:24,xs:24,md:8}},[s("div",{staticClass:"text-center border rounded shadow bg-light p-4"},[s("h2",{staticClass:"text-center"},[e._v("Re Passwort")]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPass,expression:"newPass"}],attrs:{type:"text",required:""},domProps:{value:e.newPass},on:{input:function(t){t.target.composing||(e.newPass=t.target.value)}}}),s("label",[e._v(" New Password ")])])]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.reNewPass,expression:"reNewPass",modifiers:{lazy:!0}}],class:e.reNewPass==e.newPass?"border-success border-bottom ":"border-danger border-bottom animated shake",attrs:{type:"text",required:""},domProps:{value:e.reNewPass},on:{change:function(t){e.reNewPass=t.target.value}}}),s("label",[e._v(" Confirm New Password ")])])]),s("small",{staticClass:"text-muted"},[e._v(e._s((e.reNewPass,e.newPass,"")))]),s("div",{staticClass:"form-group text-right"},[s("el-button",{attrs:{type:"primary",disabled:e.reNewPass!=e.newPass},on:{click:function(t){return e.sendNewPassword()}}},[e._v("Speichern")])],1)])])],1)],1)},fa=[],ga={mixins:[us],data:function(){return{newPass:"",reNewPass:"",errPoint:[]}},computed:Object(o["a"])({},Object(l["b"])(["getActiveUser","getUserPassword"])),methods:{sendNewPassword:function(){var e=this;if(this.errPoint=[],""==this.newPass&&this.errPoint.push({err:"Eksik Yeni Şifre"}),""==this.reNewPass&&this.errPoint.push({err:"Şifreler Uyuşmuyor"}),0==this.errPoint.length)me("password",{password:this.newPass}).then((function(t){ue("user",e.getActiveUser.id,{password:t.result}).then((function(t){1==t.result&&le({userId:e.getActiveUser.id,password:e.newPass}).then((function(t){setTimeout((function(){e.$notify({title:"Erfolg",message:"Der Benutzer wurde erfolgreich aktualisiert.",type:"success"})}))}))}))}));else for(var t=function(t){setTimeout((function(){e.$notify({title:"Erfolg",message:e.errPoint[t].err,type:"success"})}),50*t)},s=0;s<this.errPoint.length;s++)t(s)}},mounted:function(){this.getActiveUser.isAdmin&&this.$router.push("/index")}},ba=ga,va=Object(fe["a"])(ba,pa,fa,!1,null,null,null),ka=va.exports,wa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center"},[e.show?e._e():s("div",{staticClass:"position-fixed",staticStyle:{bottom:"20px",right:"100px","z-index":"1050"}},[s("span",{},[s("i",{staticClass:"fas fa-table rounded-circle p-3 px-2 shadow bg-warning text-dark hoverDanger",staticStyle:{"font-size":"40px",cursor:"pointer"},on:{click:function(t){e.drawer=!0}}})])]),e.getActiveUser.isLagerArtikel?s("div",{staticClass:"position-fixed",staticStyle:{bottom:"100px",right:"20px","z-index":"1050"}},[s("span",{},[s("i",{staticClass:"fas fa-cog rounded-circle p-3 px-2 shadow bg-secondary text-white hoverSecondary",staticStyle:{"font-size":"40px",cursor:"pointer"},on:{click:function(t){e.drawer2=!0}}})])]):e._e(),null!=e.branchId?s("div",{staticClass:"position-fixed",staticStyle:{bottom:"20px",right:"20px","z-index":"1050"}},[s("span",{},[s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.exportPdf",modifiers:{exportPdf:!0}}],staticClass:"fas fa-file-pdf rounded-circle p-3 px-4  shadow bg-danger text-white hoverDanger",staticStyle:{"font-size":"40px",cursor:"pointer"},on:{click:function(t){return e.selectedPdfDataMethod()}}})])]):e._e(),s("transition",{attrs:{"leave-active-class":"animated fadeOut"}},[e.show&&e.getActiveUser.isAdmin?s("ul",{staticClass:"rolldown-list text-center p-md-5 p-2 border rounded shadow ",attrs:{id:"myList"}},e._l(e.getBranch,(function(t,a){return s("li",{key:a,staticClass:"text-white hover shadow my-2",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.setBranchId(t.id,t.name)}}},[e._v(e._s(t.name))])})),0):e._e()]),e.show?e._e():s("el-row",{key:"x",staticClass:"border shadow p-1 bg-light"},[s("el-col",{staticClass:"my-3  text-left",attrs:{span:8}},[e.getActiveUser.isAdmin?s("el-button",{staticClass:"ml-5",attrs:{type:"primary",round:""},on:{click:function(t){e.show=!0}}},[s("i",{staticClass:"fas fa-arrow-left"}),e._v(" Back")]):e._e()],1),s("el-col",{staticClass:"text-center ",attrs:{span:8}},[s("div",{staticClass:"p-4",staticStyle:{"font-weight":"300"}},[s("el-button",{staticClass:"ml-5",attrs:{type:"primary",round:""}},[s("i",{staticClass:"fas fa-star"}),e._v(" "+e._s(e.branchName))])],1),s("el-button",{staticClass:"ml-5",attrs:{type:"info",round:""}},[s("i",{class:"branchOverview"!=e.componentName?"fas fa-minus":"fas fa-plus"}),e._v(" "+e._s("branchOverview"!=e.componentName?"Warenausgang":"Wareneingang"))])],1),s("el-col",{staticClass:"my-3 text-right",attrs:{span:8}},[s("el-button",{staticClass:"mr-5",attrs:{type:"primary",round:""},on:{click:function(t){"branchOverview"==e.componentName?e.setComponentName("wausBranchOverview"):e.setComponentName("branchOverview")}}},[s("i",{staticClass:"fas fa-sync"}),e._v(" "+e._s("branchOverview"==e.componentName?"Warenausgang":"Wareneingang"))])],1)],1),e.show?e._e():s(e.componentName,{key:"y",tag:"component",attrs:{branchId:e.branchId,branchName:e.branchName,getBranchLager:e.getBranchLager}}),e.show?e._e():s("el-drawer",{attrs:{title:"I am the title",visible:e.drawer,direction:"btt",size:"95%","with-header":!1},on:{"update:visible":function(t){e.drawer=t}}},[s("el-row",[s("el-col",{staticStyle:{"overflow-y":"scroll","overflow-x":"hidden",height:"800px"}},[s("div",{staticClass:"text-right mr-5 mt-4"},[s("span",[s("i",{staticClass:"fas fa-times-circle text-primary",staticStyle:{cursor:"pointer","font-size":"32px"},on:{click:function(t){e.drawer=!1}}})])]),s("h2",{staticClass:"text-center"},[e._v(" "+e._s(e.branchName)+" "),s("hr")]),s("el-row",[s("el-col",{staticClass:"mb-5 p-2 bg-light border",attrs:{span:8,offset:2}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBox,expression:"searchBox"}],staticClass:"form-control px-3  ",attrs:{type:"text",name:"",placeholder:"Beleg Nr.",id:""},domProps:{value:e.searchBox},on:{input:function(t){t.target.composing||(e.searchBox=t.target.value)}}})])],1),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.filtredBelegNum,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"id",label:"Beleg Nr.",width:"480px",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.showProductsInBeleg",modifiers:{showProductsInBeleg:!0}}],staticClass:"text-primary",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.showProductsInBeleg(t.row)}}},[e._v(e._s(t.row.belegNumber))])]}}],null,!1,2158235725)}),s("el-table-column",{attrs:{prop:"createdAt",label:"Datum"}}),s("el-table-column",{attrs:{prop:"companyId",label:"Filiale"}},[[e._v(" "+e._s(e.branchName))]],2),s("el-table-column",{attrs:{prop:"isProblem",label:"Ein / Aus"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"p-3 text-white",class:t.row.isEin?"bg-success":"bg-danger"},[e._v(" "+e._s(t.row.isEin?"EIN":"AUS"))])]}}],null,!1,2287539159)})],1)],1)],1)],1),s("b-modal",{ref:"showProductsInBeleg",attrs:{id:"showProductsInBeleg","hide-footer":"",size:"xl"}},[s("div",{staticClass:"text-center h2",staticStyle:{"font-weight":"700"}},[e._v("Beleg Num : "+e._s(e.productInBelegData.belegNo))]),0!=e.productInBelegData.count?s("div",{staticClass:"my-2"},[s("div",{staticClass:"my-3"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.backToProductHistory()}}},[s("i",{staticClass:"el-icon-back"}),e._v(" Back")])],1),0!=e.productInBelegData.count?s("span",{staticClass:"text-muted",staticStyle:{"font-weight":"900"}},[s("span",{staticStyle:{"font-size":"20px"}},[e._v("Menge : "+e._s(e.productInBelegData.count)+" ( "+e._s(e.editGoods.name)+" )")])]):e._e()]):e._e(),0!=e.productInBelegData.count?s("div",{staticClass:"text-right"},[s("span",{staticClass:"p-2 text-white mr-4",class:e.productInBelegData.isAus?"bg-danger":"bg-success"},[e._v(e._s(e.productInBelegData.isAus?"AUS":"EIN"))])]):e._e(),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.productInBelegData.data,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"artikelNum",label:"Artikel Num.",sortable:""}}),s("el-table-column",{attrs:{prop:"name",width:"400px",label:"Artikel"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{class:t.row.name==e.editGoods.name?"bg-danger text-white p-2":""},[e._v(e._s(t.row.name))])]}}])}),s("el-table-column",{attrs:{prop:"gang",label:"Gang"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"font-weight":"700"}},[e._v(" Gang "+e._s(t.row.gang))])]}}])}),s("el-table-column",{attrs:{prop:"stellplatz",label:"Stellplatz"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticStyle:{"font-weight":"700"}},[e._v(" Stellplatz "+e._s(t.row.stellplatz))])]}}])})],1)],1),s("el-drawer",{attrs:{title:"I am the title",visible:e.drawer2,direction:"ttb",size:"70%","with-header":!1},on:{"update:visible":function(t){e.drawer2=t}}},[e.settings?e._e():s("div",[s("el-row",[e.getActiveUser.isLagerArtikel?s("el-col",{staticClass:"text-center  mt-5 mb-2"},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newArtikel",modifiers:{newArtikel:!0}}],staticClass:"ml-5",attrs:{type:"success",round:""},on:{click:function(t){e.drawer2=!1}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Neuer Artikel")])],1):e._e()],1),s("el-row",[s("el-col",{attrs:{xs:1,sm:1,md:8}},[e._v("-")]),s("el-col",{attrs:{xs:23,sm:23,md:8}},[s("div",{staticClass:"border rounded shadow form-group",staticStyle:{"overflow-y":"scroll","overflow-x":"hidden",height:"500px"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchBoxInGoods,expression:"searchBoxInGoods"}],staticClass:"form-control p-4",attrs:{type:"text",name:"",placeholder:"Artikel Nummer oder Artikel Suchen",id:""},domProps:{value:e.searchBoxInGoods},on:{input:function(t){t.target.composing||(e.searchBoxInGoods=t.target.value)}}}),e._l(e.getGoods,(function(t,a){return s("el-card",{key:a,attrs:{shadow:"always"}},[s("div",{staticStyle:{cursor:"pointer"},on:{click:function(s){return e.edit(t)}}},[s("el-row",[s("el-col",{attrs:{span:10}},[e._v(e._s(t.artikelNum))]),s("el-col",{attrs:{span:10}},[e._v(e._s(t.name))])],1)],1)])}))],2)])],1)],1),e.settings?s("div",[s("el-row",{},[s("el-col",{staticClass:"text-left ml-5 mt-4"},[s("el-button",{staticClass:"ml-5",attrs:{type:"primary",round:""},on:{click:function(t){e.settings=!1,e.QauntityDetail=!1}}},[s("i",{staticClass:"fas fa-arrow-left"}),e._v(" Artikel Suchen")])],1),s("el-col",{staticClass:"p-5 border shadow mt-5",attrs:{xs:24,sm:24,md:e.QauntityDetail?6:12}},[s("div",{staticClass:"eralp-form-control p-4"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editGoods.artikelNum,expression:"editGoods.artikelNum"}],attrs:{type:"text",required:""},domProps:{value:e.editGoods.artikelNum},on:{input:function(t){t.target.composing||e.$set(e.editGoods,"artikelNum",t.target.value)}}}),s("label",[e._v("Artikel Nr.")])])]),s("div",{staticClass:"eralp-form-control  p-4"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editGoods.name,expression:"editGoods.name"}],attrs:{type:"text",required:""},domProps:{value:e.editGoods.name},on:{input:function(t){t.target.composing||e.$set(e.editGoods,"name",t.target.value)}}}),s("label",[e._v("Artikel")])])]),s("div",{staticClass:"text-right"},[s("el-button",{staticClass:"ml-5",attrs:{type:"success",round:""},on:{click:e.sendPutProduct}},[e._v("Speichern")])],1)]),s("el-col",{staticClass:"p-5",attrs:{xs:24,sm:24,md:e.QauntityDetail?18:12}},[e.QauntityDetail?e._e():s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%","overflow-y":"scroll","overflow-x":"hidden",height:"400px"},attrs:{data:e.getProductInWarehouseForBranch}},[s("el-table-column",{attrs:{prop:"Cname",label:"Filiale",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.Cname))]}}],null,!1,2639425433)}),s("el-table-column",{attrs:{prop:"adet",label:"Menge"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"text-primary",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.sendCompanyHistory(t.row.Cname,t.row.artikelNum)}}},[e._v(e._s(t.row["COUNT(p.id)"]))])]}}],null,!1,42008537)})],1),e.QauntityDetail?s("div",[s("p",[e._v(e._s(e.totalHistoryEinInCompany)+" EIN - "+e._s(e.totalHistoryAusInCompany)+" AUS = "+e._s(e.totalHistoryEinInCompany-e.totalHistoryAusInCompany))]),e.QauntityDetail?s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%","overflow-y":"scroll","overflow-x":"hidden",height:"400px"},attrs:{data:e.getPrdoductHistoryInCompany}},[s("el-table-column",{attrs:{prop:"belegNumber",label:"Beleg Nr.",width:"480px",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.showProductsInBeleg",modifiers:{showProductsInBeleg:!0}}],on:{click:function(s){return e.showProductsInBeleg(t.row,"Quantity")}}},[s("span",{staticClass:"text-danger",staticStyle:{cursor:"pointer"}},[e._v(e._s(t.row.belegNumber))])])]}}],null,!1,4227343367)}),s("el-table-column",{attrs:{prop:"createdAt",label:"Datum"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createdAt.substr(0,10)))]}}],null,!1,1554377835)}),s("el-table-column",{attrs:{prop:"companyId",label:"Filiale"}},[[e._v(e._s(e.compName))]],2),s("el-table-column",{attrs:{prop:"menge",label:"Menge"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row["COUNT(document.belegNumber)"]))]}}],null,!1,3009417820)}),s("el-table-column",{attrs:{prop:"isProblem",label:"Ein / Aus"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"p-3 text-white",class:t.row.isAus?"bg-danger":"bg-success"},[e._v(e._s(t.row.isAus?"AUS":"EIN"))])]}}],null,!1,2093321372)})],1):e._e()],1):e._e(),e.QauntityDetail?s("el-col",{staticClass:"text-left  mt-4"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){e.QauntityDetail=!1}}},[s("i",{staticClass:"fas fa-arrow-left"}),e._v(" Zurück zum Produkt")])],1):e._e()],1)],1)],1):e._e()]),s("b-modal",{ref:"newArtikel",attrs:{"hide-footer":"",id:"newArtikel",size:"md",title:"Neuer Artikel"}},[s("eralp-form",{attrs:{id:"label1"},on:{inputVModel:function(t){e.artikelNum=t}}},[e._v("Artikel Nr.")]),s("eralp-form",{attrs:{id:"label2"},on:{inputVModel:function(t){e.productName=t}}},[e._v("Artikel")]),s("div",{staticClass:"mt-2 text-right"},[s("el-button",{staticClass:"ml-5",attrs:{type:"success",round:""},on:{click:function(t){return e.sendNewProduct()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Speichern")])],1)],1),s("export-pdf",{attrs:{pdfData:e.selectedPdfData,companyName:e.branchName,companyId:e.branchId}})],1)},ya=[],Ca=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loading?e._e():s("div",[s("el-row",{staticClass:"mt-5"},[s("el-col",{attrs:{span:12}},[s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchProductInWarehouse,expression:"searchProductInWarehouse"}],staticClass:"rounded-pill p-3 border bg-light w-75 px-5",attrs:{type:"text",placeholder:"Artikel Suchen"},domProps:{value:e.searchProductInWarehouse},on:{input:function(t){t.target.composing||(e.searchProductInWarehouse=t.target.value)}}}),s("el-button",{attrs:{disabled:0==e.searchProductInWarehouseItems.length&&e.searching,type:"primary",round:""},on:{click:function(t){e.searching=!0}}},[e._v(e._s("Suchen"))])],1)]),e.getActiveUser.isLagerSchreiben?s("el-col",{attrs:{span:12}},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newLagerProduct",modifiers:{newLagerProduct:!0}}],attrs:{disabled:e.searching,type:"primary",round:""}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Artikel Hinzufügen")])],1):e._e()],1),s("div",{staticClass:"p-5"},[s("div",{staticClass:"text-center"},[s("el-button",{staticClass:"my-2",attrs:{disabled:e.searching,type:"success",round:""},on:{click:function(t){return e.newStellplatz()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Neu Stellplatz")])],1),e.searching?s("div",{staticStyle:{"font-weight":"800"}},[s("el-card",{staticClass:"my-2",attrs:{shadow:"always"}},[s("el-row",{staticStyle:{"font-size":"20px"}},[s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Artikel Nummer")]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Artikel")]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Gang")]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Stellplatz")])],1)],1),e._l(e.searchProductInWarehouseItems,(function(t,a){return s("el-card",{key:a,staticClass:"my-1 rowHover p-0",attrs:{shadow:"always"}},[s("div",{staticClass:"p-3",staticStyle:{cursor:"pointer"},on:{click:function(s){return e.swipeUp(t.warehouseId)}}},[s("el-row",[s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Artikel Num : "+e._s(t.artikelNum))]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Artikel : "+e._s(t.pname))]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Gang : "+e._s(t.gang))]),s("el-col",{attrs:{xs:12,sm:12,md:6}},[e._v("Stellplatz : "+e._s(t.stellplatz))])],1)],1)])}))],2):s("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.getLagers,(function(t,a){return s("el-collapse-item",{key:a,staticClass:"p-3 border bg-light shadow my-3 bg-success",attrs:{id:t.id,name:t.id}},[s("template",{slot:"title"},[s("div",{staticClass:"text-left w-100 p-3 bg-light",on:{click:function(s){return e.getLagerItems(t.id)}}},[s("span",[e._v("Stellplatz "+e._s(t.stellplatz)+" - Gang "+e._s(t.gang))])])]),e.getActiveUser.isLagerSchreiben?s("div",{staticClass:"text-center bg-light"},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.getLagerFreeProduct",modifiers:{getLagerFreeProduct:!0}}],staticClass:"my-2",attrs:{type:"success",round:""},on:{click:function(s){return e.getLagerIndex(t.id,a)}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Artikel Hinzufgen")])],1):e._e(),e._l(t.data,(function(i,r){return s("div",{key:r,staticClass:"ware-list p-3 my-2 border-bottom",staticStyle:{cursor:"pointer"},on:{click:function(s){e.getActiveUser.isLagerZuruck&&e.showChangeStellplatzModal(i,t,r,a)}}},[s("div",{staticClass:"opinion-header h5 "},[s("span",{staticStyle:{"font-weight":"800"}},[e._v("Artikelnummer : "),s("span",{staticClass:"ml-3",staticStyle:{"font-weight":"300"}},[e._v(e._s(i.artikelNum))])]),s("span",{staticClass:"ml-3",staticStyle:{"font-weight":"800"}},[e._v("Artikel : "),s("span",{staticStyle:{"font-weight":"300"}},[e._v(e._s(i.name))])])]),s("div")])}))],2)})),1)],1),0!=e.getLagers.length?s("div",[1!=e.getLagers[e.getLagers.length-1].stellplatz?s("div",{staticClass:"text-center"},[s("el-button",{staticClass:"my-2",attrs:{disabled:e.searching,type:"primary",round:""},on:{click:function(t){return e.loadMoreStellplatz()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Mehr laden")])],1):e._e()]):e._e(),0!=e.changeStellplatz.length&&0!=e.getLagers.length?s("b-modal",{ref:"changeStellplatz",attrs:{id:"changeStellplatz","hide-footer":"",title:"Stellplatz"}},[s("h4",[s("strong",[e._v(" ArtikelNummer : "+e._s(e.changeStellplatz.artikelNum)+" ")])]),s("h4",[s("strong",[e._v(" Artikel : "+e._s(e.changeStellplatz.name))])]),s("div",[s("strong",[e._v(" Stellplatz : "),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.changeStellplatz.stellplatz,expression:"changeStellplatz.stellplatz",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.changeStellplatz.stellplatz},on:{input:function(t){t.target.composing||e.$set(e.changeStellplatz,"stellplatz",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"text-right"},[s("el-button",{attrs:{disabled:!e.usableStellplatz,round:"",type:e.usableStellplatz?"primary":"danger"},on:{click:function(t){return e.changeStellplatzMethods()}}},[e._v(" Speichern ")])],1)]):e._e(),s("new-lager-product-modal",{attrs:{branchName:e.branchName,branchId:e.branchId,index:e.index}}),s("get-lager-free-product-modal",{attrs:{branchId:e.branchId,lagerId:e.lagerId,index:e.index}})],1)},xa=[],_a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"newLagerProduct",attrs:{id:"newLagerProduct","hide-footer":"",size:"md",title:"Artikel Hinzufügen"}},[s("div",{staticClass:"text-right"},[s("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.directBelegSpeichern()}}},[e._v("Beleg Speichern")])],1),s("eralp-form",{on:{inputVModel:function(t){e.artikelNum=t}}},[e._v(" Artikel Suchen ")]),e._l(e.filtredGetProduct,(function(t,a){return s("el-card",{key:a,staticClass:"my-2",attrs:{shadow:"always"}},[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.newProcutModal",modifiers:{newProcutModal:!0}}],on:{click:function(s){return e.addCountGoods(t)}}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Artikel Num : "+e._s(t.artikelNum)+" ")])]),s("el-col",{attrs:{span:12}},[e._v(e._s(t.name))])],1)],1)])})),s("b-modal",{ref:"newProcutModal",attrs:{id:"newProcutModal","hide-footer":"",title:"Neu"}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newGoodsItems.artikelNum,expression:"newGoodsItems.artikelNum"}],attrs:{disabled:"",type:"text",required:""},domProps:{value:e.newGoodsItems.artikelNum},on:{input:function(t){t.target.composing||e.$set(e.newGoodsItems,"artikelNum",t.target.value)}}}),s("label")])]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newGoodsItems.name,expression:"newGoodsItems.name"}],attrs:{disabled:"",type:"text",required:""},domProps:{value:e.newGoodsItems.name},on:{input:function(t){t.target.composing||e.$set(e.newGoodsItems,"name",t.target.value)}}}),s("label")])]),s("label",{attrs:{for:""}},[e._v("Menge")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(t){t.target.composing||(e.quantity=t.target.value)}}}),s("div",{staticClass:"text-center my-3"},[s("button",{directives:[{name:"b-modal",rawName:"v-b-modal.freeProducts",modifiers:{freeProducts:!0}}],staticClass:"btn btn-outline-primary mx-3",on:{click:function(t){return e.sendFreeProduct()}}},[e._v("Speichern")]),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.$refs["newProcutModal"].hide()}}},[e._v("Abbrechen")])]),s("b-modal",{ref:"freeProducts",attrs:{id:"freeProducts","hide-footer":"",title:"Free Artikel",size:"xl"}},[s("div",{staticClass:"my-2 text-right"},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newLagerProduct",modifiers:{newLagerProduct:!0}}],attrs:{type:"primary",round:""},on:{click:function(t){return e.$refs["newLagerProduct"].hide()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Artikel Hinzufügen")]),s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newBelegNum",modifiers:{newBelegNum:!0}}],attrs:{type:"primary",round:""},on:{click:function(t){e.newBelegNumber=null}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Beleg Speichern")])],1),e._v(" "+e._s(e.branchId)+" "+e._s(e.index)+" "+e._s(e.branchName)+" "),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.getFreeProduct}},[s("el-table-column",{attrs:{prop:"artikelNum",label:"Artikel Nr.",sortable:""}}),s("el-table-column",{attrs:{prop:"name",label:"Artikel"}}),s("el-table-column",{attrs:{prop:"quantity",label:"Menge"}}),s("el-table-column",{attrs:{prop:"isEdit",label:"Edit"}})],1),s("b-modal",{ref:"newBelegNum",attrs:{id:"newBelegNum",title:"New Beleg Nr.","hide-footer":""}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.newBelegNumber,expression:"newBelegNumber",modifiers:{lazy:!0}}],attrs:{type:"text",required:""},domProps:{value:e.newBelegNumber},on:{change:function(t){e.newBelegNumber=t.target.value}}}),s("span",{staticStyle:{float:"right",position:"absolute",right:"0"}},[s("el-button",{attrs:{type:e.disabled?"success":"danger",size:"small",round:""}},[s("i",{class:e.disabled?"el-icon-check":"el-icon-close"})])],1),s("label",[e._v(" Beleg Nr. ")])])]),s("el-card",{staticClass:"text-center",attrs:{shadow:"always"}},[e._v("Filiale : "+e._s(e.branchName))]),s("div",{staticClass:"mt-3"},[s("small",{staticClass:"text-muted mt-3"},[e._v(" Überprüfen Sie Ihre belegNummer ")])]),e.disabled?s("div",{staticClass:"my-3 text-center"},[s("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(t){return e.sendNewItemsForLagerInBranch()}}},[e._v("Speichern")])]):e._e()],1)],1)],1)],2)},Ia=[],Sa={components:{eralpForm:es},props:["index","branchId","branchName"],computed:Object(o["a"])({},Object(l["b"])(["getGoods","getLagers","getFreeProduct","getProductsBelegNum","getId"]),{filtredGetProduct:function(){var e=this;return this.getGoods.filter((function(t){return String(t.artikelNum).match(e.artikelNum)}))}}),data:function(){return{artikelNum:null,newGoodsItems:[],quantity:0,disabled:!1,newBelegNumber:null}},watch:{artikelNum:function(e){e.length>3&&this.$store.dispatch("initProduct",e)},newBelegNumber:function(e){var t=this;this.disabled=!1,null==e||""==e?this.disabled=!1:ie("document?fields=belegNumber&search="+e).then((function(e){0==e.count?t.disabled=!0:t.disabled=!1}))}},methods:{directBelegSpeichern:function(){var e=this;this.$bvModal.show("newProcutModal"),setTimeout((function(){e.$bvModal.show("freeProducts")}),100)},addCountGoods:function(e){this.quantity=0;var t=0;this.getGoods.forEach((function(s){s.artikelNum==e.artikelNum&&t++})),this.newGoodsItems=Object(o["a"])({},e,{count:t})},sendFreeProduct:function(){this.$store.dispatch("sendFreeProduct",Object(o["a"])({},this.newGoodsItems,{quantity:this.quantity}))},sendNewItemsForLagerInBranch:function(){for(var e=this,t=new Date,s=[],a=String(t).substr(8,16),i=0;i<this.getFreeProduct.length;i++)for(var r=0;r<this.getFreeProduct[i].quantity;r++)this.$store.commit("setId"),s.push(Object(o["a"])({},this.getFreeProduct[i],{freeId:this.getId}));this.$store.dispatch("sendGoodsForProductsBelegNum",{items:s,createdAt:a,index:this.index,companyId:this.branchId,belegNumber:this.newBelegNumber}),this.$store.dispatch("sendNewItemsForLagerInBranch",{einausIndex:this.getProductsBelegNum.length,items:s,index:this.index,branchId:this.branchId,belegNo:this.newBelegNumber}),setTimeout((function(){e.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}),150),this.$refs["newLagerProduct"].hide()}}},Ta=Sa,Pa=Object(fe["a"])(Ta,_a,Ia,!1,null,null,null),Na=Pa.exports,Aa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{ref:"getLagerFreeProduct",attrs:{size:"xl",title:"Free Artikel","hide-footer":"",id:"getLagerFreeProduct"}},[e._v(" "+e._s(e.index)+" "+e._s(e.branchId)+" "),s("div",{staticClass:"text-right my-3"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:0==e.multipleSelection.length},on:{click:function(t){return e.sendItemsInLager()}}},[e._v("Hinzufügen")])]),s("el-table",{ref:"multipleTable",staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.getFreeBranchProduct},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"artikelNum",label:"Artikel Nr.",sortable:""}}),s("el-table-column",{attrs:{prop:"name",label:"Artikel"}}),s("el-table-column",{attrs:{prop:"belegNo",label:"Beleg Nr."}}),s("el-table-column",{attrs:{prop:"isEdit",label:"Edit"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("i",{staticClass:"text-danger fas fa-minus-circle",staticStyle:{cursor:"pointer","font-size":"24px"},on:{click:function(s){return e.removeItem(t.$index)}}})]}}])})],1)],1)},Da=[],Ba={props:["index","branchId","lagerId"],computed:Object(o["a"])({},Object(l["b"])(["getFreeBranchProduct"])),data:function(){return{multipleSelection:[],multipleId:0}},methods:{lagerApi:function(e,t){var s=this;ie("document?fields=belegNumber, id&search="+t.items[e].belegNo).then((function(a){null==a.body?ce("document",{belegNumber:t.items[e].belegNo,companyId:t.branchId,isEin:t.items[e].isEin}).then((function(a){s.$store.state.lager.productsBelegNum.unshift({id:a.result,belegNumber:t.items[e].belegNo,companyId:t.branchId,isEin:t.items[e].isEin}),ce("warehouseProducts",{documentId:a.result,warehouseId:t.lagerId,productId:t.items[e].id,companyId:t.branchId,isAus:!1}).then((function(a){console.log(a,"YENİ DOC"),s.$store.state.lager.lagers[s.index].data.push({artikelNum:t.items[e].artikelNum,name:t.items[e].name,warehouseId:t.lagerId,wareId:a.result,id:t.items[e].id})}))})):ce("warehouseProducts",{documentId:a.body[0].id,warehouseId:t.lagerId,productId:t.items[e].id,companyId:t.branchId,isAus:!1}).then((function(a){console.log(a,"VAROLAN DOC"),s.$store.state.lager.lagers[s.index].data.push({artikelNum:t.items[e].artikelNum,name:t.items[e].name,warehouseId:t.lagerId,wareId:a.result,id:t.items[e].id})}))})),this.$store.commit("deleteItemsFreePrdocut",t.index[e])},removeItem:function(e){this.$store.dispatch("removeFreeBranchItem",e)},sendItemsInLager:function(){for(var e=this,t=0,s=[],a=0;a<this.getFreeBranchProduct.length;a++)for(var i=0;i<this.multipleSelection.length;i++)this.getFreeBranchProduct[a].freeId==this.multipleSelection[i].freeId&&s.push(a);s.sort(),s.reverse();var r={items:this.multipleSelection,index:s,branchId:this.branchId,lagerId:this.lagerId};t=0;setInterval((function(){if(t<r.items.length)e.lagerApi(t,r);else t==r.items.length&&e.$store.dispatch("sendBranchItemsQuantity",e.branchId).then((function(t){console.log("DEĞİŞTİ."),setTimeout((function(){e.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}),150),e.$refs["getLagerFreeProduct"].hide()}));t++}),500)},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},clear:function(e){clearInterval(e)},handleSelectionChange:function(e){this.multipleSelection=e,console.log(this.multipleSelection)}},created:function(){var e=[];0==this.getFreeBranchProduct.length&&localStorage.freep&&(e=g(localStorage.getItem("freep")),e=JSON.parse(e),null!=e&&this.$store.commit("setInitFreeBranchProduct",e))}},La=Ba,$a=Object(fe["a"])(La,Aa,Da,!1,null,null,null),Ea=$a.exports,Oa={components:{newLagerProductModal:Na,getLagerFreeProductModal:Ea},props:["getBranchLager","branchName","branchId"],computed:Object(o["a"])({},Object(l["b"])(["getwareHouseProduct","getProducts","getLagers","getActiveUser","getQuantityProductInLagerForBranch","getProductsBelegNum"])),watch:{searchProductInWarehouse:function(e){var t=this;""==e&&(this.searchProductInWarehouse=""),e.length>3&&oe("ghs/productsPlaceHelper",{companyId:this.branchId,search:e}).then((function(e){"success"==e.status?(t.searchProductInWarehouseItems=e.data,t.searching=!0):(t.searchProductInWarehouse="",t.searching=!1,t.searchProductInWarehouseItems=[],t.$notify({title:"Error",message:"Das Produkt wurde nicht gefunden.",type:"error",duration:7e3}))}))},"changeStellplatz.stellplatz":function(e){var t=this;""!=e&&ie("warehouse/stellplatz/"+e+"?filter=companyId:"+this.branchId).then((function(e){0!=e.count?(t.usableStellplatz=!0,t.warehouseId=e.body[0].id,console.log(t.warehouseId)):t.usableStellplatz=!1}))},getwareHouseProduct:function(e,t){if(0!=this.selectedData.length&&0!=e.length){for(var s=0;s<this.selectedData.length;s++)this.selectedData[s].oldId!=this.getwareHouseProduct[0][0].warehouseId||this.selectedData[s].isValid||""==this.activeNames||this.selectedData.splice(s,1),this.selectedData[s].oldId!=this.getwareHouseProduct[0][0].warehouseId&&(this.selectedData[s].isValid=!1);for(var a=1;a<this.activeName.length;a++)this.activeName[a]==this.activeName[a-1]&&(this.selectedData=[]),this.activeName.splice(0,1)}}},data:function(){return{percentage:10,searchProductInWarehouseItems:[],activeName:[],warehouseId:null,colors:[{color:"#28d43f",percentage:20},{color:"#84d428",percentage:40},{color:"#d4b428",percentage:60},{color:"#ff5e00",percentage:80},{color:"#d44a28",percentage:100}],index:null,lagerId:null,lagerIndex:null,over:!1,loading:!0,selectedData:[],limit:30,which:null,draggingData:[],activeNames:[],usableStellplatz:!1,pulse:!1,dragStartedItems:[],searchProductInWarehouse:"",miniIndex:null,wareId:null,changeStellplatz:[],searching:!1}},methods:{swipeUp:function(e){this.searching=!1,setTimeout((function(){var t=document.getElementById(e);t.classList.add("alert-success");var s=setInterval((function(){t.classList.add("alert-success"),setTimeout((function(){t.classList.remove("alert-success")}),250)}),500);setTimeout((function(){clearInterval(s)}),5e3),t.scrollIntoView()}),500)},changeStellplatzMethods:function(){var e=this;console.log(this.changeStellplatz,this.warehouseId),ue("warehouseProducts",this.changeStellplatz.wareId,{warehouseId:this.warehouseId}).then((function(t){if(console.log(t),1==t.result){e.$bvModal.hide("changeStellplatz");var s=e.$store.state.lager.lagers[e.changeStellplatz.lagerIndex].data[e.changeStellplatz.indexData];e.$store.state.lager.lagers[e.changeStellplatz.lagerIndex].data.splice(e.changeStellplatz.indexData,1);var a=e.$store.state.lager.lagers.map((function(e){return e.id})).indexOf(e.warehouseId);e.$store.state.lager.lagers[a].data.push(s),e.$notify({title:"Success",message:"Regal erfolgreich hinzugefügt",type:"success",duration:7e3})}}))},showChangeStellplatzModal:function(e,t,s,a){this.changeStellplatz=Object(o["a"])({},e,{},t,{indexData:s,lagerIndex:a}),this.$bvModal.show("changeStellplatz")},loadMoreStellplatz:function(){this.limit=this.limit+20;var e={limit:this.limit,branchId:this.branchId};this.$store.dispatch("initWareHouse",e)},newStellplatz:function(){var e=this;this.$confirm("Möchten Sie eine Regalnummer hinzufügen?","Warning",{confirmButtonText:"Ja",cancelButtonText:"Nein",type:"warning"}).then((function(){e.$store.dispatch("sendNewStellplatz",{companyId:e.branchId}).then((function(t){"success"==t&&e.$notify({title:"Success",message:"Regal erfolgreich hinzugefügt",type:"success",duration:7e3}),e.$message({type:"success",message:"erfolgreich"})}))})).catch((function(){e.$message({type:"info",message:"Storniert"})}))},getLagerItems:function(e){},getLagerIndex:function(e,t){this.lagerId=e,this.index=t}},mounted:function(){var e=this,t={limit:this.limit,branchId:this.branchId};this.activeNames=[],this.$store.dispatch("initWareHouse",t).then((function(t){console.log(t),"success"==t&&(e.getLagers.forEach((function(t){e.activeNames.push(t.id)})),e.loading=!1)}))}},Ua=Oa,za=(s("d164"),Object(fe["a"])(Ua,Ca,xa,!1,null,"e61e8490",null)),Ma=za.exports,ja=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-row",{staticClass:"mt-4"},[s("el-col",{attrs:{xs:1,sm:1,md:6}},[e._v("-")]),s("el-col",{staticClass:"border shadow bg-light rounded p-3",attrs:{xs:23,sm:23,md:12}},[s("eralp-form",{on:{inputVModel:function(t){e.artikelNum=t}}},[e._v(" Artikel Suchen ")]),e._l(e.filtredGetProduct,(function(t,a){return s("el-card",{key:a,staticClass:"my-2",attrs:{shadow:"always"}},[s("div",{staticStyle:{cursor:"pointer"},on:{click:function(s){return e.addCountGoods(t)}}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Artikel Num : "+e._s(t.artikelNum)+" ")])]),s("el-col",{attrs:{span:12}},[e._v(e._s(t.name))]),s("el-col",{attrs:{span:6}},[e._v(e._s(t["COUNT(productId)"]))])],1)],1)])}))],2),s("b-modal",{ref:"closeProduct",attrs:{size:"lg",id:"closeProduct","hide-footer":"",title:"Warenausgang"}},[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newGoodsItems.artikelNum,expression:"newGoodsItems.artikelNum"}],attrs:{disabled:"",type:"text",required:""},domProps:{value:e.newGoodsItems.artikelNum},on:{input:function(t){t.target.composing||e.$set(e.newGoodsItems,"artikelNum",t.target.value)}}}),s("label")])]),s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newGoodsItems.name,expression:"newGoodsItems.name"}],attrs:{disabled:"",type:"text",required:""},domProps:{value:e.newGoodsItems.name},on:{input:function(t){t.target.composing||e.$set(e.newGoodsItems,"name",t.target.value)}}}),s("label")])]),s("label",{attrs:{for:""}},[e._v("Menge")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"quantity"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.quantity},on:{input:function(t){t.target.composing||(e.quantity=t.target.value)}}}),s("div",{staticClass:"text-center my-3"},[s("button",{directives:[{name:"b-modal",rawName:"v-b-modal.freeProducts",modifiers:{freeProducts:!0}}],staticClass:"btn btn-outline-primary mx-3",on:{click:function(t){return e.sendFreeProduct()}}},[e._v("Speichern")]),s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.$refs["closeProduct"].hide()}}},[e._v("Abbrechen")])]),s("b-modal",{ref:"freeProducts",attrs:{id:"freeProducts","hide-footer":"",title:"Free Artikel",size:"xl"}},[s("div",{staticClass:"my-2 text-right"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.$refs["closeProduct"].hide()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Artikel Hinzufügen")]),s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newCloseBelegNum",modifiers:{newCloseBelegNum:!0}}],attrs:{type:"primary",round:""}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Beleg Speichern")])],1),e._v(" "+e._s(e.branchId)+" "+e._s(e.index)+" "),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.freeCloseProduct}},[s("el-table-column",{attrs:{prop:"artikelNum",label:"Artikel Nr.",sortable:""}}),s("el-table-column",{attrs:{prop:"name",label:"Artikel"}}),s("el-table-column",{attrs:{prop:"quantity",label:"Menge"}}),s("el-table-column",{attrs:{prop:"isEdit",label:"Edit"}})],1),s("b-modal",{ref:"newCloseBelegNum",attrs:{id:"newCloseBelegNum",title:"New Beleg Nr.","hide-footer":""}},[s("eralp-form",{on:{inputVModel:function(t){e.newBelegNumber=t}}},[e._v("Beleg Nr.")]),s("el-card",{staticClass:"text-center",attrs:{shadow:"always"}},[e._v("Filiale : "+e._s(e.branchName))]),s("div",{staticClass:"my-3 text-center"},[s("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(t){return e.sendNewItemsForLagerInBranch()}}},[e._v("Speichern")])])],1)],1)],1)],1)],1)},Ha=[],Fa={components:{eralpForm:es},data:function(){return{artikelNum:null,newGoodsItems:[],freeCloseProduct:[],quantity:0}},props:["branchName","branchId","index"],computed:Object(o["a"])({},Object(l["b"])(["getGoods","getBranchItemsQauntity","getActiveUser"]),{filtredGetProduct:function(){var e=this;return this.getBranchItemsQauntity.filter((function(t){return String(t.artikelNum).match(e.artikelNum)}))}}),methods:{addCountGoods:function(e){this.quantity=0;var t=0;this.getGoods.forEach((function(s){s.artikelNum==e.artikelNum&&t++})),this.newGoodsItems=Object(o["a"])({},e,{count:t}),this.getActiveUser.isAdmin&&this.$refs.closeProduct.show()},sendFreeProduct:function(){this.freeCloseProduct.push(Object(o["a"])({},this.newGoodsItems,{quantity:this.quantity})),this.$bvModal.show("closeProduct")},sendNewItemsForLagerInBranch:function(){var e=this,t=new Date,s=String(t).substr(8,16);this.$store.dispatch("sendNewProblemItemsForLagerInBranch",{createdAt:s,items:this.freeCloseProduct,index:this.index,branchId:this.branchId,belegNo:this.newBelegNumber}).then((function(t){setTimeout((function(){e.$store.dispatch("sendBranchItemsQuantity",e.branchId).then((function(t){console.log("DEĞİŞTİ."),setTimeout((function(){e.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}),150),e.$refs["closeProduct"].hide(),e.freeCloseProduct=[]}))}),2e3)}))}},watch:{artikelNum:function(){""==this.artikelNum&&(this.artikelNum=null)},quantity:function(){var e=this;this.newGoodsItems["COUNT(productId)"]<this.quantity&&(this.quantity=this.newGoodsItems["COUNT(productId)"],setTimeout((function(){e.$notify({title:"Error",message:"Es können bis zu "+e.newGoodsItems["COUNT(productId)"]+" Elemente geschrieben werden",type:"error",duration:7e3})}),100))}}},Wa=Fa,Ga=Object(fe["a"])(Wa,ja,Ha,!1,null,null,null),Va=Ga.exports,qa=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-modal",{ref:"exportPdf",attrs:{id:"exportPdf","hide-footer":"",title:"Önizleme PDF",size:"xl"}},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-outline-danger",on:{click:function(t){return e.sendPdf()}}},[s("i",{staticClass:"fas fa-file-pdf"}),e._v(" Download")])]),e.getBranchItemsQauntity?s("div",{staticClass:"content",staticStyle:{"font-weight":"600!important"},attrs:{id:"pdfExport"}},[s("h3",{staticClass:"text-center"},[e._v(" "+e._s(e.companyName)+" ")]),0!=e.getBranchItemsQauntity.length?s("table",{staticClass:"w-100 table",attrs:{id:"my-table"}},[s("thead",[s("tr",[s("th",[e._v("Nummer")]),s("th",[e._v("Bezeichnung")]),s("th",[e._v("Menge")])])]),s("tbody",e._l(e.getBranchItemsQauntity,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.artikelNum))]),s("td",[e._v(e._s(t.name))]),s("td",[e._v(e._s(t["COUNT(productId)"]))])])})),0)]):e._e()]):e._e(),s("div",{attrs:{id:"pdf"}})])],1)},Ra=[];a["default"].use(Bt["a"]);var Ka={props:["companyId","companyName"],computed:Object(o["a"])({},Object(l["b"])(["getBranchItemsQauntity"])),data:function(){return{pdfData:[],data:[{OrderID:123123,CustomerID:1231231,ShipCity:"xd",ShipName:"xd"}],toolbarOptions:["PdfExport"]}},watch:{companyId:function(){var e=this;oe("ghs/totalProductHelper",{companyId:this.companyId}).then((function(t){"success"==t.status?e.pdfData=t.data:"Failed to Auth Token"==t.message?(localStorage.clear(),e.$router.push("/login")):e.pdfData=[],e.$store.commit("setBranchItemsQauntity",t.data)}))}},methods:{sendPdf:function(){var e=new jsPDF;e.autoTable({theme:"grid",headStyles:{fillColor:[255,255,255],textColor:[0,0,0]},styles:{cellWidth:"auto"},html:"#my-table"}),e.autoPrint(),window.open(e.output("bloburl"),"_blank")}}},Za=Ka,Qa=Object(fe["a"])(Za,qa,Ra,!1,null,null,null),Ja=Qa.exports,Ya={mixins:[us],computed:Object(o["a"])({},Object(l["b"])(["getBranch","getLagers","getProductsBelegNum","getGoods","getActiveUser","getNausgang"]),{filtredBelegNum:function(){var e=this;return this.getProductsBelegNum.filter((function(t){return String(t.belegNumber).match(String(e.searchBox))}))}}),components:{branchOverview:Ma,wausBranchOverview:Va,eralpForm:es,exportPdf:Ja},watch:{drawer:function(){this.drawer&&this.$store.dispatch("sendDocumentTable",this.branchId)},historyCompanyName:function(){this.compName=this.historyCompanyName},settings:function(){var e=this;this.settings&&oe("ghs/depoProductHelper",{productId:this.editGoods.id}).then((function(t){e.getProductInWarehouseForBranch=t.data}))},show:function(){this.show||this.$store.dispatch("sendDocumentTable",this.branchId)},getNausgang:function(){this.componentName=this.getNausgang},searchBoxInGoods:function(e){e.length>3&&this.$store.dispatch("initProduct",e)},getLagers:function(){this.setBranchId(this.branchId,this.branchName)}},data:function(){return{show:!0,getProductInWarehouseForBranch:[],productInBelegData:[],errPoint:[],editGoods:[],loading:!0,compName:null,QauntityDetail:!1,selectedPdfData:{branchName:"",data:[]},searchBox:"",searchBoxInGoods:null,branchId:null,getBranchLager:[],branchName:"",settings:!1,componentName:"branchOverview",drawer:!1,drawer2:!1,artikelNum:"",productName:"",tableData:[{branchName:"Alex",quantity:12},{branchName:"PP",quantity:8}],historyCompany:null,historyCompanyName:null,getPrdoductHistoryInCompany:[],totalHistoryEinInCompany:0,totalHistoryAusInCompany:0}},methods:{backToProductHistory:function(){this.$refs["showProductsInBeleg"].hide(),this.drawer2=!0},sendCompanyHistory:function(e,t){var s=this;this.getBranch.forEach((function(t){t.name==e&&(s.historyCompany=t.id,s.historyCompanyName=e)})),ie("product/artikelNum/"+t).then((function(e){var t;null!=e.body&&(t=e.body[0].id,oe("ghs/productHistoryHelper",{companyId:s.historyCompany,productId:t}).then((function(e){s.totalHistoryEinInCompany=0,s.totalHistoryAusInCompany=0,null!=e.data&&(s.getPrdoductHistoryInCompany=e.data,s.getPrdoductHistoryInCompany.forEach((function(e){e.isAus?s.totalHistoryAusInCompany+=e["COUNT(document.belegNumber)"]:s.totalHistoryEinInCompany+=e["COUNT(document.belegNumber)"]})),s.QauntityDetail=!0)})))}))},sendPutProduct:function(){var e=this;this.$store.dispatch("sendPutProduct",this.editGoods).then((function(t){"success"==t&&(e.settings=!1)}))},getProducts:function(){var e=this;this.$store.dispatch("sendGetProdcutsTable").then((function(t){"success"==t&&(e.drawer2=!0)}))},sendDocumentTable:function(){},showProductsInBeleg:function(e,t){var s,a,i=this,r=0;"Quantity"==t?s=e.docId:(s=e.id,this.editGoods=[],this.QauntityDetail=!1,this.settings=!1),a=null!=e.productId?e.productId:0,this.drawer=!1,this.drawer2=!1,this.$store.dispatch("sendWareHouseProductForDocument",s).then((function(t){t.body.forEach((function(e){i.editGoods.artikelNum==e.artikelNum&&r++})),i.productInBelegData={data:t.body,belegNo:e.belegNumber,isAus:e.isAus,qauntity:e.quantity,productId:a,count:r}}))},selectedPdfDataMethod:function(){var e=this,t=!1,s=[];for(var a in this.selectedPdfData={branchName:"",data:[]},this.getLagers.forEach((function(t){e.branchId==t.branchId&&(e.selectedPdfData.branchName=e.branchName,t.data.forEach((function(e){s.push(e)})))})),s)if(t=!1,0==this.selectedPdfData.data.length)this.selectedPdfData.data.push(Object(o["a"])({},s[a],{menge:1}));else{for(var i in this.selectedPdfData.data)this.selectedPdfData.data[i].artikelNum==s[a].artikelNum&&(this.selectedPdfData.data[i].menge++,t=!0);t||this.selectedPdfData.data.push(Object(o["a"])({},s[a],{menge:1}))}},sendNewProduct:function(){var e=this;if(this.errPoint=[],""==this.artikelNum&&this.errPoint.push({err:"ungültig Artikel Nummer",label:"#label1"}),""==this.productName&&this.errPoint.push({err:"ungültig Artikel",label:"#label2"}),0!=this.errPoint.length)for(var t=function(t){setTimeout((function(){e.$notify({title:"Error",message:e.errPoint[t].err,type:"error"})}),50*t)},s=0;s<this.errPoint.length;s++)t(s);else this.$store.dispatch("sendNewProduct",{artikelNum:this.artikelNum,name:this.productName,isActive:!0}).then((function(t){null!=t.result?(setTimeout((function(){e.artikelNum="",e.productName="",e.$notify({title:"Erfolg",message:"Das Produkt wurde erfolgreich hinzugefügt.",type:"success"})}),150),e.$refs["newArtikel"].hide()):setTimeout((function(){e.artikelNum="",e.productName="",e.$notify({title:"Erfolg",message:"Bitte ändern Sie die Produktnummer.",type:"error"})}),150)}))},edit:function(e){this.editGoods=e,this.settings=!0},setBranchId:function(e,t){var s=this;this.getBranchLager=[],this.branchId=e,this.getLagers.forEach((function(t){s.$store.commit("setBranchId",e),t.branchId==e?s.getBranchLager.push(t):!0})),this.branchName=t,setTimeout((function(){s.show=!1}),1500)},setComponentName:function(e){this.componentName=e}},mounted:function(){this.componentName=this.getNausgang,this.getActiveUser.isLagerLogin||this.$router.push("/index"),$("#myList").removeClass("rolldown-list"),setTimeout((function(){$("#myList").addClass("rolldown-list")}),1),this.getActiveUser.isAdmin||this.setBranchId(this.getActiveUser.companyId,this.getActiveUser.companyName)}},Xa=Ya,ei=(s("9abe"),Object(fe["a"])(Xa,wa,ya,!1,null,"4a6edb8f",null)),ti=ei.exports,si=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"text-center p-5"},[e.loading?e._e():s("el-table",{staticStyle:{width:"100%","font-weight":"800","font-size":"18px"},attrs:{data:e.definition,border:""}},[s("el-table-column",{attrs:{prop:"isWhite",label:"Abteilung"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isWhite?"Weißware":"Braunerware")+" ")]}}],null,!1,3977115516)}),s("el-table-column",{attrs:{prop:"parentName",label:"Tarife"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.parentName)+" ")]}}],null,!1,2731738342)}),s("el-table-column",{attrs:{prop:"name",label:"Name"}}),s("el-table-column",{attrs:{prop:"isEdit",label:"Edit"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{directives:[{name:"b-modal",rawName:"v-b-modal.editTarifeTable",modifiers:{editTarifeTable:!0}}],on:{click:function(s){e.tarife={name:t.row.name,id:t.row.id,index:t.$index}}}},[s("i",{staticClass:"el-icon-edit rounded-circle bg-warning text-dark p-2",staticStyle:{"font-size":"24px"}})])]}}],null,!1,1681083488)})],1),s("b-modal",{ref:"editTarifeTable",attrs:{id:"editTarifeTable",size:"small","hide-footer":"",title:"Edit Tarife Table"}},[null!=e.tarife?s("div",[s("div",{staticClass:"eralp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tarife.name,expression:"tarife.name"}],attrs:{type:"text",required:""},domProps:{value:e.tarife.name},on:{input:function(t){t.target.composing||e.$set(e.tarife,"name",t.target.value)}}}),s("label",[e._v(" Tarife ")])])]),s("div",{staticClass:"text-right"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendEditTarife()}}},[e._v("Speichern")])],1)]):e._e()])],1)},ai=[],ii={mixins:[us,xs],data:function(){return{definition:[],tarife:null,loading:!1}},computed:Object(o["a"])({},Object(l["b"])(["getDefinition","getTarifeTable"])),watch:{getDefinition:function(){var e=this;console.log("değişti"),0!=this.getDefinition.length?(this.loading=!0,setTimeout((function(){e.definition=e.getDefinition,e.definition.forEach((function(t){e.getTarifeTable.forEach((function(e){t.parentId==e.id&&(t.parentName=e.name,e.isWhite?t.iswhite=!0:t.iswhite=!1)}))})),e.loading=!1}),250)):this.definition=[]}},methods:{sendEditTarife:function(){var e=this;this.loading=!0,ue("setupDefinition",this.tarife.id,{name:this.tarife.name}).then((function(t){console.log(t),1==t.result&&(e.$notify({title:"Erfolg",message:"Die Beschreibung wurde erfolgreich hinzugefügt.",type:"success"}),e.loading=!1,e.$store.state.branch.definition[e.tarife.index].name=e.tarife.name,e.$refs["editTarifeTable"].hide())}))}},mounted:function(){var e=this;this.loading=!0,0==this.getDefinition.length&&this.$store.dispatch("initSetupDefinitionTable"),this.definition=this.getDefinition,this.definition.forEach((function(t){e.getTarifeTable.forEach((function(e){t.parentId==e.id&&(t.parentName=e.name,e.isWhite?t.iswhite=!0:t.iswhite=!1)}))})),this.loading=!1}},ri=ii,ni=Object(fe["a"])(ri,si,ai,!1,null,null,null),oi=ni.exports,li=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.loading?s("div",{staticClass:"text-center"},[e._m(0)]):s("div",[s("div",{staticClass:"position-fixed",staticStyle:{bottom:"20px",right:"120px","z-index":"1050"}},[s("span",{},[s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.exportPdfTruck",modifiers:{exportPdfTruck:!0}}],staticClass:"fas fa-file-pdf rounded-circle p-3 px-4  shadow bg-danger text-white hoverDanger",staticStyle:{"font-size":"40px",cursor:"pointer"},on:{click:function(t){return e.selectedPdfDataMethod()}}})])]),s("el-date-picker",{ref:"showDatePicker",staticStyle:{position:"absolute",right:"50%",opacity:"0"},attrs:{type:"date",placeholder:"Pick a day","picker-options":e.pickerOptions},model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}}),e.hideHeader?e._e():s("h2",{staticClass:"text-center"},[s("i",{staticClass:"fas fa-truck text-primary",class:e.$refs["showDatePicker"].pickerVisible?"":"animated carAnimation slower  text-danger",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.showDate()}}}),s("span",{class:e.$refs["showDatePicker"].pickerVisible?"animated pulse infinite  text-primary":"",staticStyle:{cursor:"pointer"}},[e._v(e._s(e.date)+" ")]),s("hr")]),s("span",{staticClass:"position-fixed",staticStyle:{bottom:"20px",right:"20px","z-index":"1055"}},[s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.trucksNameModal",modifiers:{trucksNameModal:!0}}],staticClass:"fas fa-truck p-4 bg-warning text-dark rounded-circle shadow hoverWarning ",staticStyle:{"font-size":"32px"}})]),s("el-row",[s("el-col",{attrs:{xs:23,sm:23,md:12,lg:8,xl:8}},[s("div",{staticClass:"text-left mx-1 my-2"},[e.multipleSelection.length>1?s("el-select",{staticClass:"mr-3",attrs:{placeholder:"Select"},on:{change:function(t){return e.changeTruck()}},model:{value:e.selectedTruckId,callback:function(t){e.selectedTruckId=t},expression:"selectedTruckId"}},e._l(e.getTrucks,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name+"( Tour "+e.id+" )",value:e.id,disabled:e.disabled}})})),1):e._e(),e.multipleSelection.length>1?s("el-button",{attrs:{type:"success",round:""},on:{click:function(t){return e.insertTruckItem(e.index)}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Speichern")]):e._e()],1),s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.getTruckOrder},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{label:"Plz",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.zipCode))]}}])}),s("el-table-column",{attrs:{property:"setupTime",label:"Zeit",width:"60"}}),s("el-table-column",{attrs:{property:"setupDefinitionId",label:"Tarif",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.showDetails",modifiers:{showDetails:!0}}],staticStyle:{cursor:"pointer"},on:{click:function(s){return e.showDetails(t.row)}}},[e._v(e._s(t.row.setupDefinitonId))])]}}])}),s("el-table-column",{attrs:{property:"isTour",label:"Tour",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{staticClass:"p-2",attrs:{draggable:"true"},on:{dragstart:function(s){return e.startedDrag(t.row,s,"freeItemChange")}}},[s("el-popover",{attrs:{placement:"right",width:"200",trigger:"click"}},[s("span",{staticClass:"text-success",staticStyle:{cursor:"pointer","font-weight":"800"},attrs:{slot:"reference"},slot:"reference"},[e._v("keine Tour")]),s("el-select",{attrs:{placeholder:"Select"},on:{change:function(s){return e.changedSelectManualTruck(t.$index,t.row)}},model:{value:e.selectedManualTruck,callback:function(t){e.selectedManualTruck=t},expression:"selectedManualTruck"}},e._l(e.alltrucks,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name+"( Tour "+e.id+" )",disabled:e.disabled,value:e.id}})})),1)],1),s("i",{staticClass:"fas fa-share text-success"})],1)]}}])})],1)],1),e._l(e.groupTrucks,(function(t,a){return s("el-col",{key:a,attrs:{xs:23,sm:23,offset:1,md:6}},[s("el-card",{staticStyle:{"font-weight":"800"},attrs:{shadow:"always"}},[s("el-row",[s("el-col",{staticClass:"text-center p-2",attrs:{span:24}},[s("span",{staticClass:"rounded-pill p-2 px-3 bg-danger text-white",staticStyle:{"font-weight":"800"}},[e._v(e._s(t.truckName))])]),s("el-col",{staticClass:"text-center",attrs:{span:4}},[e._v("Plz")]),s("el-col",{staticClass:"text-center",attrs:{span:4}},[e._v("Zeit")]),s("el-col",{staticClass:"text-center",attrs:{span:8}},[e._v("Tarif")]),s("el-col",{staticClass:"text-center",attrs:{span:8}},[e._v("Tour")])],1)],1),e._l(t.trucks,(function(a,i){return s("li",{key:i,staticClass:"border",staticStyle:{"list-style":"none"}},[s("div",{staticClass:"p-4 bg-danger",attrs:{draggable:"false"}},[s("el-row",[s("el-col",{staticClass:"text-center p-2",attrs:{span:4}},[s("span",{staticClass:"rounded-pill shadow bg-danger text-white  px-2",staticStyle:{"font-weight":"800"}},[e._v(e._s(a.plz)+" ")])]),s("el-col",{staticClass:"text-center",attrs:{span:4}},[s("span",{staticClass:"rounded-pill shadow bg-orange  text-white p-1 px-2",staticStyle:{"font-weight":"800"}},[e._v(e._s(a.zeit))])]),s("el-col",{staticClass:"text-center",attrs:{span:7}},[s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.showDetails",modifiers:{showDetails:!0}}],staticClass:"rounded-pill bg-light shadow border text-dark p-1 px-2",staticStyle:{"font-weight":"800"},on:{click:function(t){return e.showDetails()}}},[e._v(e._s(a.tarif))])]),s("el-col",{staticClass:"text-center",attrs:{span:7}},[s("span",{staticClass:"rounded-pill bg-light shadow border text-dark p-1 px-2",staticStyle:{"font-weight":"800"}},[e._v("Tour "+e._s(t.truckId))])])],1)],1)])}))],2)})),e._l(e.getTrucksItem,(function(t,a){return s("el-col",{key:a,staticClass:"mt-4 mx-2",attrs:{xs:24,sm:24,md:6,lg:4,xl:3},on:{dragover:function(e){e.preventDefault()},dragenter:function(t){return e.enterDrag()},dragleave:function(t){return e.leaveDrag()},dragend:function(t){return e.endDrag()}}},[s("div",{on:{dragover:function(e){e.preventDefault()},dragenter:function(t){return e.enterDrag()},dragleave:function(t){return e.leaveDrag()},dragend:function(t){return e.endDrag()},drop:function(s){return e.dragFinish(a,s,t.truckId)}}},[s("el-card",{staticClass:"text-center",staticStyle:{"font-weight":"800"},attrs:{shadow:"always"}},[s("div",{staticClass:"text-center p-2"},[e._v(e._s(t.truckName)+" "),s("span",{staticStyle:{"text-decoration":"underline"}},[e._v("("+e._s(t.truckIndex)+")")])]),s("el-row",[s("el-col",{staticClass:"text-orange",attrs:{span:6}},[e._v("Plz")]),s("el-col",{staticClass:"text-success",attrs:{span:6}},[e._v("Zeit")]),s("el-col",{staticClass:"text-danger",attrs:{span:6}},[e._v("Tarif")]),s("el-col",{staticClass:"text-primary",attrs:{span:6}},[e._v("Tour")])],1)],1),e._l(t.data,(function(i,r){return s("li",{key:r,staticClass:"bg-light border shadow py-3 text-center",staticStyle:{"list-style-type":"none","font-weight":"800","font-size":"13px"},attrs:{draggable:"true"},on:{dragstart:function(t){return e.startedDrag(r,t,"itemChange",a)}}},[s("el-row",[s("el-col",{staticClass:"m-0 p-0",attrs:{span:6}},[s("span",{staticClass:"  p-1 px-2"},[e._v(e._s(i.zipCode))])]),s("el-col",{staticClass:"m-0 p-0",attrs:{span:5}},[s("span",{staticClass:" p-1 px-2"},[e._v(e._s(i.setupTime))])]),s("el-col",{staticClass:"m-0 p-0",attrs:{span:6}},[s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.showDetails",modifiers:{showDetails:!0}}],staticClass:" e shadow p-1 px-2",on:{click:function(t){return e.showDetails(i)}}},[e._v(e._s(i.setupDefinitionId))])]),s("el-col",{staticClass:"m-0 p-0",attrs:{span:5}},[s("span",{staticClass:" bg-primary border text-white shadow p-1 px-3"},[e._v("Tour "+e._s(t.truckId))])])],1)],1)}))],2)])}))],2),s("b-modal",{ref:"trucksNameModal",attrs:{id:"trucksNameModal",size:"lg","hide-footer":"",title:"Trucks"}},[s("div",{staticClass:"text-right p-3 my-2"},[s("el-button",{directives:[{name:"b-modal",rawName:"v-b-modal.newDriver",modifiers:{newDriver:!0}}],attrs:{type:"success",round:""}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Neu Fahrer")])],1),s("b-modal",{ref:"newDriver",attrs:{id:"newDriver",size:"lg","hide-footer":"",title:"Neu Fahrer"}},[s("eralp-form",{attrs:{id:"label1"},on:{inputVModel:function(t){e.newDriver.driverName=t}}},[e._v("Fahrer")]),s("div",{staticClass:"text-right p-3 my-2"},[s("el-button",{attrs:{type:"primary",round:""},on:{click:function(t){return e.sendNewDriver()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Speichern")])],1)],1),s("el-card",{staticClass:"text-center",staticStyle:{"font-weight":"800"},attrs:{shadow:"always"}},[s("el-row",[s("el-col",{staticClass:"text-orange",attrs:{span:4}},[e._v("#")]),s("el-col",{staticClass:"text-success",attrs:{span:8}},[e._v("Name")]),s("el-col",{staticClass:"text-danger",attrs:{span:8}},[e._v("Fehrer")]),s("el-col",{staticClass:"text-danger",attrs:{span:4}},[e._v("Edit")])],1)],1),e._l(e.getTrucks,(function(t,a){return s("el-card",{key:a,staticClass:"text-center",staticStyle:{"font-weight":"800"},attrs:{shadow:"always"}},[s("el-row",[s("el-col",{staticClass:"text-orange",attrs:{span:4}},[e._v(e._s(a+1))]),s("el-col",{staticClass:"text-success",attrs:{span:8}},[e._v("Tour "+e._s(a+1))]),s("el-col",{staticClass:"text-danger",attrs:{span:8}},[e._v(e._s(t.name))]),s("el-col",{staticClass:"text-danger",attrs:{span:4}},[s("i",{directives:[{name:"b-modal",rawName:"v-b-modal.editTruck",modifiers:{editTruck:!0}}],staticClass:"mr-3 fas fa-edit text-warning",staticStyle:{"font-size":"24px",cursor:"pointer"},on:{click:function(s){e.editTruck={truckName:t.name,index:a}}}}),s("i",{staticClass:"fas fa-times-circle",staticStyle:{"font-size":"24px",cursor:"pointer"},on:{click:function(s){return e.removeTrucks(a,t.id)}}})])],1)],1)})),s("b-modal",{ref:"editTruck",attrs:{id:"editTruck",title:"Edit Truck","hide-footer":""}},[s("el-row",[s("el-col",[s("div",{staticClass:"eragetTruckslp-form-control"},[s("div",{staticClass:"eralp-input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editTruck.truckName,expression:"editTruck.truckName"}],attrs:{type:"text",required:""},domProps:{value:e.editTruck.truckName},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.editTruckName(e.index,e.indexTruck)},input:function(t){t.target.composing||e.$set(e.editTruck,"truckName",t.target.value)}}}),s("label",[e._v(" Truck ")])])]),s("div",{staticClass:"text-right"},[s("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.editTruckName(e.index,e.indexTruck)}}},[e._v(" Speichern ")])],1)])],1)],1)],2),s("export-pdf-truck",{attrs:{pdfData:e.selectedPdfData}}),s("b-modal",{ref:"showDetails",attrs:{id:"showDetails",size:"lg","hide-footer":""}},[s("el-row",[s("el-col",{attrs:{span:24}},[s("h2",{staticClass:"text-left text-danger",staticStyle:{"text-decoration":"underline"}},[e._v(" Kunde "),s("hr")]),s("div",{staticClass:"text-center border p-3 shadow",staticStyle:{"font-weight":"700"}},[s("p",[e._v(" Vollständiger Name : "+e._s(e.customerDetails.customerName)+" "+e._s(e.customerDetails.customerLastname))]),s("p",[e._v(" Datum : "+e._s(e.customerDetails.setupDate)+" , "+e._s(e.customerDetails.setupTime)+"uhr.")]),s("p",[e._v(" Telefon : "+e._s(e.customerDetails.customerPhone))]),s("p",[e._v(" Straße : "+e._s(e.customerDetails.customerAddress))]),s("p",[e._v(" Altgerat : "+e._s(e.customerDetails.isOldMachine?"Ja":"Nein")+" , Express : "+e._s(e.customerDetails.isExpress?"Ja":"Nein"))]),s("p",[e._v(" Lager : "+e._s(e.customerDetails.isHaus&e.customerDetails.isAus?"Michslager":e.customer.isHaus?"Hauslager":"Außenlager"))])]),s("div",{staticClass:"text-center p-3 "},[s("i",{staticClass:"fas fa-angle-double-down text-success",staticStyle:{"font-size":"40px"}})]),s("div",{staticClass:"text-center mt-2 border p-3 shadow"},[s("p",{staticClass:"text-right mr-5 h4 text-danger",staticStyle:{"text-decoration":"underline","font-weight":"700"}},[s("span",{staticStyle:{float:"left","text-decoration":"underline","font-weight":"700"}},[e._v("Abteilung : "+e._s(e.customerDetails.isWhite?"Weißware":"Brauneware"))]),e._v(" Tarif : "+e._s(e.customerDetails.tarif))]),e._l(e.customerDetails.options,(function(t,a){return s("p",{key:a},[e._v(" "+e._s(a+1)+" - "+e._s(t)+" ")])}))],2)])],1)],1)],1)])},ci=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sk-circle"},[s("div",{staticClass:"sk-circle1 sk-child"}),s("div",{staticClass:"sk-circle2 sk-child"}),s("div",{staticClass:"sk-circle3 sk-child"}),s("div",{staticClass:"sk-circle4 sk-child"}),s("div",{staticClass:"sk-circle5 sk-child"}),s("div",{staticClass:"sk-circle6 sk-child"}),s("div",{staticClass:"sk-circle7 sk-child"}),s("div",{staticClass:"sk-circle8 sk-child"}),s("div",{staticClass:"sk-circle9 sk-child"}),s("div",{staticClass:"sk-circle10 sk-child"}),s("div",{staticClass:"sk-circle11 sk-child"}),s("div",{staticClass:"sk-circle12 sk-child"})])}],ui=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-modal",{ref:"exportPdfTruck",attrs:{id:"exportPdfTruck","hide-footer":"",title:"Önizleme PDF",size:"xl"}},[s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-outline-danger",on:{click:function(t){return e.sendPdf()}}},[s("i",{staticClass:"fas fa-file-pdf"}),e._v(" Download")])]),s("div",{staticClass:"content",staticStyle:{"font-weight":"600!important"},attrs:{id:"pdfExport"}},e._l(e.pdfData,(function(t,a){return s("div",{key:a},[s("table",{staticClass:"w-100 table text-center",attrs:{id:"my-table"+a}},[s("tr"),s("thead",[s("tr",[s("th",[e._v("Zeit")]),s("th",[e._v("Kunde")]),s("th",[e._v("Straße")]),s("th",[e._v("PLZ")]),s("th",[e._v("Beleg")]),s("th",[e._v("Filiale")]),s("th",[e._v("Stk.")]),s("th",[e._v("AG")]),s("th",[e._v("AG")]),s("th",[e._v("AG")])])]),s("tbody",[e._l(t.data,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(t.setupTime))]),s("td",[e._v(e._s(t.customerName)+" "+e._s(t.customerLastname)+" "),s("br"),e._v(" "+e._s(t.orderNote))]),s("td",[e._v(e._s(t.customerAddress)+" "),s("br")]),s("td",[e._v(e._s(t.zipCode)+" "),s("br"),e._v(" Kontakt : "+e._s(t.customerPhone))]),s("td",[e._v(e._s(t.beleg)+" "),s("br"),e._v(" "+e._s(t.isHaus&&t.isAus?"Mischlager":t.isHaus?"Hauslager":"Außenlager"))]),s("td",[e._v(e._s(t.companyId)+" "),s("br"),e._v(" "+e._s(t.tarif))]),s("td",[e._v(e._s("1"))]),s("td",{staticClass:"border"}),s("td",{staticClass:"border"}),s("td",{staticClass:"border"})])})),s("tr",[s("td",{attrs:{colspan:"10"}},[e._v(" Tour "+e._s(t.truckId)+" --- "+e._s(t.truckName)+" --- "+e._s(t.date)+" ")])])],2)])])})),0),s("div",{attrs:{id:"pdf"}})])],1)},di=[];a["default"].use(Bt["a"]);var mi={props:["pdfData"],data:function(){return{data:[{}],toolbarOptions:["PdfExport"]}},methods:{sendPdf:function(){for(var e=new jsPDF("landscape"),t=0;t<this.pdfData.length;t++)e.autoTable({theme:"grid",headStyles:{fillColor:[255,255,255],textColor:[0,0,0]},styles:{cellWidth:"auto"},html:"#my-table"+t}),e.addPage();e.autoPrint(),window.open(e.output("bloburl"),"_blank")}},provide:{grid:[Lt["a"],$t["a"]]}},hi=mi,pi=Object(fe["a"])(hi,ui,di,!1,null,null,null),fi=pi.exports,gi={mixins:[us,xs],components:{exportPdfTruck:fi,eralpForm:es},data:function(){return{customerDetails:[],newDriver:{driverName:""},selectedManualTruck:null,selectedPdfData:[],editTruck:{truckName:"",index:null},multiple:[],dragIndexCustomer:null,pickerOptions:{shortcuts:[{text:"Today",onClick:function(e){e.$emit("pick",new Date)}},{text:"Yesterday",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"A week ago",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},loading:!0,errPoint:[],multipleSelection:[],image:s("ec2d"),checked:[],selectedTruck:[],selectedTruckId:null,multi:[],groupTrucks:[],customer:[],alltrucks:[],index:null,i:null,dragType:null,customerIndex:[],date:null,selectedDate:null,hideHeader:!0,truckSelectedItem:{id:1,truckName:"a"},customerManualIndex:null,truckIndex:null,trucks:[]}},computed:Object(o["a"])({},Object(l["b"])(["getCustomers","getTrucks","getTrucksItem","getTruckOrder"])),watch:{date:function(e){var t=this;this.getTrucks.forEach((function(e){e.disabled=!1})),this.$store.dispatch("initOrdersForTruck",e).then((function(e){"success"==e&&(null!=t.getTruckOrder?(t.$store.state.trucks.trucksItem=[],0!=t.getTruckOrder.length&&t.getTruckOrder.forEach((function(e){if(0!=e.truckId){var s=null,a=[];a.push(e),t.alltrucks.forEach((function(a){a.id==e.truckId&&(t.alltrucks[t.alltrucks.indexOf(a)].disabled=!0,s=a.name)})),t.$store.dispatch("sendTruckOrdersItem",{date:e.setupDate,truckId:e.truckId,truckIndex:"Tour "+e.truckId,truckName:s,data:a}).then((function(s){t.$store.state.trucks.truckOrder.splice(t.getTruckOrder.indexOf(e),1)}))}}))):t.$store.commit("removeTruckItem"))}))},selectedDate:function(e){if(null==e);else{this.customer=[];var t=N(e);P(t);this.date=t}},multipleSelection:function(e){if(0!=e.length)for(var t=0;t<this.getTruckOrder.length;t++)this.getTruckOrder[t].id==e[e.length-1].id&&this.customerIndex.push(t)},selectedManualTruck:function(e){for(var t,s,a=0;a<this.alltrucks.length;a++)this.getTrucks[a].id==e&&(t=this.alltrucks[a].id,s=this.alltrucks[a].name,this.i=a);this.truckSelectedItem.id=t,this.truckSelectedItem.truckName=s}},methods:{showDetails:function(e){this.customerDetails=e},sendNewDriver:function(){var e=this;$("#label1").removeClass("borderError"),""==this.newDriver.driverName?(setTimeout((function(){e.$notify({title:"Error",message:"ungültig Fehrer",type:"error"})}),150),$("#label1").addClass("borderError")):(this.$store.dispatch("sendNewDriver",this.newDriver.driverName),this.$refs["newDriver"].hide())},selectedPdfDataMethod:function(){this.selectedPdfData=this.getTrucksItem},removeItem:function(e,t){this.$store.state.trucks.truckOrder.push(this.getTrucksItem[e].data[t]),this.getTrucksItem[e].data.splice(t,1)},editTruckName:function(){this.getTrucks[this.editTruck.index].name=this.editTruck.truckName,this.$refs["editTruck"].hide()},changedSelectManualTruck:function(e,t){var s=this,a=[];a.push(t),setTimeout((function(){s.$store.dispatch("sendTruckItem",{date:s.date,truckId:s.truckSelectedItem.id,truckIndex:"Tour "+s.truckSelectedItem.id,truckName:s.truckSelectedItem.truckName,data:a}),s.$store.state.trucks.truckOrder.splice(e,1),s.alltrucks[s.i].disabled=!0}),500)},startedDrag:function(e,t,s,a){this.dragType=s,this.dragIndexCustomer=e,this.truckIndex=a,console.log(this.dragIndexCustomer,this.truckIndex)},enterDrag:function(e){},leaveDrag:function(e){},endDrag:function(e){},dragFinish:function(e,t,s){var a,i=this;console.log(e,t,"end",s),"freeItemChange"==this.dragType?(a=this.getTruckOrder[this.dragIndexCustomer].id,ue("orders",a,{truckId:s}).then((function(t){1==t.result&&(i.$store.state.trucks.truckOrder.splice(i.dragIndexCustomer,1),i.getTrucksItem[e].data.push(i.getTruckOrder[i.dragIndexCustomer]))}))):(a=this.getTrucksItem[this.truckIndex].data[this.dragIndexCustomer].id,ue("orders",a,{truckId:s}).then((function(t){1==t.result&&(i.getTrucksItem[e].data.push(i.getTrucksItem[i.truckIndex].data[i.dragIndexCustomer]),i.getTrucksItem[i.truckIndex].data.splice(i.dragIndexCustomer,1))})))},showDate:function(){this.$refs["showDatePicker"].showPicker()},getIndex:function(e){},changeTruck:function(e){for(var t,s=this,a=0;a<this.getTrucks.length;a++)this.getTrucks[a].id==this.selectedTruckId&&(this.index=a);this.getTrucks.filter((function(e){s.selectedTruckId==e.id&&(t=e.name)})),this.selectedTruck={id:this.selectedTruckId,name:t}},removeTrucks:function(e,t){var s=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){s.$store.dispatch("removeTruck",{index:e,id:t}),s.$message({type:"success",message:"Delete completed"})})).catch((function(){s.$message({type:"info",message:"Delete canceled"})}))},insertTruckItem:function(e){var t=new Date,s=N(t);s=P(s),this.$store.dispatch("sendTruckItem",{date:s,truckId:this.selectedTruck.id,truckIndex:"Tour "+(e+1),truckName:this.selectedTruck.name,data:this.multipleSelection}),this.alltrucks[this.index].disabled=!0,this.customerIndex.sort(),this.customerIndex.reverse();for(var a=0;a<this.customerIndex.length;a++)this.$store.state.trucks.truckOrder.splice(this.customerIndex[a],1);this.customerIndex=[],this.$refs.multipleTable.clearSelection()},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},setTruck:function(e){var t,s=[];s=this.$store.getters.getTrucksItem(e),this.getTrucks.filter((function(s){s.id==e&&(t=s.name)})),this.groupTrucks.push({truckId:s[0].truckId,truckName:t,trucks:s})}},created:function(){var e=new Date,t=N(e);this.date=t},mounted:function(){var e=this;this.$store.dispatch("initTruckTable").then((function(t){e.trucks=t.body,"success"==t.result&&(e.alltrucks=e.getTrucks,setTimeout((function(){e.loading=!1,setTimeout((function(){e.hideHeader=!1}),250)}),1500))}))}},bi=gi,vi=(s("23dd"),Object(fe["a"])(bi,li,ci,!1,null,null,null)),ki=vi.exports,wi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-wrap animated slideInDown"},[s("div",{staticClass:"login-html"},[s("input",{staticClass:"sign-in",attrs:{id:"tab-1",type:"radio",name:"tab",checked:""}}),s("label",{staticClass:"tab",attrs:{for:"tab-1"}},[e._v("Sign In")]),s("input",{staticClass:"sign-up",attrs:{id:"tab-2",type:"radio",name:"tab"}}),s("label",{staticClass:"tab",attrs:{for:"tab-2"}},[e._v("Sign Up")]),s("div",{staticClass:"login-form"},[s("div",{staticClass:"sign-in-htm"},[s("div",{staticClass:"group"},[s("label",{staticClass:"label",attrs:{for:"user"}},[e._v("Username")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"input",attrs:{id:"user",type:"text"},domProps:{value:e.user.username},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()},input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),s("div",{staticClass:"group"},[s("label",{staticClass:"label",attrs:{for:"pass"}},[e._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"input",attrs:{id:"pass",type:"password","data-type":"password"},domProps:{value:e.user.password},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()},input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e._m(0),s("div",{staticClass:"group"},[s("button",{staticClass:"button",on:{click:function(t){return e.login()}}},[e._v("Giriş Yap")])]),s("div",{staticClass:"hr"})])])])])},yi=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"group"},[s("input",{staticClass:"check",attrs:{id:"check",type:"checkbox",checked:""}}),s("label",{attrs:{for:"check"}},[s("span",{staticClass:"icon"}),e._v(" Keep me Signed in")])])}],Ci={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var e=this;me("login",{username:this.user.username,password:this.user.password}).then((function(t){null!=t.TOKEN&&ne("auth",{username:e.user.username,password:e.user.password}).then((function(t){e.$store.dispatch("toLogin",Object(o["a"])({},e.user,{tokenNa:t.token,tokenHa:t.TOKEN})).then((function(t){"success"==t&&e.$router.push("/index")}))})),null==t.TOKEN&&null!=t.error&&e.$notify({title:"ERROR",message:"Ungültiger Benutzername oder Passwort.",type:"error"})}))}},mounted:function(){localStorage.token&&this.$router.push("/")}},xi=Ci,_i=(s("ab14"),Object(fe["a"])(xi,wi,yi,!1,null,"024d1cb6",null)),Ii=_i.exports,Si=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("el-row",[e._e()],1),s("el-table",{staticClass:"border shadow p-3",staticStyle:{width:"100%"},attrs:{data:e.getTarifeTable,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{prop:"department",label:"Abteilung",sortable:"",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.isWhite?"Weißware":"Brauneware")+" ")]}}])}),s("el-table-column",{attrs:{prop:"tarif",label:"Tarif",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),e.edited?s("el-table-column",{attrs:{prop:"description",label:"Beschreibung",width:"1400px"}}):e._e(),s("el-table-column",{attrs:{prop:"edit",label:"Bearbeiten"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"b-modal",rawName:"v-b-modal.editDescription",modifiers:{editDescription:!0}}],on:{click:function(s){return e.editDesc(t.row,t.$index)}}},[s("i",{staticClass:"el-icon-edit bg-warning text-dark p-2 rounded-circle",staticStyle:{"font-size":"18px"}})]),e._e()]}}])})],1),s("b-modal",{ref:"newPackageDescription",attrs:{id:"newPackageDescription",size:"xl",title:"Extra Large Modal","hide-footer":""}},[s("el-row",[s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Abteilung : ")]),s("el-select",{attrs:{id:"label3",placeholder:"Select"},on:{change:e.isitWhite},model:{value:e.newDesc.isWhite,callback:function(t){e.$set(e.newDesc,"isWhite",t)},expression:"newDesc.isWhite"}},e._l(e.optionsPackage,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Tarif : ")]),s("el-select",{attrs:{disabled:null==e.newDesc.isWhite,id:"label1",placeholder:"Select"},model:{value:e.newDesc.parentId,callback:function(t){e.$set(e.newDesc,"parentId",t)},expression:"newDesc.parentId"}},e._l(e.tarifeTable,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-col",{staticClass:"shadow mt-5 border",attrs:{span:22,offset:1}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newDesc.description,expression:"newDesc.description"}],staticClass:"form-control p-3",attrs:{name:"",id:"label2",cols:"30",rows:"10"},domProps:{value:e.newDesc.description},on:{input:function(t){t.target.composing||e.$set(e.newDesc,"description",t.target.value)}}})]),s("el-col",{staticClass:"text-right mt-5",attrs:{span:22,offset:1}},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.sendNewPackageDescription()}}},[e._v("Speichern")])])],1)],1),s("b-modal",{ref:"editDescription",attrs:{id:"editDescription",size:"xl",title:"Extra Large Modal","hide-footer":""}},[s("el-row",[s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Abteilung : ")]),e._v(" "+e._s(e.selectedEditDesc.isWhite?"Weißware":"Brauneware")+" ")]),s("el-col",{staticClass:"text-center",attrs:{span:12}},[s("strong",{staticStyle:{"font-weight":"700"}},[e._v("Tarif : ")]),e._v(" "+e._s(e.selectedEditDesc.name)+" ")]),s("el-col",{staticClass:"shadow mt-5 border",attrs:{span:22,offset:1}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedEditDesc.description,expression:"selectedEditDesc.description"}],staticClass:"form-control p-3",attrs:{id:"label6",name:"",cols:"30",rows:"10"},domProps:{value:e.selectedEditDesc.description},on:{input:function(t){t.target.composing||e.$set(e.selectedEditDesc,"description",t.target.value)}}})]),s("el-col",{staticClass:"text-right mt-5",attrs:{span:22,offset:1}},[s("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){return e.sendEditPackageDescription()}}},[e._v("Speichern")])])],1)],1)],1)])},Ti=[],Pi={data:function(){return{errPoint:[],loading:!0,newDesc:{parentId:"",description:"",isWhite:null},optionsType:[{value:1,label:"Standart"},{value:2,label:"Komfort"},{value:3,label:"Premium"},{value:4,label:"Techn. Hilfe"}],optionsType2:[{value:5,label:"Standart"},{value:6,label:"Komfort"},{value:7,label:"Premium"},{value:8,label:"Techn. Hilfe"}],optionsPackage:[{value:!0,label:"Weißware"},{value:!1,label:"Brauneware"}],selectedEditDesc:[],tarifeTable:[],type:[],index:null,edited:!0}},mixins:[us,xs],computed:Object(o["a"])({},Object(l["b"])(["getPackageDescriptionTable","getTarifeTable"])),methods:{deleteDesc:function(e){var t=this;this.$confirm("This will permanently delete the file. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){de("setupDefinition",e).then((function(e){t.$message({type:"success",message:"Delete completed"})}))})).catch((function(){t.$message({type:"info",message:"Delete canceled"})}))},isitWhite:function(e){var t=this;this.tarifeTable=[],this.getTarifeTable.forEach((function(s){e==s.isWhite&&t.tarifeTable.push(s)}))},editDesc:function(e,t){var s=this;this.tarifeTable=[],this.getTarifeTable.forEach((function(t){e.isWhite==t.isWhite&&s.tarifeTable.push(t)}));var a="",i="";e.isWhite?(a="Weißware",1==e.parentId&&(i="Standart"),2==e.parentId&&(i="Komfort"),3==e.parentId&&(i="Premium"),4==e.parentId&&(i="Tech. Hilfe")):(a="Brauneware",5==e.parentId&&(i="Standart"),6==e.parentId&&(i="Komfort"),7==e.parentId&&(i="Premium"),8==e.parentId&&(i="Tech. Hilfe")),this.selectedEditDesc=Object(o["a"])({},e,{tarif:i,department:a}),this.index=t},sendEditPackageDescription:function(){for(var e=this,t=0;t<this.errPoint.length;t++)$(this.errPoint[t].label).removeClass("borderError");if(this.errPoint=[],""==this.selectedEditDesc.id&&this.errPoint.push({err:"ungültig Tarif",label:"#label4"}),""==this.selectedEditDesc.description&&this.errPoint.push({err:"ungültig Beschreibung",label:"#label5"}),null==this.selectedEditDesc.isWhite&&this.errPoint.push({err:"ungültig Abteilung",label:"#label6"}),0==this.errPoint.length)this.$store.dispatch("sendEditPackageDescription",this.selectedEditDesc).then((function(t){"success"==t&&(e.$store.state.branch.tarifeTable[e.index]=e.selectedEditDesc,e.edited=!1,setTimeout((function(){e.edited=!0}),500),e.$notify({title:"Erfolg",message:"Die Paketbeschreibung wurde erfolgreich aktualisiert.",type:"success"}),e.$refs.editDescription.hide())}));else for(var s=function(t){setTimeout((function(){e.$notify({title:"Error",message:e.errPoint[t].err,type:"error"})}),50*t),$(e.errPoint[t].label).addClass("borderError")},a=0;a<this.errPoint.length;a++)s(a)},sendNewPackageDescription:function(){for(var e=this,t=0;t<this.errPoint.length;t++)$(this.errPoint[t].label).removeClass("borderError");if(this.errPoint=[],""==this.newDesc.id&&this.errPoint.push({err:"ungültig Tarif",label:"#label1"}),""==this.newDesc.description&&this.errPoint.push({err:"ungültig Beschreibung",label:"#label2"}),""==this.newDesc.isWhite&&this.errPoint.push({err:"ungültig Abteilung",label:"#label3"}),0==this.errPoint.length)this.$store.dispatch("pushPackageDescriptionTable",this.newDesc).then((function(t){"success"==t&&(e.$notify({title:"Erfolg",message:"Die Paketbeschreibung wurde erfolgreich aktualisiert.",type:"success"}),e.$refs.newPackageDescription.hide())}));else for(var s=function(t){setTimeout((function(){e.$notify({title:"Error",message:e.errPoint[t].err,type:"error"})}),50*t),$(e.errPoint[t].label).addClass("borderError")},a=0;a<this.errPoint.length;a++)s(a)}}},Ni=Pi,Ai=(s("3301"),Object(fe["a"])(Ni,Si,Ti,!1,null,null,null)),Di=Ai.exports,Bi=[{path:"/",component:Re,redirect:"/index",children:[{path:"index",name:"Startseite",component:ps},{path:"overview",name:"Ubersicht",component:ti},{path:"truck",name:"Plainen & Drucken",component:ki},{path:"permission",name:"Sonderzeiten",component:Ts},{path:"company",name:"Filliale",component:Ms},{path:"userList",name:"Userverwaltung und Erstellen",component:oa},{path:"status",name:"Status",component:ha},{path:"repassword",name:"Passwort",component:ka},{path:"packageDescription",name:"Paketbeschreibung",component:Di},{path:"tarife",name:"Tarife",component:oi}]},{path:"/login",name:"Login",component:Ii}],Li=Bi,$i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeDropDown,expression:"closeDropDown"}],staticClass:"dropdown",class:{open:e.isOpen},on:{click:e.toggleDropDown}},[e._t("title",[s("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"javascript:void(0)"}},[s("i",{class:e.icon}),s("p",{staticClass:"notification"},[e._v(" "+e._s(e.title)+" "),s("b",{staticClass:"caret"})])])]),e._t("default")],2)},Ei=[],Oi={name:"drop-down",props:{title:String,icon:String},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.isOpen=!this.isOpen},closeDropDown:function(){this.isOpen=!1}}},Ui=Oi,zi=Object(fe["a"])(Ui,$i,Ei,!1,null,null,null),Mi=zi.exports,ji={install:function(e){e.component("drop-down",Mi)}},Hi=ji,Fi=s("c7db"),Wi={install:function(e){e.directive("click-outside",Fi["directive"])}},Gi=Wi,Vi=s("ecee"),qi=s("c074"),Ri=s("ad3d"),Ki=s("5c96"),Zi=s.n(Ki),Qi=(s("0fae"),s("22f4")),Ji=s.n(Qi),Yi=s("5f5b"),Xi=s("b1e0"),er=s("3dc6"),tr=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar",style:e.sidebarStyle,attrs:{"data-color":e.activeColor,"data-image":e.backgroundImage}},[s("div",{staticClass:"logo"},[s("a",{staticClass:"simple-text logo-mini",attrs:{href:"#"}},[s("div",{staticClass:"logo-img"},[s("img",{attrs:{src:e.imgLogo,alt:""}})])]),s("a",{staticClass:"simple-text logo-normal",attrs:{href:"#/index"}},[e._v(" "+e._s(e.title)+" ")])]),s("div",{staticClass:"sidebar-wrapper"},[e._t("content"),s("md-list",{staticClass:"nav"},[e._t("default",e._l(e.sidebarLinks,(function(e,t){return s("sidebar-link",{key:e.name+t,attrs:{to:e.path,link:e}})})))],2)],2)])},sr=[],ar=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"md-list-item"},[s("router-link",e._b({attrs:{exact:"","active-class":"bg-primary"},on:{click:e.hideSidebar}},"router-link",e.$attrs,!1),[s("div",{staticClass:"md-list-item-content md-ripple"},[e._t("default",[s("md-icon",[e._v(e._s(e.link.icon))]),s("p",[e._v(e._s(e.link.name))])])],2)])],1)},ir=[],rr={inject:{autoClose:{default:!0}},props:{link:{type:[String,Object],default:function(){return{name:"",path:"",icon:""}}},tag:{type:String,default:"router-link"}},methods:{hideSidebar:function(){this.autoClose&&this.$sidebar&&!0===this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)}}},nr=rr,or=(s("26aa"),Object(fe["a"])(nr,ar,ir,!1,null,null,null)),lr=or.exports,cr={components:{SidebarLink:lr},props:{title:{type:String,default:"Eralp Soft"},backgroundImage:{type:String,default:s("b9e9")},imgLogo:{type:String,default:s("21e4")},activeColor:{type:String,default:"green",validator:function(e){var t=["","purple","blue","green","orange","red"];return-1!==t.indexOf(e)}},sidebarLinks:{type:Array,default:function(){return[]}},autoClose:{type:Boolean,default:!0}},provide:function(){return{autoClose:this.autoClose}},computed:{sidebarStyle:function(){return{backgroundImage:"url(".concat(this.backgroundImage,")")}}}},ur=cr,dr=(s("0efd"),Object(fe["a"])(ur,tr,sr,!1,null,null,null)),mr=dr.exports,hr={showSidebar:!1,displaySidebar:function(e){this.showSidebar=e}},pr={install:function(e){e.mixin({data:function(){return{sidebarStore:hr}}}),Object.defineProperty(e.prototype,"$sidebar",{get:function(){return this.$root.sidebarStore}}),e.component("side-bar",mr),e.component("sidebar-link",lr)}},fr=pr,gr=s("43f9"),br=s.n(gr),vr=(s("51de"),s("9e17"),s("54ba"),{install:function(e){e.use(fr),e.use(br.a)}}),kr=s("ba48"),wr=s.n(kr);a["default"].use(Bt["a"]),a["default"].use(er["a"]),a["default"].use(Yi["a"]),a["default"].use(Xi["a"]),a["default"].use(Zi.a,{locale:Ji.a}),Vi["c"].add(qi["a"]),a["default"].component("font-awesome-icon",Ri["a"]);var yr=new i["a"]({routes:Li,linkExactActiveClass:"nav-item active"});a["default"].prototype.$Chartist=wr.a,a["default"].use(i["a"]),a["default"].use(vr),a["default"].use(Hi),a["default"].use(Gi),new a["default"]({el:"#app",render:function(e){return e(be)},router:yr,store:ee,data:{Chartist:wr.a}})},"634d":function(e,t,s){"use strict";var a=s("4020"),i=s.n(a);i.a},7234:function(e,t,s){},"738c":function(e,t,s){},"7fcd":function(e,t,s){},"81f6":function(e,t,s){"use strict";var a=s("7234"),i=s.n(a);i.a},"85ec":function(e,t,s){},"8de7":function(e,t,s){},"933f":function(e,t,s){},"956c":function(e,t,s){},"9abe":function(e,t,s){"use strict";var a=s("24de"),i=s.n(a);i.a},"9e17":function(e,t,s){},a028:function(e,t,s){"use strict";var a=s("1432"),i=s.n(a);i.a},a493:function(e,t,s){},ab14:function(e,t,s){"use strict";var a=s("0acc"),i=s.n(a);i.a},b5fd:function(e,t,s){},b9e9:function(e,t,s){e.exports=s.p+"img/galata.7e6b8414.jpg"},c9c1:function(e,t,s){"use strict";var a=s("956c"),i=s.n(a);i.a},cd1f:function(e,t,s){},d164:function(e,t,s){"use strict";var a=s("eee8"),i=s.n(a);i.a},de4b:function(e,t,s){"use strict";var a=s("8de7"),i=s.n(a);i.a},e8bb:function(e,t,s){"use strict";var a=s("46c7"),i=s.n(a);i.a},ec2d:function(e,t,s){e.exports=s.p+"img/truck.b4cbc5a6.png"},eee8:function(e,t,s){}});
//# sourceMappingURL=app.8d48e4c5.js.map